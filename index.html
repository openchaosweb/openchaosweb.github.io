<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>OpenChaosWeb - The world’s most unpredictable homepage</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <div class="neon-container">
            <h1 class="neon-text">Welcome to OpenChaosWeb</h1>
        </div>
        <style>
            h1.neon-text {
                font-family: "Nunito", sans-serif;
                font-size: 1.25rem;
                text-align: center;
                color: #fff;
                text-shadow: 0 0 5px #ff005e, 0 0 10px #ff005e, 0 0 20px #ff005e, 0 0 40px #ff005e, 0 0 80px #ff005e;
                animation: glow 1.5s infinite alternate;
            }
            @keyframes glow {
                0% {
                    text-shadow: 0 0 5px #ff005e, 0 0 10px #ff005e, 0 0 20px #ff005e, 0 0 40px #ff005e, 0 0 80px #ff005e;
                }
                100% {
                    text-shadow: 0 0 10px #00d4ff, 0 0 20px #00d4ff, 0 0 40px #00d4ff, 0 0 80px #00d4ff, 0 0 160px #00d4ff;
                }
            }

            @media (min-width:320px) { /* smartphones, portrait iPhone, portrait 480x320 phones (Android) */ }
            @media (min-width:480px) { /* smartphones, Android phones, landscape iPhone */ }
            @media (min-width:600px) { /* portrait tablets, portrait iPad, e-readers (Nook/Kindle), landscape 800x480 phones (Android) */
            h1.neon-text {
                 font-size: 4rem;
            }

            }
            @media (min-width:801px) { /* tablet, landscape iPad, lo-res laptops ands desktops */ }
            @media (min-width:1025px) { /* big landscape tablets, laptops, and desktops */ }
            @media (min-width:1281px) { /* hi-res laptops and desktops */ }

        </style>
        <h3 id= "sub_title">The world’s most unpredictable homepage</h3>
        <style>
            #sub_title {
                font-family: "Nunito", sans-serif;
                font-size: 0.85rem;
                font-weight: 500;
                text-align: center;
                position: fixed;
                width: 150px;
                height: 150px;
                bottom: 10px;
                color: #f8f6f1;
                padding-top: 50px;
                padding-left: 20px;
                background-color: #ff4282;
                left: 10px;
                border: 2px dotted #ffc107;
                outline: 2px dashed #ffc107;
                outline-offset: 6px;
                border-top-right-radius: 50%;
                border-bottom-left-radius: 50%;
                animation: scale 3s infinite;
                font-family: 'Viaoda Libre', cursive;
                font-size: 18px;
                font-weight: bold;
                z-index: 1000;
            }

            @keyframes scale {
              0% {
                transform: scale(1);
                outline: 3px dashed #ffc107;
              }

              50% {
                transform: scale(1.051);
                outline: 6px dashed #f2ac46;
              }

              100% {
                transform: scale(1);
                outline: 2px dashed #ffc107;
              }
            }

            #sub_title:before {
                 content: "";
                 background-color: blue;
                 position: absolute;
                 background-color: bisque;
                 width: 50px;
                 height: 50px;
                 left: 103px;
                 top: -7px;
                 /* z-index: -5; */
                 border-top-right-radius: 50%;
                 border-bottom-left-radius: 50%;
                 animation: rotating 4s infinite;
               }

               @keyframes rotating {
                 0% {
                   transform: rotate(0deg);
                 }

                 100% {
                   transform: rotate(3600deg);
                 }

               }

               #sub_title:after {
                 content: "";
                 background-color: blue;
                 position: absolute;
                 background-color: bisque;
                 width: 50px;
                 height: 50px;
                 left: -8px;
                 top: 104px;
                 border-top-right-radius: 50%;
                 border-bottom-left-radius: 50%;
                 animation: rotatingreverse 3s alternate infinite;
               }

               @keyframes rotatingreverse {
                 0% {
                   transform: rotate(0deg);
                 }

                 100% {
                   transform: rotate(3600deg);
                 }

               }
        </style>

        <!-- == SLOT 1 == -->
        <div id="slot-1">
            <style>
                #slot-1 {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    padding: 20px;
                }

                #slot-1 .slot1-flag-container {
                    width: 100%;
                    max-width: 500px;
                    aspect-ratio: 3 / 2;
                    background: #000;
                    border-radius: 0px;
                    overflow: hidden;
                }

                #slot-1 .slot1-canvas {
                    width: 100%;
                    height: 100%;
                    display: block;
                }
            </style>

            <div class="slot1-flag-container">
                <canvas class="slot1-canvas" id="slot1-canvas"></canvas>
            </div>

            <script>
                (function() {
                    const slot1_container = document.getElementById('slot-1');
                    const slot1_canvas = document.getElementById('slot1-canvas');
                    const slot1_ctx = slot1_canvas.getContext('2d', { alpha: false });

                    // Mobile detection
                    const slot1_isMobile = window.matchMedia('(max-width: 768px)').matches;
                    const slot1_cols = slot1_isMobile ? 100 : 200;
                    const slot1_rows = slot1_isMobile ? 66 : 133;

                    // Get actual display size
                    const slot1_rect = slot1_canvas.getBoundingClientRect();
                    const slot1_dpr = window.devicePixelRatio || 1;

                    // Set canvas resolution to match display size with device pixel ratio
                    slot1_canvas.width = slot1_rect.width * slot1_dpr;
                    slot1_canvas.height = slot1_rect.height * slot1_dpr;

                    // Calculate pixel size in canvas coordinates
                    const slot1_pixelWidth = slot1_canvas.width / slot1_cols;
                    const slot1_pixelHeight = slot1_canvas.height / slot1_rows;

                    // Disable image smoothing for crisp pixels
                    slot1_ctx.imageSmoothingEnabled = false;

                    // Colors
                    const slot1_red = '#DA251D';
                    const slot1_yellow = '#FFCD00';

                    // Lazy loading với Intersection Observer
                    function slot1_init() {

                    // Tính toán ngôi sao 5 cánh
                    const slot1_centerX = slot1_cols / 2;
                    const slot1_centerY = slot1_rows / 2;
                    const slot1_outerRadius = (slot1_rows * 3) / 10;
                    const slot1_innerRadius = slot1_outerRadius * 0.382;

                    // Tạo 5 điểm ngoài và 5 điểm trong của ngôi sao
                    function slot1_getStarPoints() {
                        const points = [];
                        for (let i = 0; i < 5; i++) {
                            const outerAngle = (Math.PI / 2) + (i * 2 * Math.PI / 5);
                            const innerAngle = outerAngle + (Math.PI / 5);

                            points.push({
                                x: slot1_centerX + slot1_outerRadius * Math.cos(outerAngle),
                                y: slot1_centerY - slot1_outerRadius * Math.sin(outerAngle)
                            });

                            points.push({
                                x: slot1_centerX + slot1_innerRadius * Math.cos(innerAngle),
                                y: slot1_centerY - slot1_innerRadius * Math.sin(innerAngle)
                            });
                        }
                        return points;
                    }

                    // Kiểm tra điểm có nằm trong polygon không (Ray casting algorithm)
                    function slot1_isPointInPolygon(x, y, points) {
                        let inside = false;
                        for (let i = 0, j = points.length - 1; i < points.length; j = i++) {
                            const xi = points[i].x, yi = points[i].y;
                            const xj = points[j].x, yj = points[j].y;

                            const intersect = ((yi > y) !== (yj > y))
                                && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
                            if (intersect) inside = !inside;
                        }
                        return inside;
                    }

                    const slot1_starPoints = slot1_getStarPoints();

                    // Pixel art cho chữ "VIETNAM" (5×7 mỗi chữ - căn giữa hoàn hảo)
                    const slot1_vietnam = {
                        'V': [
                            [1,0,0,0,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1],
                            [0,1,0,1,0],
                            [0,0,1,0,0]
                        ],
                        'I': [
                            [1,1,1,1,1],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [1,1,1,1,1]
                        ],
                        'E': [
                            [1,1,1,1,1],
                            [1,0,0,0,0],
                            [1,0,0,0,0],
                            [1,1,1,1,0],
                            [1,0,0,0,0],
                            [1,0,0,0,0],
                            [1,1,1,1,1]
                        ],
                        'T': [
                            [1,1,1,1,1],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [0,0,1,0,0],
                            [0,0,1,0,0]
                        ],
                        'N': [
                            [1,0,0,0,1],
                            [1,1,0,0,1],
                            [1,1,0,0,1],
                            [1,0,1,0,1],
                            [1,0,0,1,1],
                            [1,0,0,1,1],
                            [1,0,0,0,1]
                        ],
                        'A': [
                            [0,0,1,0,0],
                            [0,1,0,1,0],
                            [1,0,0,0,1],
                            [1,1,1,1,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1]
                        ],
                        'M': [
                            [1,0,0,0,1],
                            [1,1,0,1,1],
                            [1,0,1,0,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1],
                            [1,0,0,0,1]
                        ]
                    };

                    const slot1_text = 'VIETNAM';

                    // Scale font size for mobile
                    const slot1_margin = slot1_isMobile ? 4 : 8; // Smaller margin on mobile
                    const slot1_charWidth = 5;
                    const slot1_charSpacing = 1; // 1 pixel spacing between characters
                    const slot1_textWidth = slot1_text.length * slot1_charWidth + (slot1_text.length - 1) * slot1_charSpacing;
                    const slot1_startCol = slot1_cols - slot1_margin - slot1_textWidth;
                    const slot1_startRow = slot1_margin;

                    // Use Uint8Array for better performance (0 = red, 1 = yellow)
                    const slot1_totalPixels = slot1_rows * slot1_cols;
                    const slot1_pixels = new Uint8Array(slot1_totalPixels);

                    // Tính toán chữ VIETNAM - dùng Set với index thay vì string
                    const slot1_textPositions = new Set();
                    let slot1_currentCol = slot1_startCol;

                    for (let i = 0; i < slot1_text.length; i++) {
                        const char = slot1_text[i];
                        const matrix = slot1_vietnam[char];

                        for (let r = 0; r < 7; r++) {
                            for (let c = 0; c < 5; c++) {
                                if (matrix[r][c] === 1) {
                                    const row = slot1_startRow + r;
                                    const col = slot1_currentCol + c;
                                    slot1_textPositions.add(row * slot1_cols + col);
                                }
                            }
                        }

                        slot1_currentCol += slot1_charWidth + slot1_charSpacing;
                    }

                    // Fill pixels data - optimize: check text first (smaller set)
                    for (let index = 0; index < slot1_totalPixels; index++) {
                        if (slot1_textPositions.has(index)) {
                            slot1_pixels[index] = 1; // Yellow
                        } else {
                            const col = index % slot1_cols;
                            const row = (index / slot1_cols) | 0; // Faster than Math.floor
                            const cellX = col + 0.5;
                            const cellY = row + 0.5;

                            slot1_pixels[index] = slot1_isPointInPolygon(cellX, cellY, slot1_starPoints) ? 1 : 0;
                        }
                    }

                    // Helper to draw a pixel
                    function slot1_drawPixel(index) {
                        const col = index % slot1_cols;
                        const row = (index / slot1_cols) | 0;
                        slot1_ctx.fillRect(
                            col * slot1_pixelWidth,
                            row * slot1_pixelHeight,
                            slot1_pixelWidth,
                            slot1_pixelHeight
                        );
                    }

                    // Animation with Canvas
                    const slot1_prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

                    if (slot1_prefersReducedMotion) {
                        // Draw all pixels immediately - group by color
                        slot1_ctx.fillStyle = slot1_red;
                        for (let i = 0; i < slot1_totalPixels; i++) {
                            if (slot1_pixels[i] === 0) slot1_drawPixel(i);
                        }
                        slot1_ctx.fillStyle = slot1_yellow;
                        for (let i = 0; i < slot1_totalPixels; i++) {
                            if (slot1_pixels[i] === 1) slot1_drawPixel(i);
                        }
                    } else {
                        // Create shuffled index array for random rendering
                        const slot1_indices = new Uint32Array(slot1_totalPixels);
                        for (let i = 0; i < slot1_totalPixels; i++) {
                            slot1_indices[i] = i;
                        }

                        // Fisher-Yates shuffle
                        for (let i = slot1_totalPixels - 1; i > 0; i--) {
                            const j = (Math.random() * (i + 1)) | 0;
                            const temp = slot1_indices[i];
                            slot1_indices[i] = slot1_indices[j];
                            slot1_indices[j] = temp;
                        }

                        // Animate pixels in random order
                        let slot1_currentPixel = 0;
                        const slot1_batchSize = slot1_isMobile ? 100 : 200;
                        const slot1_delay = slot1_isMobile ? 0.02 : 0.01;

                        function slot1_drawNextPixel() {
                            if (slot1_currentPixel >= slot1_totalPixels) return;

                            const slot1_endPixel = Math.min(slot1_currentPixel + slot1_batchSize, slot1_totalPixels);

                            // Group by color in this batch for efficiency
                            slot1_ctx.fillStyle = slot1_red;
                            for (let i = slot1_currentPixel; i < slot1_endPixel; i++) {
                                const index = slot1_indices[i];
                                if (slot1_pixels[index] === 0) slot1_drawPixel(index);
                            }

                            slot1_ctx.fillStyle = slot1_yellow;
                            for (let i = slot1_currentPixel; i < slot1_endPixel; i++) {
                                const index = slot1_indices[i];
                                if (slot1_pixels[index] === 1) slot1_drawPixel(index);
                            }

                            slot1_currentPixel = slot1_endPixel;

                            if (slot1_currentPixel < slot1_totalPixels) {
                                setTimeout(slot1_drawNextPixel, slot1_delay);
                            }
                        }

                        slot1_drawNextPixel();
                    }
                    } // End slot1_init

                    // Use Intersection Observer for lazy loading
                    if ('IntersectionObserver' in window) {
                        const slot1_observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    slot1_init();
                                    slot1_observer.disconnect(); // Only init once
                                }
                            });
                        }, {
                            rootMargin: '50px' // Start loading 50px before visible
                        });

                        slot1_observer.observe(slot1_container);
                    } else {
                        // Fallback for old browsers
                        slot1_init();
                    }
                })();
            </script>
        </div>

        <!-- == SLOT 2 == -->
        <div id="slot-2">
            <p>
                Chao xìn. Một trang web thật tuyệt vời. Nếu đọc tới dòng này thì
                xin chúc mừng, mời bác phát âm "cache" giống "cash" giúp tôi.
            </p>
            <style>
                #slot-2 {
                    font-family: "Nunito", sans-serif;
                    font-size: 1rem;
                   padding: 2px;

                }
            </style>
            <script>
                const slot_2 = document.querySelector("#slot-2");
                slot_2.style.color = `red`;
                slot_2.height = `5px`;
                slot_2.style.maxWidth = `25px`;
                // Code ghi đè slot-1 đã bị xóa để bảo vệ cờ Việt Nam
            </script>
        </div>

        <!-- == SLOT 3 == -->
        <div id="slot-3">
            <div class="fsqjs">
                <a class="fsqjs-ghlink" href="https://github.com/fastschema/qjs" target="_blank" title="Run JavaScript in Golang">
                    <span class="fsqjs-text">
                        fs/qjs
                        <span>fs/qjs</span>
                        <span>fs/qjs</span>
                        <span>Run JS in GO</span>
                    </span>
                </a>
                <span class="fsqjs-label">ads</span>
            </div>
            <style>
                #slot-3>.fsqjs {
                    margin: 20px auto;
                    height: 200px;
                    position: relative;
                    border: 3px solid #000;
                    border-radius: 10px;
                    overflow: hidden;
                }

                #slot-3>.fsqjs>a.fsqjs-ghlink {
                    display: block;
                    width: 100%;
                    height: 100%;
                    text-decoration: none;
                    position: relative;
                    overflow: hidden;
                }

                #slot-3>.fsqjs .fsqjs-text {
                    display: block;
                    margin: 0;
                    padding: 0;
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    font-size: 6em;
                    color: transparent;
                    text-align: center;
                    text-transform: uppercase;
                }

                #slot-3>.fsqjs .fsqjs-text span:nth-child(1) {
                    position: absolute;
                    top: 0;
                    left: 0;
                    color: #000;
                    transition: 0.5s;
                    clip-path: polygon(0 0, 100% 0, 100% 50%, 0 50%);
                    overflow: hidden;
                }

                #slot-3>.fsqjs>a.fsqjs-ghlink:hover>span.fsqjs-text span:nth-child(1) {
                    transform: translateY(-18px);
                }

                #slot-3>.fsqjs .fsqjs-text span:nth-child(2) {
                    position: absolute;
                    top: 0;
                    left: 0;
                    color: #000;
                    transition: 0.5s;
                    clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%);
                    overflow: hidden;
                }

                #slot-3>.fsqjs>a.fsqjs-ghlink:hover>span.fsqjs-text span:nth-child(2) {
                    transform: translateY(18px);
                }

                #slot-3>.fsqjs .fsqjs-text span:nth-child(3) {
                    position: absolute;
                    top: 50%;
                    left: 0;
                    transform: translateY(-50%) scaleY(0);
                    width: 91%;
                    color: #000;
                    background: #ff0;
                    font-size: 0.25em;
                    font-weight: 500;
                    letter-spacing: 0.2em;
                    text-align: center;
                    padding-left: 20px;
                    margin-left: 5px;
                    transition: 0.5s;
                    word-spacing: .2em;
                }

                #slot-3>.fsqjs>a.fsqjs-ghlink:hover>span.fsqjs-text span:nth-child(3) {
                    transform: translateY(-50%) scaleY(1);
                }

                #slot-3>.fsqjs .fsqjs-label {
                    position: absolute;
                    bottom: 0;
                    right: 0;
                    background: #000;
                    color: #fff;
                    font-size: 1em;
                    font-weight: 600;
                    padding: 2px 5px;
                    border-top-left-radius: 5px;
                    margin: 0;
                }
            </style>
        </div>

        <!-- == SLOT 4 == -->
        <div id="slot-4">
        <style>
            #slot-4 #slot4_gameoflife {
            display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin: 20px auto;
      max-width: 650px;
            }
            #slot-4 canvas {
            border: 2px solid #333;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                }
            #slot-4 #slot4_btn {
                display: flex;
                justify-content: center;
                gap: 10px;
                margin-top: 15px;
            }
            #slot-4 button {
                padding: 10px 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                font-size: 14px;
                font-weight: bold;
                transition: all 0.3s ease;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            }
            #slot-4 button:hover {
                background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            }
            </style>
        <div id="slot4_gameoflife">
        <canvas id="slot4_canvas"
            width="600"
            height="400"></canvas>
    <br />
    <br />
        <div id="slot4_btn">
    <button id="slot4_startbtn">Start</button>
    <button id="slot4_pausebtn">Pause</button>
    <button id="slot4_restartbtn">Restart</button>
    <button id="slot4_zoombtn">Zoom</button>
    </div>
    <div id="slot4_cursors">

    </div>
    <script>
        // Initialize canvas and context
        const slot_4_canvas = document.getElementById('slot4_canvas');
        const slot4_ctx = slot_4_canvas.getContext('2d');

        // Define cell size and grid dimensions
        let slot4CellSize = 4;
        let slot4NumRows = Math.floor(slot_4_canvas.height / slot4CellSize);
        let slot4NumCols = Math.floor(slot_4_canvas.width / slot4CellSize);
        let slot4Zoomed = false;

        // Function to initialize the grid
        function slot4_1() {
            const grid = [];
            for (let i = 0; i < slot4NumRows; i++) {
                grid[i] = [];
                for (let j = 0; j < slot4NumCols; j++) {
                    grid[i][j] = Math.random() > 0.7 ? 1 : 0; // Random initialization
                }
            }
            return grid;
        }

        let grid = slot4_1();
        let isRunning = false;
        let animationId = null;

        // Colors for cells that change with each iteration
        let slot4Colors = ['#00bcd4', '#4caf50', '#ff9800', '#e91e63', '#9c27b0', '#3f51b5','#ff5722','#d50000', '#000000'];
        let slot4CurrentColorIndex = 0;
        let slot4BackgroundColor = '#ffffff'; // Initial background color

        // Function to draw the grid
        function slot4_2() {
            // Fill canvas with random background color
            slot4_ctx.fillStyle = slot4BackgroundColor;
            slot4_ctx.fillRect(0, 0, slot_4_canvas.width, slot_4_canvas.height);
            for (let i = 0; i < slot4NumRows; i++) {
                for (let j = 0; j < slot4NumCols; j++) {
                    if (grid[i][j] === 1) {
                        // Style the live cells with current color
                        slot4_ctx.fillStyle = slot4Colors[slot4CurrentColorIndex];
                        slot4_ctx.fillRect(j * slot4CellSize + 1, i * slot4CellSize + 1, slot4CellSize - 2, slot4CellSize - 2);
                        slot4_ctx.strokeStyle = '#333'; // Dark border
                        slot4_ctx.lineWidth = 1;
                        slot4_ctx.strokeRect(j * slot4CellSize + 1, i * slot4CellSize + 1, slot4CellSize - 2, slot4CellSize - 2);
                    }
                }
            }
        }

        // Function to update the grid based on Conway's rules
        function slot4_3() {
            const newGrid = [];
            for (let i = 0; i < slot4NumRows; i++) {
                newGrid[i] = [];
                for (let j = 0; j < slot4NumCols; j++) {
                    const neighbors = slot4_4(i, j);
                    if (grid[i][j] === 1 && (neighbors < 2 || neighbors > 3)) {
                        newGrid[i][j] = 0;
                    } else if (grid[i][j] === 0 && neighbors === 3) {
                        newGrid[i][j] = 1;
                    } else {
                        newGrid[i][j] = grid[i][j];
                    }
                }
            }
            grid = newGrid;
            // Change color for next iteration
            slot4CurrentColorIndex = (slot4CurrentColorIndex + 1) % slot4Colors.length;
            // Change background color randomly
            slot4BackgroundColor = `hsl(${Math.random() * 360}, 70%, 50%)`;
        }        // Function to count live neighbors of a cell
        function slot4_4(row, col) {
            let count = 0;
            for (let i = -1; i <= 1; i++) {
                for (let j = -1; j <= 1; j++) {
                    const r = row + i;
                    const c = col + j;
                    if (r >= 0 && r < slot4NumRows && c >= 0 && c < slot4NumCols && !(i === 0 && j === 0)) {
                        count += grid[r][c];
                    }
                }
            }
            return count;
        }

        // Main loop to update and draw the grid
        function slot4_5() {
            slot4_3();
            slot4_2();
            if (isRunning) {
                animationId = requestAnimationFrame(slot4_5);
            }
        }
        document.getElementById('slot4_startbtn')
                  .addEventListener('click', function () {
            if (!isRunning) {
                isRunning = true;
                slot4_5();
            }
        });

        document.getElementById('slot4_pausebtn')
                  .addEventListener('click',
            function () {
            isRunning = false;
            cancelAnimationFrame(animationId);
        });

        document.getElementById('slot4_restartbtn')
                  .addEventListener('click',
            function () {
            isRunning = false;
            cancelAnimationFrame(animationId);
            grid = slot4_1();
            slot4_2();
        });

        document.getElementById('slot4_zoombtn')
                  .addEventListener('click',
            function () {
            slot4Zoomed = !slot4Zoomed;
            slot4CellSize = slot4Zoomed ? 8 : 4;
            slot4NumRows = Math.floor(slot_4_canvas.height / slot4CellSize);
            slot4NumCols = Math.floor(slot_4_canvas.width / slot4CellSize);
            grid = slot4_1();
            slot4_2();
        });

    </script>
        </div>
        <div id="slot4_doom">
            <style>
                #slot-4 #slot4_focushint {
    font-size: 2rem;
}

#slot-4 .slot4_container {
    display: flex;
}

#slot-4 .slot4_big-holder {
    position: relative;
    width: 68vw; /* Allow it to resize based on parent/container */
    height: 41vw; /* Maintain 16:10 aspect ratio */
}

#slot-4 #slot4_screen {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0.01; /* Hide the canvas */
}

#slot-4 #slot4_gradientScreen {
    position: absolute;
    width: 100%;
    height: 100%;
    image-rendering: pixelated;
    pointer-events: none; /* Allow clicks to pass through */
    background-size: 200% 200%; /* Scale the gradient to 640x400 */
}

/* Media query for screen width less than 700px */
@media (max-width: 1024px) {
    #slot-4 .slot4-big-holder {
        width: 94vw; /* 90% of viewport width */
        height: calc(94vw * 10 / 16); /* Maintain 16:10 aspect ratio */
    }
}


            </style>
        <h1>DooM</h1>
    <p></p>
    <p id="slot4_focushint"></p>
    <p>
      Use <button tabindex="-1" aria-label="enter" role="presentation">&#x23CE;</button> to start the game, arrow
      keys <button tabindex="-1" aria-label="left" role="presentation">&#x2190;</button>
      <button tabindex="-1" aria-label="up" role="presentation">&#x2191;</button>
      <button tabindex="-1" aria-label="down" role="presentation">&#x2193;</button>
      <button tabindex="-1" aria-label="right" role="presentation">&#x2192;</button> to move,
      <button tabindex="-1" aria-label="ctrl" role="presentation">ctrl</button> to shoot, spacebar
      <button tabindex="-1" aria-label="space" role="presentation">&nbsp;&nbsp;&nbsp;&nbsp;</button> to open gates,
      <button tabindex="-1" aria-label="alt" role="presentation">alt</button> 
    </p>
<p><strong>If you see grey lines across the game window, please adjust the window width </strong></p>
    <div class="slot4_container">
      <div class="slot4_big-holder">
        <div id="slot4_gradientScreen"></div>
        <canvas id="slot4_screen" tabindex="0">This is where the DooM screen should render.</canvas>
      </div>
      <span>&nbsp;</span>
    </div>
    <script >
var slot4_memory = new WebAssembly.Memory({ initial: 108 })

/*stdout and stderr goes here*/
const slot4_output = document.getElementById("slot4_output")

function slot4_readWasmString(offset, length) {
  const bytes = new Uint8Array(slot4_memory.buffer, offset, length)
  return new TextDecoder("utf8").decode(bytes)
}

function slot4_consoleLogString(offset, length) {
  const string = slot4_readWasmString(offset, length)
  console.log('"' + string + '"')
}

function slot4_appendOutput(style) {
  return function (offset, length) {}
}

function slot4_getMilliseconds() {
  return performance.now()
}

/*doom is rendered here*/
const canvas = document.getElementById("slot4_screen")
const doom_screen_width = 320 * 2
const doom_screen_height = 200 * 2

function slot4_rgbaToHex(r, g, b) {
  return (
    "#" +
    [r, g, b].map((x) => Math.round(x).toString(16).padStart(2, "0")).join("")
  )
}

function slot4_averageBlockColour(data, startX, startY, width, blockSize) {
  let r = 0, g = 0, b = 0;

  for (let y = startY; y < startY + blockSize; y++) {
    for (let x = startX; x < startX + blockSize; x++) {
      const i = (y * width + x) * 4;
      r += data[i];
      g += data[i + 1];
      b += data[i + 2];
    }
  }

  const size = blockSize * blockSize;
  return slot4_rgbaToHex(r / size, g / size, b / size);
}

function slot4_drawCanvas(ptr) {
  const doom_screen = new Uint8ClampedArray(
    slot4_memory.buffer,
    ptr,
    doom_screen_width * doom_screen_height * 4
  )

  const gradientDiv = document.getElementById("slot4_gradientScreen")

  const blockSize = 2 // downsample 2x2 pixels 320x200
  const scaledWidth = doom_screen_width / blockSize
  const scaledHeight = doom_screen_height / blockSize

  const layers = []
  const positions = []
  const sizes = []

  const vwu = 100 / scaledWidth
  const vhu = 100 / scaledHeight

  for (let y = 0; y < doom_screen_height; y += blockSize) {
    let stops = []
    let prevColor = null
    let segmentStart = 0

    for (let x = 0; x < doom_screen_width; x += blockSize) {
      const avgColor = slot4_averageBlockColour(
        doom_screen,
        x,
        y,
        doom_screen_width,
        blockSize
      )

      if (prevColor === null) {
        prevColor = avgColor
        segmentStart = x / blockSize
      } else if (avgColor !== prevColor) {
        stops.push(
          `${prevColor} ${segmentStart * vwu}%, ${prevColor} ${
            (x * vwu) / blockSize
          }%`
        )
        segmentStart = x / blockSize
        prevColor = avgColor
      }
    }
    stops.push(
      `${prevColor} ${segmentStart * vwu}%, ${prevColor} ${scaledWidth * vwu}%`
    )

    layers.push(`linear-gradient(to right, ${stops.join(", ")})`)
    positions.push(`0px ${(y * vhu * 0.99) / blockSize}%`)
    sizes.push(`${scaledWidth * vwu}% ${vhu}%`)
  }

  // Apply layers as CSS background
  gradientDiv.style.backgroundImage = layers.join(", ")
  gradientDiv.style.backgroundPosition = positions.join(", ")
  gradientDiv.style.backgroundSize = sizes.join(", ")
  gradientDiv.style.backgroundRepeat = "no-repeat"
}

/*These functions will be available in WebAssembly. We also share the memory to share larger amounts of data with javascript, e.g. strings of the video output.*/
var importObject = {
  js: {
    js_console_log: slot4_appendOutput("log"),
    js_stdout: slot4_appendOutput("stdout"),
    js_stderr: slot4_appendOutput("stderr"),
    js_milliseconds_since_start: slot4_getMilliseconds,
    js_draw_screen: slot4_drawCanvas,
  },
  env: {
    memory: slot4_memory,
  },
}

document.addEventListener("contextmenu", (e) => {
  
    e.preventDefault()

})

WebAssembly.instantiateStreaming(fetch("https://grahamthe.dev/demos/doom/doom.wasm"), importObject).then(
  (obj) => {
    obj.instance.exports.main();

    /*input handling*/
    let doomKeyCode = function (keyCode) {
      // Doom seems to use mostly the same keycodes, except for the following (maybe I'm missing a few.)
      switch (keyCode) {
        case 8:
          return 127 // KEY_BACKSPACE
        case 17:
          return 0x80 + 0x1d // KEY_RCTRL
        case 18:
          return 0x80 + 0x38 // KEY_RALT
        case 37:
          return 0xac // KEY_LEFTARROW
        case 38:
          return 0xad // KEY_UPARROW
        case 39:
          return 0xae // KEY_RIGHTARROW
        case 40:
          return 0xaf // KEY_DOWNARROW
        default:
          if (keyCode >= 65 /*A*/ && keyCode <= 90 /*Z*/) {
            return keyCode + 32 // ASCII to lower case
          }
          if (keyCode >= 112 /*F1*/ && keyCode <= 123 /*F12*/) {
            return keyCode + 75 // KEY_F1
          }
          return keyCode
      }
    }
    let keyDown = function (keyCode) {
      obj.instance.exports.add_browser_event(0 /*KeyDown*/, keyCode)
    }
    let keyUp = function (keyCode) {
      obj.instance.exports.add_browser_event(1 /*KeyUp*/, keyCode)
    }

    /*keyboard input*/
    canvas.addEventListener(
      "keydown",
      function (event) {
        keyDown(doomKeyCode(event.keyCode))
        event.preventDefault()
      },
      false
    )
    canvas.addEventListener(
      "keyup",
      function (event) {
        keyUp(doomKeyCode(event.keyCode))
        event.preventDefault()
      },
      false
    )
    /*hint that the canvas should have focus to capute keyboard events*/
    const focushint = document.getElementById("slot4_focushint")
    const slot4_printFocusInHint = function (e) {
      focushint.innerText =
        "Doom focused, if input stops working focus the game again"
      focushint.style.fontWeight = "normal"
    }
    canvas.addEventListener("focusin", slot4_printFocusInHint, false)

    canvas.addEventListener(
      "focusout",
      function (e) {
        focushint.innerText =
          "Click on the Doom game to capute input and start playing."
        focushint.style.fontWeight = "bold"
      },
      false
    )

    canvas.focus()
    slot4_printFocusInHint()

    /*Main game loop*/
    function slot4_step(timestamp) {
      obj.instance.exports.doom_loop_step()
      window.requestAnimationFrame(slot4_step)
    }
    window.requestAnimationFrame(slot4_step)
  }
).catch(err => {
  console.error("Failed to load WebAssembly:", err);
});</script>
        </div>
        </div>
        <!-- == SLOT 5 == -->
        <div id="slot-5">
            <h2>
                🗣️: Ước gì tao bớt đẳng cấp một chút để sống hoà đồng thì tốt biết bao.
            </h2>
        </div>

        <!-- == SLOT 6 == -->
        <div id="slot-6">
            <style>
                #slot-6 {
                    background: linear-gradient(135deg, #232526 0%, #414345 100%);
                    color: #0ff06b;
                    padding: 32px 18px 28px 18px;
                    border-radius: 18px;
                    font-family: 'Inter', 'Nunito', sans-serif;
                    box-shadow: 0 6px 32px 0 #13ff7e44;
                    position: relative;
                    overflow: hidden;
                }
                #slot-6::after {
                    content: "";
                    position: absolute;
                    top: -60px; left: -60px;
                    width: 180px; height: 180px;
                    background: radial-gradient(circle, #00ffb3b6 0%, #1110 80%);
                    filter: blur(8px);
                    z-index: 0;
                    animation: slot6-glow 5s infinite alternate;
                }
                @keyframes slot6-glow {
                    from { transform:scale(1) rotate(0deg);}
                    to   { transform:scale(1.2) rotate(15deg);}
                }
                #slot-6 .header {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    margin-bottom: 8px;
                    position: relative;
                    z-index: 2;
                }
                #slot-6 .header__emoji {
                    font-size: 2.2rem;
                    filter: drop-shadow(0 0 8px #0f08);
                    animation: slot6-bounce 1s infinite alternate;
                }
                @keyframes slot6-bounce {
                    from { transform: translateY(0);}
                    to   { transform: translateY(-8px);}
                }
                #slot-6 .header__title {
                    font-size: 1.6rem;
                    font-weight: 700;
                    letter-spacing: 1px;
                    background: linear-gradient(90deg,#0fffc3 20%, #39f 80%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                }
                #slot-6 .links {
                    margin-top: 0.7em;
                    margin-bottom: 1em;
                    padding-left: 0;
                    list-style: none;
                    position: relative;
                    z-index: 2;
                }
                #slot-6 .links li {
                    margin-bottom: 0.7em;
                    font-size: 1.12rem;
                }
                #slot-6 .links a {
                    color: #0fffb0;
                    text-decoration: none;
                    border-bottom: 1.5px dotted #0ff8;
                    transition: color 0.16s, border 0.16s;
                    font-weight: 600;
                }
                #slot-6 .links a:hover {
                    color: #fff66b;
                    border-bottom: 1.5px solid #39f;
                    background: #1113;
                    border-radius: 4px;
                    padding: 1.5px 6px;
                }
                #slot-6 p.signature {
                    font-family: 'Nunito', sans-serif;
                    font-size:1.13rem;
                    color:#fff;
                    margin-top:1.6em;
                    opacity:.95;
                    font-style:italic;
                    letter-spacing:.05em;
                    position: relative;
                    z-index: 2;
                    text-shadow:0 1px 6px #13ff7e21;
                }
            </style>

            <div class="header">
                <span class="header__title">Hí Anh Em - Hoàng Anh nè anh em!</span>
            </div>
            <div>
            <em>Follow mình nhé anh em:</em>
                <ul class="links">
                    <li>
                        <span>Facebook:</span>
                        <a href="https://www.facebook.com/pvhoanganh1572" target="_blank" rel="noopener">/pvhoanganh1572</a>
                    </li>
                    <li>
                        <span>Website:</span>
                        <a href="https://phanhoanganh.net/" target="_blank" rel="noopener">phanhoanganh.net</a>
                    </li>
                    <li>
                        <span>LinkedIn:</span>
                        <a href="https://www.linkedin.com/in/phan-van-hoang-anh/" target="_blank" rel="noopener">@phan-van-hoang-anh</a>
                    </li>
                    <li>
                        <span>Instagram:</span>
                        <a href="https://www.instagram.com/h_anh.json/" target="_blank" rel="noopener">@h_anh.json</a>
                    </li>
                </ul>
            </div>

            <!-- Snake Game Section -->
            <style>
                #slot-6 .snake-game-container {
                    margin-top: 2em;
                    padding: 20px;
                    background: rgba(10, 20, 15, 0.6);
                    border-radius: 12px;
                    border: 2px solid #0ff06b;
                    position: relative;
                    z-index: 2;
                }

                #slot-6 .snake-game-title {
                    text-align: center;
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: #0fffc3;
                    margin-bottom: 1em;
                    text-shadow: 0 0 10px #0ff06b;
                }

                #slot-6 .snake-game-info {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 1em;
                    flex-wrap: wrap;
                    gap: 10px;
                }

                #slot-6 .snake-score {
                    font-size: 1.3rem;
                    font-weight: 600;
                    color: #fff66b;
                    text-shadow: 0 0 8px #fff66b;
                }

                #slot-6 .snake-high-score {
                    font-size: 1.1rem;
                    color: #0fffb0;
                }

                #slot-6 .snake-canvas-wrapper {
                    position: relative;
                    display: inline-block;
                    margin: 0 auto;
                    width: 100%;
                    text-align: center;
                }

                #slot-6 #snakeCanvas {
                    background: #1a1a1a;
                    border: 3px solid #0ff06b;
                    border-radius: 8px;
                    box-shadow: 0 0 20px rgba(15, 240, 107, 0.3);
                    display: block;
                    margin: 0 auto;
                    max-width: 100%;
                    height: auto;
                }

                #slot-6 .snake-controls {
                    margin-top: 1.5em;
                    text-align: center;
                }

                #slot-6 .snake-btn {
                    background: linear-gradient(135deg, #0ff06b 0%, #00cc55 100%);
                    color: #000;
                    border: none;
                    padding: 12px 30px;
                    border-radius: 8px;
                    font-size: 1.1rem;
                    font-weight: 700;
                    cursor: pointer;
                    transition: all 0.3s;
                    box-shadow: 0 4px 15px rgba(15, 240, 107, 0.3);
                    text-transform: uppercase;
                    letter-spacing: 1px;
                }

                #slot-6 .snake-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(15, 240, 107, 0.5);
                }

                #slot-6 .snake-btn:active {
                    transform: translateY(0);
                }

                #slot-6 .snake-instructions {
                    margin-top: 1em;
                    text-align: center;
                    color: #0fffb0;
                    font-size: 0.95rem;
                    opacity: 0.8;
                }

                #slot-6 .game-over-overlay {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(0, 0, 0, 0.9);
                    padding: 30px;
                    border-radius: 12px;
                    border: 2px solid #ff4444;
                    text-align: center;
                    display: none;
                    z-index: 10;
                }

                #slot-6 .game-over-overlay.show {
                    display: block;
                    animation: slot6-fadeIn 0.3s ease;
                }

                @keyframes slot6-fadeIn {
                    from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
                    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                }

                #slot-6 .game-over-text {
                    color: #ff4444;
                    font-size: 2rem;
                    font-weight: 700;
                    margin-bottom: 15px;
                    text-shadow: 0 0 10px #ff4444;
                }

                #slot-6 .final-score {
                    color: #fff66b;
                    font-size: 1.5rem;
                    margin-bottom: 20px;
                }
            </style>

            <div class="snake-game-container">
                <h3 class="snake-game-title">Chơi game con rắn nhe</h3>

                <div class="snake-game-info">
                    <div class="snake-score">Score: <span id="snakeScore">0</span></div>
                    <div class="snake-high-score">High Score: <span id="snakeHighScore">0</span></div>
                    <div class="">Ai trên 60 điểm có quà</span></div>
                </div>

                <div class="snake-canvas-wrapper">
                    <canvas id="snakeCanvas" width="400" height="400"></canvas>
                    <div class="game-over-overlay" id="gameOverOverlay">
                        <div class="game-over-text">Thua!</div>
                        <div class="final-score">Final Score: <span id="finalScore">0</span></div>
                        <button class="snake-btn" onclick="slot6RestartSnakeGame()">Play Again</button>
                    </div>
                </div>

                <div class="snake-controls">
                    <button class="snake-btn" id="snakeStartBtn" onclick="slot6StartSnakeGame()">Chơi Luôn</button>
                </div>

                <div class="snake-instructions">
                    Bấm mấy phím mũi tên để chơi nha mấy anh em
                </div>
            </div>


			<!-- == SLOT 43 == -->
			<div id="slot-083" class="slot">
			  <button onclick="alert('Why did you click the do not click button?')">Don't Click</button>
			</div>

            <script>
                (function() {
                    const canvas = document.getElementById('snakeCanvas');
                    const ctx = canvas.getContext('2d');
                    const gameOverOverlay = document.getElementById('gameOverOverlay');

                    const GRID_SIZE = 20;
                    const GRID_WIDTH = canvas.width / GRID_SIZE;
                    const GRID_HEIGHT = canvas.height / GRID_SIZE;
                    const INITIAL_SPEED = 100;

                    let snake = [];
                    let direction = { x: 1, y: 0 };
                    let nextDirection = { x: 1, y: 0 };
                    let food = { x: 0, y: 0 };
                    let score = 0;
                    let highScore = localStorage.getItem('snakeHighScore') || 0;
                    let gameLoop = null;
                    let isGameRunning = false;
                    let gameSpeed = INITIAL_SPEED;

                    document.getElementById('snakeHighScore').textContent = highScore;

                    function slot6InitGame() {
                        snake = [
                            { x: Math.floor(GRID_WIDTH / 2), y: Math.floor(GRID_HEIGHT / 2) },
                            { x: Math.floor(GRID_WIDTH / 2) - 1, y: Math.floor(GRID_HEIGHT / 2) },
                            { x: Math.floor(GRID_WIDTH / 2) - 2, y: Math.floor(GRID_HEIGHT / 2) }
                        ];

                        direction = { x: 1, y: 0 };
                        nextDirection = { x: 1, y: 0 };

                        score = 0;
                        gameSpeed = INITIAL_SPEED;
                        document.getElementById('snakeScore').textContent = score;

                        slot6SpawnFood();

                        gameOverOverlay.classList.remove('show');
                    }

                    function slot6SpawnFood() {
                        let validPosition = false;

                        while (!validPosition) {
                            food.x = Math.floor(Math.random() * GRID_WIDTH);
                            food.y = Math.floor(Math.random() * GRID_HEIGHT);

                            validPosition = !snake.some(segment =>
                                segment.x === food.x && segment.y === food.y
                            );
                        }
                    }

                    function slot6UpdateGame() {
                        direction = { ...nextDirection };

                        const newHead = {
                            x: snake[0].x + direction.x,
                            y: snake[0].y + direction.y
                        };

                        if (newHead.x < 0 || newHead.x >= GRID_WIDTH ||
                            newHead.y < 0 || newHead.y >= GRID_HEIGHT) {
                            slot6GameOver();
                            return;
                        }

                        if (snake.some(segment => segment.x === newHead.x && segment.y === newHead.y)) {
                            slot6GameOver();
                            return;
                        }

                        snake.unshift(newHead);

                        if (newHead.x === food.x && newHead.y === food.y) {
                            score += 10;
                            document.getElementById('snakeScore').textContent = score;

                            if (score > highScore) {
                                highScore = score;
                                localStorage.setItem('snakeHighScore', highScore);
                                document.getElementById('snakeHighScore').textContent = highScore;
                            }

                            slot6SpawnFood();

                            if (gameSpeed > 50) {
                                gameSpeed = Math.max(50, gameSpeed - 2);
                                clearInterval(gameLoop);
                                gameLoop = setInterval(slot6GameTick, gameSpeed);
                            }
                        } else {
                            snake.pop();
                        }
                    }


                    function slot6DrawGame() {
                        ctx.fillStyle = '#1a1a1a';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.strokeStyle = '#2a2a2a';
                        ctx.lineWidth = 0.5;
                        for (let i = 0; i <= GRID_WIDTH; i++) {
                            ctx.beginPath();
                            ctx.moveTo(i * GRID_SIZE, 0);
                            ctx.lineTo(i * GRID_SIZE, canvas.height);
                            ctx.stroke();
                        }
                        for (let i = 0; i <= GRID_HEIGHT; i++) {
                            ctx.beginPath();
                            ctx.moveTo(0, i * GRID_SIZE);
                            ctx.lineTo(canvas.width, i * GRID_SIZE);
                            ctx.stroke();
                        }

                        snake.forEach((segment, index) => {
                            const alpha = 1 - (index / snake.length) * 0.5;

                            if (index === 0) {
                                ctx.fillStyle = '#0fffc3';
                                ctx.shadowBlur = 15;
                                ctx.shadowColor = '#0fffc3';
                            } else {
                                ctx.fillStyle = `rgba(15, 240, 107, ${alpha})`;
                                ctx.shadowBlur = 5;
                                ctx.shadowColor = '#0ff06b';
                            }

                            const x = segment.x * GRID_SIZE;
                            const y = segment.y * GRID_SIZE;
                            const size = GRID_SIZE - 2;
                            const radius = 4;

                            ctx.beginPath();
                            ctx.roundRect(x + 1, y + 1, size, size, radius);
                            ctx.fill();
                        });

                        ctx.shadowBlur = 0;

                        const foodX = food.x * GRID_SIZE;
                        const foodY = food.y * GRID_SIZE;
                        const time = Date.now() / 200;
                        const pulse = Math.sin(time) * 0.2 + 0.8;

                        ctx.fillStyle = '#fff66b';
                        ctx.shadowBlur = 20;
                        ctx.shadowColor = '#fff66b';

                        ctx.beginPath();
                        ctx.arc(
                            foodX + GRID_SIZE / 2,
                            foodY + GRID_SIZE / 2,
                            (GRID_SIZE / 2 - 2) * pulse,
                            0,
                            Math.PI * 2
                        );
                        ctx.fill();

                        ctx.shadowBlur = 0;
                    }

                    function slot6GameTick() {
                        slot6UpdateGame();
                        slot6DrawGame();
                    }

                    function slot6GameOver() {
                        isGameRunning = false;
                        clearInterval(gameLoop);

                        document.getElementById('finalScore').textContent = score;
                        gameOverOverlay.classList.add('show');
                        document.getElementById('snakeStartBtn').textContent = 'Start Game';
                    }

                    window.slot6StartSnakeGame = function() {
                        if (!isGameRunning) {
                            slot6InitGame();
                            isGameRunning = true;
                            gameLoop = setInterval(slot6GameTick, gameSpeed);
                            document.getElementById('snakeStartBtn').textContent = 'Playing...';
                            slot6DrawGame();
                        }
                    };

                    window.slot6RestartSnakeGame = function() {
                        slot6StartSnakeGame();
                    };

                    document.addEventListener('keydown', function(e) {
                        if (!isGameRunning) return;

                        if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                            e.preventDefault();
                        }

                        switch(e.key) {
                            case 'ArrowUp':
                            case 'w':
                            case 'W':
                                if (direction.y === 0) nextDirection = { x: 0, y: -1 };
                                break;
                            case 'ArrowDown':
                            case 's':
                            case 'S':
                                if (direction.y === 0) nextDirection = { x: 0, y: 1 };
                                break;
                            case 'ArrowLeft':
                            case 'a':
                            case 'A':
                                if (direction.x === 0) nextDirection = { x: -1, y: 0 };
                                break;
                            case 'ArrowRight':
                            case 'd':
                            case 'D':
                                if (direction.x === 0) nextDirection = { x: 1, y: 0 };
                                break;
                        }
                    });

                    slot6DrawGame();
                })();
            </script>

            <script>
                (function() {
                    let board = Array(9).fill(null);
                    let currentPlayer = 'X';
                    let gameActive = true;
                    const winPatterns = [
                        [0, 1, 2], [3, 4, 5], [6, 7, 8],
                        [0, 3, 6], [1, 4, 7], [2, 5, 8],
                        [0, 4, 8], [2, 4, 6]
                    ];

                    function slot6InitTicTacToe() {
                        board = Array(9).fill(null);
                        currentPlayer = 'X';
                        gameActive = true;
                        document.getElementById('tictactoeStatus').textContent = 'Your turn (X)';

                        const boardElement = document.getElementById('tictactoeBoard');
                        boardElement.innerHTML = '';

                        for (let i = 0; i < 9; i++) {
                            const cell = document.createElement('div');
                            cell.className = 'tictactoe-cell';
                            cell.dataset.index = i;
                            cell.addEventListener('click', () => slot6TicTacToeMove(i, cell));
                            boardElement.appendChild(cell);
                        }
                    }

                    function slot6TicTacToeMove(index, cell) {
                        if (!gameActive || board[index] || currentPlayer !== 'X') return;

                        board[index] = 'X';
                        cell.textContent = 'X';
                        cell.classList.add('taken');

                        if (slot6CheckWinner('X')) {
                            slot6EndGame('Ban thang roi! Gioi qua di!');
                            return;
                        }

                        if (board.every(cell => cell !== null)) {
                            slot6EndGame('Hoa roi! Choi lai nao!');
                            return;
                        }

                        currentPlayer = 'O';
                        document.getElementById('tictactoeStatus').textContent = 'AI dang suy nghi...';

                        setTimeout(() => {
                            slot6AIMove();
                        }, 500);
                    }

                    function slot6AIMove() {
                        if (!gameActive) return;

                        let move = slot6FindBestMove();
                        board[move] = 'O';

                        const cells = document.querySelectorAll('#tictactoeBoard .tictactoe-cell');
                        cells[move].textContent = 'O';
                        cells[move].classList.add('taken');

                        if (slot6CheckWinner('O')) {
                            slot6EndGame('AI thang roi! Thu lai nhe!');
                            return;
                        }

                        if (board.every(cell => cell !== null)) {
                            slot6EndGame('Hoa roi! Choi lai nao!');
                            return;
                        }

                        currentPlayer = 'X';
                        document.getElementById('tictactoeStatus').textContent = 'Your turn (X)';
                    }

                    function slot6FindBestMove() {
                        for (let pattern of winPatterns) {
                            const [a, b, c] = pattern;
                            if (board[a] === 'O' && board[b] === 'O' && board[c] === null) return c;
                            if (board[a] === 'O' && board[c] === 'O' && board[b] === null) return b;
                            if (board[b] === 'O' && board[c] === 'O' && board[a] === null) return a;
                        }

                        for (let pattern of winPatterns) {
                            const [a, b, c] = pattern;
                            if (board[a] === 'X' && board[b] === 'X' && board[c] === null) return c;
                            if (board[a] === 'X' && board[c] === 'X' && board[b] === null) return b;
                            if (board[b] === 'X' && board[c] === 'X' && board[a] === null) return a;
                        }

                        if (board[4] === null) return 4;

                        const corners = [0, 2, 6, 8];
                        const availableCorners = corners.filter(i => board[i] === null);
                        if (availableCorners.length > 0) {
                            return availableCorners[Math.floor(Math.random() * availableCorners.length)];
                        }

                        const availableMoves = board.map((cell, i) => cell === null ? i : null).filter(i => i !== null);
                        return availableMoves[Math.floor(Math.random() * availableMoves.length)];
                    }

                    function slot6CheckWinner(player) {
                        for (let pattern of winPatterns) {
                            const [a, b, c] = pattern;
                            if (board[a] === player && board[b] === player && board[c] === player) {
                                const cells = document.querySelectorAll('#tictactoeBoard .tictactoe-cell');
                                cells[a].classList.add('winning');
                                cells[b].classList.add('winning');
                                cells[c].classList.add('winning');
                                return true;
                            }
                        }
                        return false;
                    }

                    function slot6EndGame(message) {
                        gameActive = false;
                        document.getElementById('tictactoeStatus').textContent = message;
                    }

                    window.slot6StartTicTacToe = function() {
                        slot6InitTicTacToe();
                    };

                    slot6InitTicTacToe();
                })();
            </script>

            <style>
                #slot-6 .bmi-container {
                    margin-top: 3em;
                    padding: 20px;
                    background: rgba(30, 30, 30, 0.7);
                    border-radius: 8px;
                    border: 2px solid #666;
                    position: relative;
                    z-index: 2;
                }

                #slot-6 .bmi-title {
                    text-align: center;
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: #ddd;
                    margin-bottom: 0.5em;
                }

                #slot-6 .bmi-slogan {
                    text-align: center;
                    font-size: 1.1rem;
                    color: #aaa;
                    margin-bottom: 1.5em;
                    font-style: italic;
                }

                #slot-6 .bmi-form {
                    max-width: 400px;
                    margin: 0 auto;
                }

                #slot-6 .bmi-input-group {
                    margin-bottom: 1.5em;
                }

                #slot-6 .bmi-label {
                    display: block;
                    color: #ccc;
                    font-size: 1.1rem;
                    font-weight: 600;
                    margin-bottom: 0.5em;
                }

                #slot-6 .bmi-input {
                    width: 100%;
                    padding: 12px 15px;
                    background: rgba(0, 0, 0, 0.5);
                    border: 2px solid #555;
                    border-radius: 6px;
                    color: #fff;
                    font-size: 1.1rem;
                    font-weight: 600;
                    box-sizing: border-box;
                    transition: all 0.3s;
                }

                #slot-6 .bmi-input:focus {
                    outline: none;
                    border-color: #888;
                }

                #slot-6 .bmi-input::placeholder {
                    color: rgba(255, 255, 255, 0.3);
                }

                #slot-6 .bmi-btn {
                    background: #555;
                    color: #fff;
                    border: none;
                    padding: 12px 30px;
                    border-radius: 6px;
                    font-size: 1.1rem;
                    font-weight: 700;
                    cursor: pointer;
                    transition: all 0.3s;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    display: block;
                    margin: 0 auto;
                    width: 100%;
                }

                #slot-6 .bmi-btn:hover {
                    background: #666;
                }

                #slot-6 .bmi-categories {
                    margin-top: 1.5em;
                    padding: 15px;
                    background: rgba(0, 0, 0, 0.3);
                    border-radius: 6px;
                    color: #ccc;
                    font-size: 0.95rem;
                    line-height: 1.8;
                }

                #slot-6 .bmi-categories-title {
                    font-weight: 700;
                    color: #fff;
                    margin-bottom: 0.5em;
                }

                #slot-6 .bmi-result {
                    margin-top: 1.5em;
                    padding: 20px;
                    background: rgba(50, 50, 50, 0.8);
                    border: 2px solid #777;
                    border-radius: 6px;
                    text-align: center;
                    display: none;
                }

                #slot-6 .bmi-result.show {
                    display: block;
                }

                #slot-6 .bmi-result-text {
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: #fff;
                    margin-bottom: 0.5em;
                }

                #slot-6 .bmi-category {
                    font-size: 1.2rem;
                    color: #ddd;
                    margin-bottom: 1em;
                }

                #slot-6 .bmi-note {
                    margin-bottom: 1.5em;
                    padding: 12px;
                    background: rgba(255, 100, 100, 0.2);
                    border-left: 4px solid #ff6b6b;
                    border-radius: 4px;
                    color: #ffaaaa;
                    font-size: 1rem;
                    font-weight: 600;
                    font-style: italic;
                }
            </style>

            <div class="bmi-container">
                <h3 class="bmi-title">Máy tính BMI</h3>
                <p class="bmi-slogan">Để Hoàng Anh giúp anh em tính BMI nhé :&gt;&gt;</p>

                <div class="bmi-note">Mấy anh em vào tính BMI rồi lo mà tập thể dục đi nhé, rượu bia ít thôi!</div>

                <div class="bmi-form">
                    <div class="bmi-input-group">
                        <label class="bmi-label">Câng nặng (kg):</label>
                        <input type="number" class="bmi-input" id="bmiWeight" placeholder="Nhập cân nặng của bạn..." step="0.1">
                    </div>

                    <div class="bmi-input-group">
                        <label class="bmi-label">Chiều cao (cm):</label>
                        <input type="number" class="bmi-input" id="bmiHeight" placeholder="Nhập chiều cao của bạn..." step="0.1">
                    </div>

                    <button class="bmi-btn" onclick="slot6CalculateBMI()">Tính BMI</button>

                    <div class="bmi-categories">
                        <div class="bmi-categories-title">Phân loại BMI:</div>
                        <div>Thiếu cân: BMI dưới 18,5</div>
                        <div>Bình thường: BMI từ 18,5 - 22,9</div>
                        <div>Thừa cân: BMI từ 23 - 24,9</div>
                        <div>Béo phì: BMI từ 25 trở lên</div>
                    </div>
                </div>

                <div class="bmi-result" id="bmiResult">
                    <div class="bmi-result-text">Hello World!</div>
                </div>
            </div>

            <script>
                (function() {
                    window.slot6CalculateBMI = function() {
                        const weight = document.getElementById('bmiWeight').value;
                        const height = document.getElementById('bmiHeight').value;
                        const resultDiv = document.getElementById('bmiResult');

                        if (!weight || !height) {
                            alert('Vui long nhap day du thong tin!');
                            return;
                        }

                        if (weight <= 0 || height <= 0) {
                            alert('Vui long nhap gia tri hop le!');
                            return;
                        }

                        resultDiv.classList.add('show');
                    };

                    document.getElementById('bmiWeight').addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            slot6CalculateBMI();
                        }
                    });

                    document.getElementById('bmiHeight').addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            slot6CalculateBMI();
                        }
                    });
                })();
            </script>
        </div>

        <!-- == SLOT 7 == -->
        <div id="slot-7">
            <style>
        .slot7-body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a472a 0%, #0d2818 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .slot7-container {
            background: #0a1f14;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            max-width: 900px;
            width: 100%;
        }

        .slot7-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .slot7-title {
            color: #ffd700;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
        }

        .slot7-balance {
            background: #1a472a;
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
            margin: 10px;
        }

        .slot7-balance-label {
            color: #90ee90;
            font-size: 0.9em;
        }

        .slot7-balance-amount {
            color: #ffd700;
            font-size: 1.8em;
            font-weight: bold;
        }

        .slot7-betting-section {
            background: #1a472a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .slot7-bet-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .slot7-bet-button {
            background: #ffd700;
            color: #0a1f14;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.3s;
        }

        .slot7-bet-button:hover {
            background: #ffed4e;
            transform: scale(1.05);
        }

        .slot7-bet-input {
            background: #0a1f14;
            color: #ffd700;
            border: 2px solid #ffd700;
            padding: 10px;
            border-radius: 5px;
            font-size: 1.2em;
            width: 120px;
            text-align: center;
        }

        .slot7-game-area {
            margin: 30px 0;
        }

        .slot7-dealer-section,
        .slot7-player-section {
            margin: 20px 0;
        }

        .slot7-section-title {
            color: #90ee90;
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .slot7-cards {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            min-height: 120px;
            padding: 15px;
            background: #0d2818;
            border-radius: 10px;
        }

        .slot7-card {
            width: 70px;
            height: 100px;
            background: white;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            font-weight: bold;
            font-size: 1.2em;
        }

        .slot7-card-red {
            color: #ff0000;
        }

        .slot7-card-black {
            color: #000000;
        }

        .slot7-card-back {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
        }

        .slot7-score {
            color: #ffd700;
            font-size: 1.5em;
            margin-top: 10px;
            font-weight: bold;
        }

        .slot7-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .slot7-action-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .slot7-action-button:hover:not(:disabled) {
            background: #34ce57;
            transform: scale(1.05);
        }

        .slot7-action-button:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .slot7-action-button.slot7-stand {
            background: #ffc107;
        }

        .slot7-action-button.slot7-stand:hover:not(:disabled) {
            background: #ffd454;
        }

        .slot7-action-button.slot7-deal {
            background: #007bff;
            font-size: 1.3em;
            padding: 18px 40px;
        }

        .slot7-action-button.slot7-deal:hover:not(:disabled) {
            background: #0d8bff;
        }

        .slot7-message {
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slot7-message-win {
            background: #28a745;
            color: white;
        }

        .slot7-message-lose {
            background: #dc3545;
            color: white;
        }

        .slot7-message-push {
            background: #ffc107;
            color: #0a1f14;
        }

        .slot7-message-info {
            background: #17a2b8;
            color: white;
        }

        .slot7-hidden {
            display: none;
        }
    </style>
    <div class="slot7-body">
    <div class="slot7-container">
        <div class="slot7-header">
            <h1 class="slot7-title">♠️ SLOT7 BLACKJACK - by cc ♥️</h1>
            <div class="slot7-balance">
                <div class="slot7-balance-label">Your Balance</div>
                <div class="slot7-balance-amount">$<span id="slot7-balance">1000</span></div>
            </div>
        </div>

        <div class="slot7-betting-section">
            <div class="slot7-balance-label">Current Bet: $<span id="slot7-current-bet">0</span></div>
            <div class="slot7-bet-controls">
                <button class="slot7-bet-button" onclick="slot7_adjustBet(10)">+$10</button>
                <button class="slot7-bet-button" onclick="slot7_adjustBet(25)">+$25</button>
                <button class="slot7-bet-button" onclick="slot7_adjustBet(50)">+$50</button>
                <button class="slot7-bet-button" onclick="slot7_adjustBet(100)">+$100</button>
                <button class="slot7-bet-button" onclick="slot7_clearBet()">Clear</button>
            </div>
        </div>

        <div class="slot7-message slot7-hidden" id="slot7-message"></div>

        <div class="slot7-game-area">
            <div class="slot7-dealer-section">
                <div class="slot7-section-title">Dealer's Hand</div>
                <div class="slot7-cards" id="slot7-dealer-cards"></div>
                <div class="slot7-score" id="slot7-dealer-score"></div>
            </div>

            <div class="slot7-player-section">
                <div class="slot7-section-title">Your Hand</div>
                <div class="slot7-cards" id="slot7-player-cards"></div>
                <div class="slot7-score" id="slot7-player-score"></div>
            </div>
        </div>

        <div class="slot7-actions">
            <button class="slot7-action-button slot7-deal" onclick="slot7_dealCards()" id="slot7-deal-btn">DEAL</button>
            <button class="slot7-action-button slot7-hidden" onclick="slot7_hit()" id="slot7-hit-btn">HIT</button>
            <button class="slot7-action-button slot7-stand slot7-hidden" onclick="slot7_stand()" id="slot7-stand-btn">STAND</button>
        </div>
    </div>

    <script>
        var slot7_balance = 1000;
        var slot7_currentBet = 0;
        var slot7_deck = [];
        var slot7_playerHand = [];
        var slot7_dealerHand = [];
        var slot7_gameActive = false;

        var slot7_suits = ['♠️', '♥️', '♦️', '♣️'];
        var slot7_values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];

        function slot7_createDeck() {
            slot7_deck = [];
            for (var slot7_i = 0; slot7_i < slot7_suits.length; slot7_i++) {
                for (var slot7_j = 0; slot7_j < slot7_values.length; slot7_j++) {
                    slot7_deck.push({
                        suit: slot7_suits[slot7_i],
                        value: slot7_values[slot7_j]
                    });
                }
            }
            slot7_shuffleDeck();
        }

        function slot7_shuffleDeck() {
            for (var slot7_i = slot7_deck.length - 1; slot7_i > 0; slot7_i--) {
                var slot7_j = Math.floor(Math.random() * (slot7_i + 1));
                var slot7_temp = slot7_deck[slot7_i];
                slot7_deck[slot7_i] = slot7_deck[slot7_j];
                slot7_deck[slot7_j] = slot7_temp;
            }
        }

        function slot7_adjustBet(slot7_amount) {
            if (slot7_gameActive) return;
            if (slot7_currentBet + slot7_amount <= slot7_balance) {
                slot7_currentBet += slot7_amount;
                document.getElementById('slot7-current-bet').textContent = slot7_currentBet;
            }
        }

        function slot7_clearBet() {
            if (slot7_gameActive) return;
            slot7_currentBet = 0;
            document.getElementById('slot7-current-bet').textContent = slot7_currentBet;
        }

        function slot7_dealCards() {
            if (slot7_currentBet === 0) {
                slot7_showMessage('Please place a bet!', 'info');
                return;
            }
            if (slot7_currentBet > slot7_balance) {
                slot7_showMessage('Insufficient balance!', 'lose');
                return;
            }

            slot7_gameActive = true;
            slot7_createDeck();
            slot7_playerHand = [];
            slot7_dealerHand = [];

            document.getElementById('slot7-message').classList.add('slot7-hidden');
            document.getElementById('slot7-deal-btn').classList.add('slot7-hidden');
            document.getElementById('slot7-hit-btn').classList.remove('slot7-hidden');
            document.getElementById('slot7-stand-btn').classList.remove('slot7-hidden');

            slot7_playerHand.push(slot7_deck.pop());
            slot7_dealerHand.push(slot7_deck.pop());
            slot7_playerHand.push(slot7_deck.pop());
            slot7_dealerHand.push(slot7_deck.pop());

            slot7_updateDisplay();

            if (slot7_calculateScore(slot7_playerHand) === 21) {
                slot7_stand();
            }
        }

        function slot7_hit() {
            slot7_playerHand.push(slot7_deck.pop());
            slot7_updateDisplay();

            var slot7_playerScore = slot7_calculateScore(slot7_playerHand);
            if (slot7_playerScore > 21) {
                slot7_endGame('bust');
            } else if (slot7_playerScore === 21) {
                slot7_stand();
            }
        }

        function slot7_stand() {
            document.getElementById('slot7-hit-btn').disabled = true;
            document.getElementById('slot7-stand-btn').disabled = true;

            while (slot7_calculateScore(slot7_dealerHand) < 17) {
                slot7_dealerHand.push(slot7_deck.pop());
            }

            slot7_updateDisplay(true);
            slot7_endGame('compare');
        }

        function slot7_calculateScore(slot7_hand) {
            var slot7_score = 0;
            var slot7_aces = 0;

            for (var slot7_i = 0; slot7_i < slot7_hand.length; slot7_i++) {
                var slot7_card = slot7_hand[slot7_i];
                if (slot7_card.value === 'A') {
                    slot7_aces++;
                    slot7_score += 11;
                } else if (['J', 'Q', 'K'].indexOf(slot7_card.value) !== -1) {
                    slot7_score += 10;
                } else {
                    slot7_score += parseInt(slot7_card.value);
                }
            }

            while (slot7_score > 21 && slot7_aces > 0) {
                slot7_score -= 10;
                slot7_aces--;
            }

            return slot7_score;
        }

        function slot7_updateDisplay(slot7_showDealerCard) {
            var slot7_dealerCardsDiv = document.getElementById('slot7-dealer-cards');
            var slot7_playerCardsDiv = document.getElementById('slot7-player-cards');

            slot7_dealerCardsDiv.innerHTML = '';
            slot7_playerCardsDiv.innerHTML = '';

            for (var slot7_i = 0; slot7_i < slot7_dealerHand.length; slot7_i++) {
                if (slot7_i === 1 && !slot7_showDealerCard) {
                    slot7_dealerCardsDiv.innerHTML += '<div class="slot7-card slot7-card-back">?</div>';
                } else {
                    slot7_dealerCardsDiv.innerHTML += slot7_createCardHTML(slot7_dealerHand[slot7_i]);
                }
            }

            for (var slot7_j = 0; slot7_j < slot7_playerHand.length; slot7_j++) {
                slot7_playerCardsDiv.innerHTML += slot7_createCardHTML(slot7_playerHand[slot7_j]);
            }

            var slot7_dealerScore = slot7_calculateScore(slot7_dealerHand);
            var slot7_playerScore = slot7_calculateScore(slot7_playerHand);

            document.getElementById('slot7-dealer-score').textContent = slot7_showDealerCard ?
                'Score: ' + slot7_dealerScore : 'Score: ' + slot7_calculateScore([slot7_dealerHand[0]]);
            document.getElementById('slot7-player-score').textContent = 'Score: ' + slot7_playerScore;
        }

        function slot7_createCardHTML(slot7_card) {
            var slot7_isRed = slot7_card.suit === '♥️' || slot7_card.suit === '♦️';
            var slot7_colorClass = slot7_isRed ? 'slot7-card-red' : 'slot7-card-black';
            return '<div class="slot7-card ' + slot7_colorClass + '">' +
                   '<div>' + slot7_card.value + slot7_card.suit + '</div>' +
                   '<div style="text-align: right;">' + slot7_card.value + slot7_card.suit + '</div>' +
                   '</div>';
        }

        function slot7_endGame(slot7_result) {
            slot7_gameActive = false;
            var slot7_playerScore = slot7_calculateScore(slot7_playerHand);
            var slot7_dealerScore = slot7_calculateScore(slot7_dealerHand);
            var slot7_message = '';
            var slot7_messageType = '';

            if (slot7_result === 'bust') {
                slot7_message = 'BUST! You lose $' + slot7_currentBet;
                slot7_messageType = 'lose';
                slot7_balance -= slot7_currentBet;
            } else if (slot7_result === 'compare') {
                if (slot7_dealerScore > 21) {
                    slot7_message = 'Dealer busts! You win $' + slot7_currentBet;
                    slot7_messageType = 'win';
                    slot7_balance += slot7_currentBet;
                } else if (slot7_playerScore > slot7_dealerScore) {
                    slot7_message = 'You win $' + slot7_currentBet + '!';
                    slot7_messageType = 'win';
                    slot7_balance += slot7_currentBet;
                } else if (slot7_playerScore < slot7_dealerScore) {
                    slot7_message = 'Dealer wins! You lose $' + slot7_currentBet;
                    slot7_messageType = 'lose';
                    slot7_balance -= slot7_currentBet;
                } else {
                    slot7_message = 'Push! Bet returned.';
                    slot7_messageType = 'push';
                }
            }

            slot7_showMessage(slot7_message, slot7_messageType);
            document.getElementById('slot7-balance').textContent = slot7_balance;
            slot7_currentBet = 0;
            document.getElementById('slot7-current-bet').textContent = slot7_currentBet;

            document.getElementById('slot7-hit-btn').classList.add('slot7-hidden');
            document.getElementById('slot7-stand-btn').classList.add('slot7-hidden');
            document.getElementById('slot7-deal-btn').classList.remove('slot7-hidden');
            document.getElementById('slot7-hit-btn').disabled = false;
            document.getElementById('slot7-stand-btn').disabled = false;

            if (slot7_balance === 0) {
                slot7_showMessage('Game Over! Refresh to play again.', 'lose');
            }
        }

        function slot7_showMessage(slot7_text, slot7_type) {
            var slot7_messageDiv = document.getElementById('slot7-message');
            slot7_messageDiv.textContent = slot7_text;
            slot7_messageDiv.className = 'slot7-message slot7-message-' + slot7_type;
        }

        document.getElementById('slot7-balance').textContent = slot7_balance;
        document.getElementById('slot7-current-bet').textContent = slot7_currentBet;
    </script>
</div>
        </div>

        <!-- == SLOT 8 == -->
        <div id="slot-8">
            <style>
                /* Scoped styles for Habit Tree banner inside slot-8 */
                #slot-8 .banner-inner-area {
                    padding: 270px 0 200px;
                    position: relative;
                    overflow: hidden;
                    background: #DCFAE6;
                }
                #slot-8 .container {
                    max-width: 1140px;
                    margin: 0 auto;
                    padding: 0 15px;
                }
                #slot-8 .row {
                    display: flex;
                    flex-wrap: wrap;
                    align-items: center;
                }
                #slot-8 .banner-text-inner h1 {
                    margin-bottom: 33px;
                    font-size: 50px;
                    line-height: 55px;
                    font-weight: 600;
                    color: #222;
                }
                #slot-8 .banner-text-inner p {
                    margin-bottom: 43px;
                    font-size: 16px;
                    line-height: 30px;
                    color: #404040;
                }
                #slot-8 .banner-text-inner a img {
                    height: 40px;
                    vertical-align: middle;
                }
                #slot-8 .banner-text-inner a + a img {
                    margin-left: 10px;
                }
                #slot-8 .banner-image img {
                    display: block;
                    max-width: 100%;
                    height: auto;
                    border-radius: 24px;
                }
                /* Simple grid replacements for Bootstrap classes used */
                #slot-8 [class^="col-"],
                #slot-8 [class*=" col-"] {
                    position: relative;
                    width: 100%;
                    padding-right: 15px;
                    padding-left: 15px;
                }
                /* md breakpoint */
                @media (min-width: 768px) {
                    #slot-8 .col-md-8 { flex: 0 0 66.6667%; max-width: 66.6667%; }
                    #slot-8 .col-md-4 { flex: 0 0 33.3333%; max-width: 33.3333%; }
                }
                /* lg breakpoint */
                @media (min-width: 992px) {
                    #slot-8 .col-lg-6 { flex: 0 0 50%; max-width: 50%; }
                    #slot-8 .col-lg-5 { flex: 0 0 41.6667%; max-width: 41.6667%; }
                    #slot-8 .offset-lg-1 { margin-left: 8.3333%; }
                    #slot-8 .banner-text-inner h1 { font-size: 40px; }
                }
                /* xl breakpoint */
                @media (min-width: 1200px) {
                    #slot-8 .col-xl-5 { flex: 0 0 41.6667%; max-width: 41.6667%; }
                }
                /* Small devices adjustments */
                @media (max-width: 575.98px) {
                    #slot-8 .banner-inner-area { padding: 150px 0 96px; }
                    #slot-8 .banner-text-inner { padding-bottom: 80px; }
                    #slot-8 .banner-text-inner h1 { font-size: 32px; line-height: 50px; }
                }
            </style>
            <div class="banner-area-inner">
                <div class="banner-inner-area banner-area1">
                    <div class="container">
                        <div class="row align-items-center">
                            <div class="col-md-8 col-lg-6 col-xl-5">
                                <!-- banner text -->
                                <div class="banner-text-inner">
                                    <h1>Welcome to<br>Habit Tree app!</h1>
                                    <p>🌱 Each habit is a tree, nurture it daily to watch your forest of success grow! 🌳🌳🌳</p>
                                    <a href="https://apps.apple.com/app/id6740733412" target="_blank">
                                        <img src="https://habittree.xyz/assets/img/download/app_store.webp" alt="App Store">
                                    </a>
                                    <a href="https://play.google.com/store/apps/details?id=com.areser.habittree" target="_blank">
                                        <img src="https://habittree.xyz/assets/img/download/play_store.webp" alt="Google Play">
                                    </a>
                                </div>
                                <!-- banner text -->
                            </div>
                            <div class="col-lg-5 offset-lg-1 col-md-4 offse-xl-2">
                                <!-- banner image-->
                                <div class="banner-image">
                                    <img src="https://habittree.xyz/assets/img/screenshot/icon_no_bg.webp" alt="">
                                </div>
                                <!--End of banner image-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- == SLOT 9 == -->
        <div id="slot-9">
            <style>
        .slot9-calculator-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQh7fVcGZ3lgk1pk2OphDGRdf4v_IhD9pczIw&s') center/cover no-repeat;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .slot9-calculator {
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 30px;
            width: 100%;
            max-width: 400px;
        }

        .slot9-calculator-title {
            text-align: center;
            color: #667eea;
            margin: 0 0 20px 0;
            font-size: 28px;
            font-weight: 600;
        }

        .slot9-display {
            background: #f8f9fa;
            border: 3px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: right;
            font-size: 36px;
            font-weight: 500;
            color: #2d3748;
            min-height: 60px;
            word-wrap: break-word;
            word-break: break-all;
        }

        .slot9-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .slot9-btn {
            background: #ffffff;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            font-size: 24px;
            font-weight: 600;
            color: #2d3748;
            cursor: pointer;
            transition: all 0.2s ease;
            outline: none;
        }

        .slot9-btn:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .slot9-btn:active {
            transform: translateY(0);
        }

        .slot9-btn-number {
            background: #ffffff;
        }

        .slot9-btn-operator {
            background: #667eea;
            color: #ffffff;
            border-color: #667eea;
        }

        .slot9-btn-operator:hover {
            background: #5568d3;
        }

        .slot9-btn-equals {
            background: #48bb78;
            color: #ffffff;
            border-color: #48bb78;
            grid-column: span 2;
        }

        .slot9-btn-equals:hover {
            background: #38a169;
        }

        .slot9-btn-clear {
            background: #f56565;
            color: #ffffff;
            border-color: #f56565;
        }

        .slot9-btn-clear:hover {
            background: #e53e3e;
        }

        .slot9-btn-zero {
            grid-column: span 2;
        }
    </style>
    <div class="slot9-calculator-container">
        <div class="slot9-calculator">
            <h1 class="slot9-calculator-title">Máy Tính Slot9</h1>
            <div class="slot9-display" id="slot9Display">0</div>
            <div class="slot9-buttons">
                <button class="slot9-btn slot9-btn-clear" onclick="slot9Clear()">C</button>
                <button class="slot9-btn slot9-btn-operator" onclick="slot9AppendOperator('/')">/</button>
                <button class="slot9-btn slot9-btn-operator" onclick="slot9AppendOperator('*')">×</button>
                <button class="slot9-btn slot9-btn-operator" onclick="slot9AppendOperator('-')">-</button>

                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('7')">7</button>
                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('8')">8</button>
                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('9')">9</button>
                <button class="slot9-btn slot9-btn-operator" onclick="slot9AppendOperator('+')">+</button>

                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('4')">4</button>
                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('5')">5</button>
                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('6')">6</button>
                <button class="slot9-btn slot9-btn-operator" onclick="slot9AppendOperator('.')">.</button>

                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('1')">1</button>
                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('2')">2</button>
                <button class="slot9-btn slot9-btn-number" onclick="slot9AppendNumber('3')">3</button>
                <button class="slot9-btn slot9-btn-clear" onclick="slot9Delete()">⌫</button>

                <button class="slot9-btn slot9-btn-number slot9-btn-zero" onclick="slot9AppendNumber('0')">0</button>
                <button class="slot9-btn slot9-btn-equals" onclick="slot9Calculate()">=</button>
            </div>
        </div>
    </div>

    <script>
        var slot9CurrentInput = '0';
        var slot9PreviousInput = '';
        var slot9Operation = null;
        var slot9ShouldResetDisplay = false;

        function slot9UpdateDisplay() {
            document.getElementById('slot9Display').textContent = slot9CurrentInput;
        }

        function slot9AppendNumber(num) {
            if (slot9ShouldResetDisplay) {
                slot9CurrentInput = num;
                slot9ShouldResetDisplay = false;
            } else {
                slot9CurrentInput = slot9CurrentInput === '0' ? num : slot9CurrentInput + num;
            }
            slot9UpdateDisplay();
        }

        function slot9AppendOperator(op) {
            if (op === '.') {
                if (!slot9CurrentInput.includes('.')) {
                    slot9CurrentInput += '.';
                    slot9UpdateDisplay();
                }
                return;
            }

            if (slot9Operation !== null) {
                slot9Calculate();
            }
            slot9PreviousInput = slot9CurrentInput;
            slot9Operation = op;
            slot9ShouldResetDisplay = true;
        }

        function slot9Calculate() {
            if (slot9Operation === null || slot9ShouldResetDisplay) {
                return;
            }

            var slot9Prev = parseFloat(slot9PreviousInput);
            var slot9Current = parseFloat(slot9CurrentInput);
            var slot9Result = 0;

            switch (slot9Operation) {
                case '+':
                    slot9Result = slot9Prev + slot9Current;
                    break;
                case '-':
                    slot9Result = slot9Prev - slot9Current;
                    break;
                case '*':
                    slot9Result = slot9Prev * slot9Current;
                    break;
                case '/':
                    if (slot9Current === 0) {
                        slot9CurrentInput = 'Error';
                        slot9UpdateDisplay();
                        slot9Operation = null;
                        slot9ShouldResetDisplay = true;
                        return;
                    }
                    slot9Result = slot9Prev / slot9Current;
                    break;
            }

            slot9CurrentInput = slot9Result.toString() + '0';
            slot9Operation = null;
            slot9ShouldResetDisplay = true;
            slot9UpdateDisplay();
        }

        function slot9Clear() {
            slot9CurrentInput = '0';
            slot9PreviousInput = '';
            slot9Operation = null;
            slot9ShouldResetDisplay = false;
            slot9UpdateDisplay();
        }

        function slot9Delete() {
            if (slot9CurrentInput.length > 1) {
                slot9CurrentInput = slot9CurrentInput.slice(0, -1);
            } else {
                slot9CurrentInput = '0';
            }
            slot9UpdateDisplay();
        }

        // Keyboard support
        document.addEventListener('keydown', function(slot9Event) {
            var slot9Key = slot9Event.key;

            if (slot9Key >= '0' && slot9Key <= '9') {
                slot9AppendNumber(slot9Key);
            } else if (slot9Key === '.') {
                slot9AppendOperator('.');
            } else if (slot9Key === '+' || slot9Key === '-' || slot9Key === '*' || slot9Key === '/') {
                slot9AppendOperator(slot9Key);
            } else if (slot9Key === 'Enter' || slot9Key === '=') {
                slot9Calculate();
            } else if (slot9Key === 'Escape') {
                slot9Clear();
            } else if (slot9Key === 'Backspace') {
                slot9Delete();
            }
        });
    </script>
        </div>

        <!-- == SLOT 10 == -->
        <div id="slot-10">
            <h1>hehehehe</h1>
            <img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZzI3b2lqaW1mZnY3d3QwcTY5MGpnaTdxanl4NnFkYnpvM3BndWZteSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lJNoBCvQYp7nq/giphy.gif" alt="Description of GIF" />
        </div>

        <!-- == SLOT 11 == -->
        <div id="slot-11">
            <style>
                #slot-11 {
                    font-family: "Courier New", monospace;
                    background-color: #000;
                    color: #0f0;
                    padding: 10px;
                    border-radius: 8px;
                    border: 2px solid #0f0;
                    max-width: 600px;
                    margin: 20px auto;
                    box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
                }

                #slot-11 .line {
                    display: flex;
                    align-items: center;
                }

                #slot-11 .prompt {
                    margin-right: 10px;
                }

                #slot-11 .input {
                    flex-grow: 1;
                    background: transparent;
                    border: none;
                    color: #0f0;
                    outline: none;
                    font-family: inherit;
                    font-size: inherit;
                }

                #slot-11 .output {
                    margin-top: 10px;
                }
            </style>
            <div id="terminal">
                <div class="line">
                    <span class="prompt">C:\User\DevVietnam&gt;</span>
                    <input
                        type="text"
                        class="input"
                        id="commandInput"
                        placeholder="Type to become a hacker hehe..."
                    />
                </div>
                <div class="output" id="output"></div>
            </div>
            <script>
                console.log("baolng hehe");
                const commandInput = document.getElementById("commandInput");
                const output = document.getElementById("output");

                commandInput.addEventListener("keydown", function (e) {
                    if (e.key === "Enter") {
                        const command = commandInput.value.trim();
                        if (command) {
                            processCommand(command);
                            commandInput.value = "";
                        }
                    }
                });

                function processCommand(command) {
                    const line = document.createElement("div");
                    line.className = "line";
                    line.innerHTML = `<span class="prompt">C:\\User\\DevVietnam&gt;</span> ${command}`;
                    output.appendChild(line);

                    let response = "";
                    switch (command.toLowerCase()) {
                        case "help":
                            response =
                                "Available commands: help, about, clear, echo [text]";
                            break;
                        case "about":
                            response =
                                "Have a good day! - DevVietnam";
                            break;
                        case "clear":
                            output.innerHTML = "";
                            return;
                        case "echo":
                            response = command.slice(5);
                            break;
                    }

                    const responseLine = document.createElement("div");
                    responseLine.className = "line";
                    responseLine.innerHTML = `<span class="prompt">C:\\User\\DevVietnam&gt;</span> ${response}`;
                    output.appendChild(responseLine);
                }
            </script>
        </div>

        <!-- == SLOT 12 == -->
        <div id="slot-12"></div>

        <!-- == SLOT 13 == -->
        <div id="slot-13"></div>

        <!-- == SLOT 14 == -->
        <div id="slot-14"></div>

        <!-- == SLOT 15 == -->
        <div id="slot-15"></div>

        <!-- == SLOT 16 == -->
		<div id="slot-16" class="slot">
			<style>
				/* CSS scoped cho slot-16 */
				#slot-16 {
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					padding: 20px;
					background: #0f0f23;
					/* Màu nền đậm kiểu retro */
					color: #00ff00;
					font-family: 'Courier New', monospace;
					border: 2px solid #00ff00;
					border-radius: 8px;
					box-shadow: 0 0 15px rgba(0, 255, 0, 0.2);
					max-width: 600px;
					margin: 10px auto;
					text-align: center;
				}

				#slot-16 h3 {
					font-size: 1.8rem;
					margin-bottom: 20px;
					text-shadow: 0 0 8px rgba(0, 255, 0, 0.6);
				}

				/* Giao diện ban đầu - Các nút chọn */
				#slot-16 .slot16-buttons-container {
					display: flex;
					flex-direction: column;
					gap: 15px;
					width: 100%;
					margin-bottom: 20px;
				}

				#slot-16 .slot16-difficulty-btn {
					padding: 15px 20px;
					font-size: 1.2rem;
					font-weight: bold;
					font-family: inherit;
					color: #fff;
					border: 2px solid;
					border-radius: 8px;
					cursor: pointer;
					transition: all 0.2s ease;
					display: flex;
					align-items: center;
					justify-content: center;
					gap: 10px;
				}

				#slot-16 .slot16-difficulty-btn:hover:not(:disabled) {
					transform: scale(1.03);
					box-shadow: 0 0 15px currentColor;
				}

				#slot-16 .slot16-difficulty-btn:active:not(:disabled) {
					transform: scale(0.98);
				}

				#slot-16 .slot16-difficulty-btn:disabled {
					opacity: 0.5;
					cursor: not-allowed;
					transform: none;
					box-shadow: none;
				}

				#slot-16 .slot16-easy-btn {
					background: #2e7d32;
					border-color: #4caf50;
				}

				#slot-16 .slot16-normal-btn {
					background: #1565c0;
					border-color: #2196f3;
				}

				#slot-16 .slot16-hard-btn {
					background: #c62828;
					border-color: #f44336;
				}

				#slot-16 .slot16-ai-btn {
					background: #6a1b9a;
					border-color: #9c27b0;
					margin-top: 10px;
					box-shadow: 0 0 10px #9c27b0;
				}

				#slot-16 .slot16-ai-btn:hover:not(:disabled) {
					box-shadow: 0 0 20px #9c27b0;
				}

				/* Giao diện Terminal giả lập */
				#slot-16 .slot16-analysis-terminal {
					display: none;
					/* Ẩn mặc định */
					width: 100%;
					max-height: 200px;
					padding: 15px;
					background: #000;
					border: 1px solid #0f0;
					border-radius: 5px;
					font-family: 'Courier New', monospace;
					font-size: 0.9rem;
					color: #0f0;
					overflow-y: auto;
					white-space: pre-wrap;
					box-shadow: inset 0 0 10px rgba(0, 255, 0, 0.1);
					margin: 10px 0;
				}

				/* Giao diện kết quả */
				#slot-16 .slot16-result-display {
					display: none;
					/* Ẩn mặc định */
					width: 100%;
					padding: 20px;
				}

				#slot-16 .slot16-result-display h2 {
					font-size: 1.5rem;
					margin-bottom: 10px;
					color: #0f0;
				}

				#slot-16 .slot16-result-display p {
					margin: 8px 0;
					font-size: 1rem;
				}

				#slot-16 .slot16-result-display h1 {
					font-size: 3rem;
					margin: 20px 0;
					color: #ffeb3b;
					text-shadow: 0 0 15px rgba(255, 235, 59, 0.7);
				}

				/* Hiệu ứng loading cho nút AI */
				.slot16-loading {
					animation: slot16-pulse 1.5s infinite;
				}

				@keyframes slot16-pulse {
					0% {
						box-shadow: 0 0 10px currentColor;
					}

					50% {
						box-shadow: 0 0 20px currentColor;
					}

					100% {
						box-shadow: 0 0 10px currentColor;
					}
				}
			</style>

			<p style="font-size: 14px; color: #888; margin-top: -10px; text-align: center;">
				<em>Hệ Thống Phân Tích Tâm Lý Dựa Trên Thói Quen Trên Website</em>
			</p>

			<hr>

			<div id="description-area" style="text-align: left; margin-bottom: 20px;">
				<p>Để mang lại trải nghiệm được cá nhân hóa tối ưu, hệ thống của chúng tôi có thể tự động hiệu chỉnh độ khó
					của trò chơi dựa trên phân tích hành vi người dùng trong phiên duyệt web hiện tại. Quá trình này hoàn
					toàn bảo mật và không thu thập dữ liệu cá nhân.</p>

				<!-- Giao diện ban đầu: Các nút chọn độ khó -->
				<div class="slot16-buttons-container" id="slot16ButtonsContainer">
					<h3>CHỌN ĐỘ KHÓ</h3>
					<button class="slot16-difficulty-btn slot16-easy-btn" id="slot16EasyBtn">
						❤️ DỄ
					</button>
					<button class="slot16-difficulty-btn slot16-normal-btn" id="slot16NormalBtn">
						⚔️ BÌNH THƯỜNG
					</button>
					<button class="slot16-difficulty-btn slot16-hard-btn" id="slot16HardBtn">
						☠️ KHÓ
					</button>
					<button class="slot16-difficulty-btn slot16-ai-btn" id="slot16AiBtn">
						🤖 Để AI Phân Tích & Chọn Giúp
					</button>
				</div>

				<!-- Giao diện Terminal giả lập -->
				<div class="slot16-analysis-terminal" id="slot16AnalysisTerminal">
					<!-- Dòng log sẽ được thêm vào đây bằng JavaScript -->
				</div>

				<!-- Giao diện kết quả -->
				<div class="slot16-result-display" id="slot16ResultDisplay">
					<!-- Nội dung sẽ được cập nhật bởi JavaScript -->
				</div>

				<script>
					(function () {
						// --- Dữ liệu giả cho terminal ---
						const slot16AnalysisLines = [
							"> Analyzing browser fingerprint... [Hash: %RANDOM_HASH%]",
							"> Calibrating user skill level based on APM (Actions Per Minute)...",
							"> Estimated APM: %RANDOM_NUM% (Low)",
							"> Estimated APM: %RANDOM_NUM% (High)",
							"> Cross-referencing installed extensions... [AdBlock detected: Stealth skill +%RANDOM_NUM%]",
							"> Scanning sessionStorage for gaming patterns... [No relevant data]",
							"> Evaluating screen resolution: %RANDOM_RES%... [Strategic advantage: %RANDOM_ADV%]",
							"> Pinging server latency... %RANDOM_MS%ms [Reflexes: %RANDOM_REFLEX%]",
							"> Compiling cognitive profile...",
							"> Re-calibrating... User seems indecisive.",
							"> Accessing FAKE_history.log... Found '%RANDOM_SEARCH%'.",
							"> Skill assessment: %RANDOM_SKILL%",
							"> CONFLICT DETECTED. INITIATING RANDOMIZER PROTOCOL.",
							"> Loading quantum processing core... [Status: %RANDOM_STATUS%]",
							"> Calculating optimal difficulty based on mouse acceleration...",
							"> Error 418: I'm a teapot. Recalculating...",
							"> Simulating 1000000 game simulations... [Progress: %RANDOM_PROGRESS%%]",
							"> Detecting presence of gaming peripherals... [Found: %RANDOM_PERIPH%]",
							"> Measuring time spent reading README.md... [Time: %RANDOM_TIME%s]",
							"> Analyzing keystroke dynamics... [Typing speed: %RANDOM_WPM% WPM]",
							"> Scanning for signs of prior gaming experience... [Result: %RANDOM_EXP%]",
							"> Finalizing decision tree... [Node count: %RANDOM_NODES%]"
						];

						// --- Lấy các phần tử DOM ---
						const buttonsContainer = document.getElementById('slot16ButtonsContainer');
						const analysisTerminal = document.getElementById('slot16AnalysisTerminal');
						const resultDisplay = document.getElementById('slot16ResultDisplay');
						const easyBtn = document.getElementById('slot16EasyBtn');
						const normalBtn = document.getElementById('slot16NormalBtn');
						const hardBtn = document.getElementById('slot16HardBtn');
						const aiBtn = document.getElementById('slot16AiBtn');

						let analysisInterval = null; // Biến để lưu trữ ID của setInterval

						// --- Hàm xử lý khi chọn độ khó thủ công ---
						function slot16SetDifficulty(level) {
							// Vô hiệu hóa các nút
							[easyBtn, normalBtn, hardBtn, aiBtn].forEach(btn => btn.disabled = true);
							// Ẩn container nút
							buttonsContainer.style.display = 'none';
							// Hiển thị kết quả
							resultDisplay.style.display = 'block';
							resultDisplay.innerHTML = `<p>Đã chọn độ khó: <strong>${level}</strong>. Trò chơi sẽ bắt đầu...</p><p>(Có điều... không có trò chơi nào cả 😅)</p>`;
						}

						// --- Hàm bắt đầu phân tích giả lập ---
						function slot16StartAiAnalysis() {
							// Vô hiệu hóa các nút
							[easyBtn, normalBtn, hardBtn, aiBtn].forEach(btn => btn.disabled = true);
							// Thêm hiệu ứng loading cho nút AI
							aiBtn.classList.add('slot16-loading');
							// Ẩn container nút
							buttonsContainer.style.display = 'none';
							// Hiển thị terminal
							analysisTerminal.style.display = 'block';

							// Bắt đầu cập nhật log giả lập mỗi 150ms
							analysisInterval = setInterval(slot16UpdateAnalysisConsole, 150);

							// Dừng sau 30 giây và hiển thị kết quả
							setTimeout(slot16FinishAnalysis, 30000);
						}

						// --- Hàm cập nhật nội dung terminal ---
						function slot16UpdateAnalysisConsole() {
							let output = "";
							// Lấy 5 dòng ngẫu nhiên từ analysisLines và thay thế placeholder
							for (let i = 0; i < 5; i++) {
								let line = slot16AnalysisLines[Math.floor(Math.random() * slot16AnalysisLines.length)];
								line = line.replace('%RANDOM_HASH%', Math.random().toString(36).substring(2, 8).toUpperCase());
								line = line.replace('%RANDOM_NUM%', Math.floor(Math.random() * 100));
								line = line.replace('%RANDOM_RES%', `${Math.floor(Math.random() * 2000) + 1000}x${Math.floor(Math.random() * 1500) + 700}`);
								line = line.replace('%RANDOM_ADV%', ['Low', 'Moderate', 'High'][Math.floor(Math.random() * 3)]);
								line = line.replace('%RANDOM_MS%', Math.floor(Math.random() * 100));
								line = line.replace('%RANDOM_REFLEX%', ['Slow', 'Average', 'Fast'][Math.floor(Math.random() * 3)]);
								line = line.replace('%RANDOM_SEARCH%', ['git command for dummies', 'advanced CSS tricks', 'how to beat level 1', 'why is this so hard'][Math.floor(Math.random() * 4)]);
								line = line.replace('%RANDOM_SKILL%', ['BEGINNER', 'INTERMEDIATE', 'EXPERT'][Math.floor(Math.random() * 3)]);
								line = line.replace('%RANDOM_STATUS%', ['OK', 'BUSY', 'OVERLOADED'][Math.floor(Math.random() * 3)]);
								line = line.replace('%RANDOM_PROGRESS%', Math.floor(Math.random() * 100));
								line = line.replace('%RANDOM_PERIPH%', ['None', 'Gaming Mouse', 'Mechanical Keyboard', 'Both'][Math.floor(Math.random() * 4)]);
								line = line.replace('%RANDOM_TIME%', (Math.random() * 10).toFixed(2));
								line = line.replace('%RANDOM_WPM%', Math.floor(Math.random() * 200));
								line = line.replace('%RANDOM_EXP%', ['None', 'Some', 'Extensive'][Math.floor(Math.random() * 3)]);
								line = line.replace('%RANDOM_NODES%', Math.floor(Math.random() * 1000000));
								output += line + '\n';
							}
							analysisTerminal.innerHTML = output;
							// Cuộn xuống cuối cùng
							analysisTerminal.scrollTop = analysisTerminal.scrollHeight;
						}

						// --- Hàm kết thúc phân tích và hiển thị kết quả ---
						function slot16FinishAnalysis() {
							if (analysisInterval) {
								clearInterval(analysisInterval); // Dừng cập nhật console
							}

							// Chọn ngẫu nhiên độ khó
							const difficulties = ["DỄ", "BÌNH THƯỜNG", "KHÓ"];
							const randomChoice = difficulties[Math.floor(Math.random() * difficulties.length)];

							// Hiển thị kết quả cuối cùng
							analysisTerminal.style.display = 'none';
							resultDisplay.style.display = 'block';
							resultDisplay.innerHTML = `
		              <h2>Phân tích hoàn tất.</h2>
		              <p>Không có đọc trình duyệt gì ở đây và cũng không quá quan trọng.</p>
		              <p>Tôi sẽ giúp bạn chọn ngẫu nhiên, độ khó của bạn là...</p>
		              <h1>${randomChoice}</h1>
		            `;
						}

						// --- Gắn sự kiện cho các nút ---
						easyBtn.addEventListener('click', () => slot16SetDifficulty("DỄ"));
						normalBtn.addEventListener('click', () => slot16SetDifficulty("BÌNH THƯỜNG"));
						hardBtn.addEventListener('click', () => slot16SetDifficulty("KHÓ"));
						aiBtn.addEventListener('click', slot16StartAiAnalysis);
					})();
				</script>
			</div>
		</div>

        <!-- == SLOT 17 == -->
        <div id="slot-17">

            <style>
              #slot-17 {
                background: #1a1a1a;
                color: white;
                font-family: Arial, sans-serif;
                text-align: center;
                margin-top: 30px;
                position: relative;
                overflow: hidden;
              }

              #slot-17 h1 {
                font-size: 2.5rem;
                margin-bottom: 30px;
              }

              #slot-17 .bet-container {
                position: absolute;
                top: 120px;
              }

              #slot-17 .bet-container.left {
                left: 220px;
              }

              #slot-17 .bet-container.right {
                right: 220px;
              }

              #slot-17 .bet-container button {
                padding: 10px 20px;
                border-radius: 9999px;
                width: 150px;
                font-weight: bold;
                color: white;
                cursor: pointer;
                border: none;
                transition: 0.2s;
              }

              #slot-17 .bet-container button.active {
                background-color: #dc2626;
              }

              #slot-17 .bet-container button:not(.active) {
                background-color: #9ca3af;
              }

              #slot-17 .bet-container button:hover {
                background-color: #ef4444;
              }

              #slot-17 .dice-area {
                position: relative;
                display: inline-block;
                margin: 20px;
                padding-top: 35px;
              }

              #slot-17 .dice-display {
                font-size: 50px;
                transition: opacity 0.3s;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
              }

              #slot-17 .cup {
                position: absolute;
                top: 0;
                width: 210px;
                height: 210px;
                background-color: white;
                border-radius: 50%;
                cursor: grab;
                z-index: 1;
                display: flex;
                justify-content: center;
                align-items: center;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                transition: transform 0.3s;
                }

                #slot-17 .cup-handle {
                width: 90px;
                height: 90px;
                background-color: white;
                border-radius: 50%;
                position: absolute;
                top: 60px;
                left: 50%;
                transform: translateX(-50%);
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
                }

              #slot-17 input {
                width: 200px;
                padding: 6px;
                border-radius: 5px;
                border: none;
                margin-top: 10px;
                text-align: center;
              }

              #slot-17 button#roll {
                padding: 10px 20px;
                font-size: 18px;
                border-radius: 10px;
                border: none;
                background-color: #007bff;
                color: white;
                cursor: pointer;
                margin-top: 20px;
                transition: 0.2s;
              }

              #slot-17 button#roll:disabled {
                background-color: #4b5563;
                cursor: not-allowed;
              }

              #slot-17 .result {
                font-size: 24px;
                margin-top: 20px;
              }

              #slot-17 .win {
                color: #4ade80;
              }

              #slot-17 .lose {
                color: #f87171;
              }
            </style>
            <h2>NamNT123 - FIS</h2>
            <h1>🎲 Game Tài Xỉu 🎲</h1>

            <div class="bet-container left">
              <div class="text" style="font-size: 60px;">TÀI</div>
              <button id="bet-tai">Cược</button>
            </div>

            <div class="bet-container right">
              <div class="text" style="font-size: 60px; color: gold;">XỈU</div>
              <button id="bet-xiu">Cược</button>
            </div>

            <div class="dice-area">
              <div id="dice-display" class="dice-display" style="opacity: 0.2;">
                <div style="display:flex;gap:10px;">
                  <span>🎲1</span>
                  <span>🎲1</span>
                </div>
                <div><span>🎲1</span></div>
              </div>

              <div id="cup" class="cup">
                <div class="cup-handle"></div>
              </div>
            </div>

            <div>
              <p>💰 Số dư: <span id="balance">1000</span> đ</p>
              <input id="bet-amount" type="number" placeholder="Nhập số tiền cược" />
            </div>

            <h2>Tổng: <span id="sum">?</span></h2>
            <h2>
              Kết quả:
              <span id="result" style="margin-left:5px;">?</span>
            </h2>

            <div id="message" class="result"></div>

            <button id="roll">Lắc Xí Ngầu</button>

            <script>
              (function () {
                const root = document.getElementById("slot-17");

                const diceDisplay = root.querySelector("#dice-display");
                const cup = root.querySelector("#cup");
                const rollBtn = root.querySelector("#roll");
                const betTaiBtn = root.querySelector("#bet-tai");
                const betXiuBtn = root.querySelector("#bet-xiu");
                const balanceEl = root.querySelector("#balance");
                const betAmountEl = root.querySelector("#bet-amount");
                const sumEl = root.querySelector("#sum");
                const resultEl = root.querySelector("#result");
                const messageEl = root.querySelector("#message");

                let dice = [1, 1, 1];
                let sum = 3;
                let result = "";
                let isCupOpen = false;
                let isReadyToOpen = false;
                let userBet = null;
                let balance = 1000;
                let isShaking = false;
                let hasResultApplied = false;
                let startPos = null;

                betTaiBtn.addEventListener("click", () => {
                  userBet = "Tài";
                  betTaiBtn.classList.add("active");
                  betXiuBtn.classList.remove("active");
                });

                betXiuBtn.addEventListener("click", () => {
                  userBet = "Xỉu";
                  betXiuBtn.classList.add("active");
                  betTaiBtn.classList.remove("active");
                });

                rollBtn.addEventListener("click", () => {
                  if (!userBet) {
                    alert("Vui lòng chọn cược Tài hoặc Xỉu trước!");
                    return;
                  }

                  const bet = Number(betAmountEl.value);
                  if (bet <= 0 || bet > balance || isNaN(bet)) {
                    alert("Số tiền cược không hợp lệ!");
                    return;
                  }

                  isCupOpen = false;
                  hasResultApplied = false;
                  cup.style.transform = "translate(0, 0)";
                  diceDisplay.style.opacity = 0.2;
                  isShaking = true;
                  messageEl.textContent = "";
                  sumEl.textContent = "?";
                  resultEl.textContent = "?";
                  rollBtn.disabled = true;
                  rollBtn.textContent = "Đang Lắc...";

                  setTimeout(() => {
                    dice = [rand(), rand(), rand()];
                    sum = dice.reduce((a, b) => a + b, 0);
                    result = sum >= 9 ? "Tài" : "Xỉu";
                    updateDice();
                    isReadyToOpen = true;
                    isShaking = false;
                    rollBtn.disabled = false;
                    rollBtn.textContent = "Lắc Xí Ngầu";
                  }, 2500);
                });

                function rand() {
                  return Math.floor(Math.random() * 6) + 1;
                }

                function updateDice() {
                  diceDisplay.innerHTML = `
                    <div style="display:flex;gap:10px;">
                      <span>🎲${dice[0]}</span>
                      <span>🎲${dice[1]}</span>
                    </div>
                    <div><span>🎲${dice[2]}</span></div>`;
                }

                cup.addEventListener("mousedown", startDrag);
                cup.addEventListener("touchstart", startDrag);

                function startDrag(e) {
                  e.preventDefault();
                  if (!isReadyToOpen || isCupOpen || isShaking) return;

                  const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                  const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                  startPos = { x: clientX, y: clientY };

                  document.addEventListener("mousemove", moveHandler);
                  document.addEventListener("mouseup", endHandler);
                  document.addEventListener("touchmove", moveHandler);
                  document.addEventListener("touchend", endHandler);
                }

                function moveHandler(event) {
                  if (!startPos) return;

                  const currentX = event.touches ? event.touches[0].clientX : event.clientX;
                  const currentY = event.touches ? event.touches[0].clientY : event.clientY;

                  const offsetX = currentX - startPos.x;
                  const offsetY = currentY - startPos.y;
                  cup.style.transform = `translate(calc( ${offsetX}px), ${offsetY}px)`;

                  if (
                    (offsetY < -155 || offsetY > 155 || offsetX > 200 || offsetX < -200) &&
                    !isCupOpen &&
                    !hasResultApplied
                  ) {
                    openCup();
                  }
                }

                function endHandler() {
                  if (!isCupOpen) cup.style.transform = "translate(0, 0)";
                  startPos = null;
                  document.removeEventListener("mousemove", moveHandler);
                  document.removeEventListener("mouseup", endHandler);
                  document.removeEventListener("touchmove", moveHandler);
                  document.removeEventListener("touchend", endHandler);
                }

                function openCup() {
                  isCupOpen = true;
                  diceDisplay.style.opacity = 1;
                  sumEl.textContent = sum;
                  resultEl.textContent = result;
                  hasResultApplied = true;

                  const isWin = userBet === result;
                  const bet = Number(betAmountEl.value);

                  balance += isWin ? bet : -bet;
                  balanceEl.textContent = balance;

                  messageEl.textContent = isWin
                    ? "🎉 Chúc mừng! Bạn đoán đúng!"
                    : "😥 Rất tiếc, bạn đoán sai!";
                  messageEl.className = "result " + (isWin ? "win" : "lose");

                  endHandler();
                }
              })();
            </script>
          </div>


        <!-- == SLOT 18 == -->
        <div id="slot-18">
            <style>
                /* Scoped styles for slot 18 */
                #slot-18 {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                }

                #slot-18 .slot-18-header {
                    text-align: center;
                    padding: 20px;
                    margin: 20px 0;
                    border-top: 2px solid #667eea;
                    border-bottom: 2px solid #667eea;
                }

                #slot-18 .slot-18-header h2 {
                    color: #667eea;
                    margin: 0;
                    font-size: 24px;
                    font-weight: 600;
                }

                #slot-18 .slot-18-feature-1 {
                    padding: 10em;
                    text-align: center;
                    background-color: #e5e5f7;
                    opacity: 0.8;
                    background-image: radial-gradient(circle at center center, #444cf7, #e5e5f7), repeating-radial-gradient(circle at center center, #444cf7, #444cf7, 10px, transparent 20px, transparent 10px);
                    background-blend-mode: multiply;
                    overflow: hidden;
                    border: 2px solid #00ff00;
                    border-radius: 8px;
                    cursor: crosshair;
                    font-family: 'Courier New', monospace;
                    margin-bottom: 0.5em;
                }

                @keyframes slot18-magicBlink {
                    0%, 100% {
                        opacity: 1;
                        transform: scale(1);
                    }
                    25% {
                        opacity: 0.7;
                        transform: scale(1.05);
                    }
                    50% {
                        opacity: 1;
                        transform: scale(1.1);
                    }
                    75% {
                        opacity: 0.7;
                        transform: scale(1.05);
                    }
                }

                @keyframes slot18-magicGlow {
                    0%, 100% {
                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), 0 0 10px rgba(68, 68, 255, 0.5);
                    }
                    50% {
                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), 0 0 25px rgba(68, 68, 255, 1), 0 0 40px rgba(68, 68, 255, 0.8);
                    }
                }

                @keyframes slot18-buttonMagic {
                    0%, 100% {
                        opacity: 1;
                        transform: scale(1) rotate(0deg);
                    }
                    25% {
                        opacity: 0.8;
                        transform: scale(1.08) rotate(-2deg);
                    }
                    50% {
                        opacity: 1;
                        transform: scale(1.15) rotate(2deg);
                    }
                    75% {
                        opacity: 0.8;
                        transform: scale(1.08) rotate(-2deg);
                    }
                }

                @keyframes slot18-buttonGlow {
                    0%, 100% {
                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), 0 0 15px rgba(255, 68, 68, 0.6);
                    }
                    50% {
                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 68, 68, 1), 0 0 50px rgba(255, 68, 68, 0.8);
                    }
                }

                #slot-18 .slot-18-countdown {
                    padding: 15px 30px;
                    background-color: #4444ff;
                    color: white;
                    border-radius: 8px;
                    font-size: 16px;
                    font-weight: bold;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
                    animation: slot18-magicBlink 1.5s ease-in-out infinite, slot18-magicGlow 1.5s ease-in-out infinite;
                }

                #slot-18 .slot-18-miracle-btn {
                    display: none;
                    padding: 15px 30px;
                    background-color: #ff4444;
                    color: white;
                    border: none;
                    border-radius: 8px;
                    font-size: 16px;
                    font-weight: bold;
                    cursor: pointer;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
                    margin: 0 auto;
                    animation: slot18-buttonMagic 1s ease-in-out infinite, slot18-buttonGlow 1s ease-in-out infinite;
                }

                #slot-18 .slot-18-miracle-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 68, 68, 1), 0 0 50px rgba(255, 68, 68, 0.8);
                }

                #slot-18 .slot-18-iframe {
                    width: 100%;
                    height: 800px;
                    border: none;
                    border-radius: 8px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }

                #slot-18 .slot-18-btn-container {
                    text-align: center;
                }

                #slot-18 .slot-18-btn {
                    margin: 10px auto;
                    padding: 12px 24px;
                    background-color: #667eea;
                    color: white;
                    border: none;
                    border-radius: 8px;
                    font-size: 14px;
                    font-weight: bold;
                    cursor: pointer;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
                    transition: all 0.3s ease;
                }

                #slot-18 .slot-18-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.3);
                }

                #slot-18 .slot-18-youtube-btn {
                    margin: 10px auto;
                    padding: 12px 24px;
                    background-color: #ff0000;
                    color: white;
                    border: none;
                    border-radius: 8px;
                    font-size: 14px;
                    font-weight: bold;
                    cursor: pointer;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
                    transition: all 0.3s ease;
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                }

                #slot-18 .slot-18-youtube-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.3);
                }
            </style>

            <!-- Header -->
            <div class="slot-18-header">
                <h2>Welcome to slot 18</h2>
            </div>

            <!-- Feature 1: Countdown & Miracle Button -->
            <div class="slot-18-feature-1">
                <p class="slot-18-countdown">Điều kì diệu sẽ hiện ra sau 5 giây</p>
                <button class="slot-18-miracle-btn">Ấn vào đây để thấy điều kì diệu</button>
            </div>

            <script>
                (function () {
                    let countdown = 5;
                    const messageElement = document.querySelector('#slot-18 .slot-18-countdown');
                    const miracleButton = document.querySelector('#slot-18 .slot-18-miracle-btn');

                    const countdownInterval = setInterval(() => {
                        countdown--;
                        if (countdown > 0) {
                            messageElement.textContent = `Điều kì diệu sẽ hiện ra sau ${countdown} giây`;
                        } else {
                            messageElement.style.display = 'none';
                            miracleButton.style.display = 'block';
                            clearInterval(countdownInterval);
                        }
                    }, 1000);

                    miracleButton.addEventListener('click', () => {
                        window.open('https://youtu.be/dQw4w9WgXcQ', '_blank');
                    });
                })();
            </script>

            <!-- Feature 2: Timelapse Iframe -->
            <div>
                <iframe
                    src="https://noctrlz1110.github.io/timelapse"
                    class="slot-18-iframe"
                    title="Timelapse">
                </iframe>

                <div class="slot-18-btn-container">
                    <button class="slot-18-btn slot-18-fullscreen-btn">
                        Xem toàn màn hình
                    </button>
                    <button
                        class="slot-18-btn"
                        onclick="window.open('https://noctrlz1110.github.io/timelapse', '_blank')">
                        Mở trong cửa sổ mới
                    </button>
                </div>

                <div class="slot-18-btn-container">
                    <button
                        class="slot-18-youtube-btn"
                        onclick="window.open('https://bit.ly/van-huy-dev-youtube', '_blank')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
                        </svg>
                        Đăng ký kênh ủng hộ mình
                    </button>
                </div>

                <script>
                    (function () {
                        const fullscreenBtn = document.querySelector('#slot-18 .slot-18-fullscreen-btn');
                        const iframe = document.querySelector('#slot-18 .slot-18-iframe');

                        fullscreenBtn.addEventListener('click', () => {
                            if (iframe.requestFullscreen) {
                                iframe.requestFullscreen();
                            } else if (iframe.webkitRequestFullscreen) {
                                iframe.webkitRequestFullscreen();
                            } else if (iframe.msRequestFullscreen) {
                                iframe.msRequestFullscreen();
                            }
                        });
                    })();
                </script>
            </div>

            <!-- Footer -->
            <div class="slot-18-header">
                <h2>Cảm ơn bạn đã ghé thăm Slot 18! ✨</h2>
            </div>
        </div>

        <!-- == SLOT 19 == -->
        <div id="slot-19"></div>

        <!-- == SLOT 20 == -->
        <div id="slot-20">
          <style>
            #slot-20 {
              position: relative;
              overflow: hidden;
              width: 100%;                 /* nền full bề ngang */
              padding: 32px 0;             /* chừa khoảng cho nội dung */
              border-radius: 20px;         /* nếu parent có nền khác vẫn bo đẹp */
              background: radial-gradient(circle at top left, #e0e7ff, #fdf2f8 40%, #fefce8 80%);
              box-shadow: 0 8px 32px rgba(0,0,0,0.12);
              border: 1px solid rgba(255,255,255,0.4);
            }

            /* Lớp nền động phủ toàn bộ chiều ngang slot */
            #slot-20 .fc-bg {
              position: absolute;
              inset: 0;     /* full width + full height của #slot-20 */
              overflow: hidden;
              z-index: 0;
            }
            #slot-20 .fc-blob {
              position: absolute;
              border-radius: 50%;
              filter: blur(60px);
              opacity: 0.6;
              animation: slot20Move 16s infinite ease-in-out alternate;
            }
            #slot-20 .fc-blob:nth-child(1) {
              width: 220px; height: 220px;
              top: -60px; left: -60px;
              background: radial-gradient(circle, #6366f1, #ec4899);
              animation-delay: 0s;
            }
            #slot-20 .fc-blob:nth-child(2) {
              width: 260px; height: 260px;
              bottom: -80px; right: -80px;
              background: radial-gradient(circle, #f59e0b, #f97316);
              animation-delay: 4s;
            }
            #slot-20 .fc-blob:nth-child(3) {
              width: 180px; height: 180px;
              top: 35%; left: 25%;
              background: radial-gradient(circle, #22d3ee, #3b82f6);
              animation-delay: 8s;
            }
            @keyframes slot20Move {
              0%   { transform: translate(0, 0) scale(1);   opacity: 0.6; }
              50%  { transform: translate(60px,-40px) scale(1.1); opacity: 0.75; }
              100% { transform: translate(-50px,50px) scale(0.92); opacity: 0.6; }
            }

            #slot-20 .fc-content {
              position: relative;
              z-index: 1;
              width: 100%;
              max-width: 460px;           /* kích thước mini app giữ nguyên */
              margin: 0 auto;             /* canh giữa */
              padding: 0 20px;            /* an toàn trên màn hình nhỏ */
              font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }

            #slot-20 .fc-card {
              width: 100%;
              height: 240px;
              border-radius: 18px;
              perspective: 1000px;
              position: relative;
              cursor: pointer;
              background: linear-gradient(160deg, #6366f1, #ec4899, #f59e0b);
              background-size: 300% 300%;
              animation: slot20BgShift 6s ease infinite;
              box-shadow: 0 8px 24px rgba(0,0,0,0.18);
            }
            @keyframes slot20BgShift {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }

            #slot-20 .fc-card-inner {
              width: 100%; height: 100%;
              position: relative;
              transition: transform 0.8s;
              transform-style: preserve-3d;
            }
            #slot-20 .fc-card.flipped .fc-card-inner { transform: rotateY(180deg); }

            #slot-20 .fc-face {
              position: absolute;
              inset: 0;
              border-radius: 18px;
              display: flex;
              align-items: center;
              justify-content: center;
              backface-visibility: hidden;
              text-align: center;
              font-weight: 700;
              user-select: none;
              font-size: 26px;
              padding: 20px;
              box-sizing: border-box;
              color: #fff;
            }
            #slot-20 .fc-front {
              background: linear-gradient(135deg, rgba(17,24,39,0.9), rgba(30,58,138,0.8));
              box-shadow: inset 0 0 40px rgba(255,255,255,0.1);
            }
            #slot-20 .fc-back {
              background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,240,245,0.9));
              color: #1e293b;
              transform: rotateY(180deg);
              font-weight: 600;
              font-size: 20px;
            }

            #slot-20 .fc-controls {
              display: flex;
              gap: 12px;
              width: 100%;
            }
            #slot-20 .fc-btn {
              flex: 1;
              padding: 12px 14px;
              border: 0;
              border-radius: 14px;
              background: linear-gradient(120deg, #6366f1, #ec4899);
              color: #fff;
              font-weight: 700;
              cursor: pointer;
              box-shadow: 0 4px 10px rgba(0,0,0,0.2);
              transition: transform 0.15s ease, box-shadow 0.3s ease, opacity 0.2s;
            }
            #slot-20 .fc-btn:hover {
              transform: translateY(-2px);
              box-shadow: 0 8px 20px rgba(236,72,153,0.4);
            }

            #slot-20 .fc-link {
              width: 100%;
              display: block;
              text-align: center;
              text-decoration: none;
              background: linear-gradient(120deg, #f59e0b, #f97316);
              color: #fff;
              padding: 12px 16px;
              border-radius: 14px;
              font-weight: 700;
              box-shadow: 0 6px 18px rgba(249,115,22,0.3);
              transition: transform 0.15s ease, box-shadow 0.3s ease;
            }
            #slot-20 .fc-link:hover {
              transform: translateY(-2px);
              box-shadow: 0 8px 28px rgba(249,115,22,0.45);
            }

            #slot-20 .fc-note {
              font-size: 14px;
              color: #333;
              text-align: center;
              line-height: 1.6;
              background: rgba(255,255,255,0.6);
              border-top: 1px dashed rgba(0,0,0,0.15);
              border-radius: 0 0 12px 12px;
              padding-top: 10px;
              width: 100%;
            }
            #slot-20 .fc-note a { color: #2563eb; font-weight: 700; text-decoration: none; }
            #slot-20 .fc-note a:hover { text-decoration: underline; }
          </style>

          <div class="fc-bg">
            <div class="fc-blob"></div>
            <div class="fc-blob"></div>
            <div class="fc-blob"></div>
          </div>

          <div class="fc-content">
            <div class="fc-card" id="slot-20-card" aria-label="Flashcard">
              <div class="fc-card-inner">
                <div class="fc-face fc-front" id="slot-20-front"></div>
                <div class="fc-face fc-back" id="slot-20-back"></div>
              </div>
            </div>

            <div class="fc-controls">
              <button class="fc-btn" id="slot-20-prev">⟨ Trước</button>
              <button class="fc-btn" id="slot-20-next">Sau ⟩</button>
            </div>

            <a class="fc-link" href="https://theeng.org" target="_blank" rel="noopener noreferrer">
              ✨ Mở theeng.org ✨
            </a>

            <div class="fc-note">
              📘 Em sẽ cập nhật thêm dữ liệu từ vựng sau này<br>
              hoặc vào <a href="https://theeng.org" target="_blank" rel="noopener noreferrer">theeng.org</a> để học nhiều từ hơn!
            </div>
          </div>

          <script>
            (function(){
              const slot20Root = document.getElementById("slot-20");
              if (!slot20Root) return console.log("[slot-20] Root not found");

              const slot20Data = [
                  { word: "abandon", meaning: "từ bỏ, ruồng bỏ" },
                  { word: "brilliant", meaning: "xuất sắc, rực rỡ" },
                  { word: "courage", meaning: "sự can đảm" },
                  { word: "delight", meaning: "niềm vui sướng" },
                  { word: "eager", meaning: "háo hức, hăng hái" },
                  { word: "flourish", meaning: "phát triển mạnh mẽ" },
                  { word: "grateful", meaning: "biết ơn" },
                  { word: "humble", meaning: "khiêm tốn" },
                  { word: "inspire", meaning: "truyền cảm hứng" },
                  { word: "justice", meaning: "công lý" },
                  { word: "keen", meaning: "sắc sảo, hăng hái" },
                  { word: "loyal", meaning: "trung thành" },
                  { word: "modest", meaning: "khiêm nhường" },
                  { word: "nurture", meaning: "nuôi dưỡng" },
                  { word: "optimistic", meaning: "lạc quan" },
                  { word: "patient", meaning: "kiên nhẫn" },
                  { word: "reliable", meaning: "đáng tin cậy" },
                  { word: "sincere", meaning: "chân thành" },
                  { word: "thrive", meaning: "phát triển, thịnh vượng" },
                  { word: "unique", meaning: "độc nhất" },
                  { word: "vivid", meaning: "sống động, sinh động" },
                  { word: "wisdom", meaning: "sự khôn ngoan" },
                  { word: "youthful", meaning: "trẻ trung" },
                  { word: "zealous", meaning: "nhiệt huyết" },
                  { word: "ambitious", meaning: "tham vọng" },
                  { word: "benevolent", meaning: "nhân từ, rộng lượng" },
                  { word: "curious", meaning: "tò mò" },
                  { word: "diligent", meaning: "chăm chỉ" },
                  { word: "empathy", meaning: "đồng cảm" },
                  { word: "fearless", meaning: "dũng cảm, không sợ hãi" },
                  { word: "generous", meaning: "hào phóng" },
                  { word: "honest", meaning: "trung thực" },
                  { word: "imagine", meaning: "tưởng tượng" },
                  { word: "joyful", meaning: "vui vẻ" },
                  { word: "knowledge", meaning: "kiến thức" },
                  { word: "limitless", meaning: "vô hạn" },
                  { word: "mindful", meaning: "chú tâm, để tâm" },
                  { word: "noble", meaning: "cao quý" },
                  { word: "passionate", meaning: "đam mê" },
                  { word: "resilient", meaning: "kiên cường" },
                  { word: "serene", meaning: "bình yên" },
                  { word: "tolerant", meaning: "khoan dung" },
                  { word: "uplift", meaning: "nâng tinh thần" },
                  { word: "vulnerable", meaning: "dễ bị tổn thương" },
                  { word: "wonder", meaning: "kỳ diệu, ngạc nhiên" },
                  { word: "yearn", meaning: "khao khát" },
                  { word: "zephyr", meaning: "làn gió nhẹ" }
                ];


              const card = slot20Root.querySelector("#slot-20-card");
              const front = slot20Root.querySelector("#slot-20-front");
              const back = slot20Root.querySelector("#slot-20-back");
              const prev = slot20Root.querySelector("#slot-20-prev");
              const next = slot20Root.querySelector("#slot-20-next");

              let index = 0;
              function render() {
                const item = slot20Data[index];
                front.textContent = item.word;
                back.textContent = item.meaning;
              }

              card.addEventListener("click", () => card.classList.toggle("flipped"));
              next.addEventListener("click", () => {
                card.classList.remove("flipped");
                index = (index + 1) % slot20Data.length;
                render();
              });
              prev.addEventListener("click", () => {
                card.classList.remove("flipped");
                index = (index - 1 + slot20Data.length) % slot20Data.length;
                render();
              });

              render();
            })();
          </script>
        </div>


        <!-- == SLOT 21 == -->
        <div id="slot-21">
            <style>
                #slot-21 {
                    --plant-green: #a8e6cf;
                    --light-green: #dcedc1;
                    --mint-green: #88d8a3;
                    --soft-yellow: #f7f3b7;
                    --gentle-blue: #b8e6e8;
                    --cream: #faf3e0;
                    --soft-pink: #f8d7da;
                    --white: #ffffff;
        
                    background: linear-gradient(135deg, var(--cream) 0%, var(--light-green) 50%, var(--gentle-blue) 100%);
                    padding: 20px;
                    font-family: 'Inter', 'Nunito', sans-serif;
                    position: relative;
                    overflow: hidden;
                    min-height: 100vh;
                }
        
                #slot-21::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background:
                        radial-gradient(circle at 20% 80%, rgba(168, 230, 207, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(184, 230, 232, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(220, 237, 193, 0.2) 0%, transparent 50%);
                    pointer-events: none;
                }
        
                #slot-21 .plant-garden-container {
                    position: relative;
                    z-index: 1;
                    max-width: 1200px;
                    margin: 0 auto;
                    display: grid;
                    grid-template-areas:
                        "header header header"
                        "status plant controls"
                        "info info info";
                    grid-template-columns: 1fr 2fr 1fr;
                    gap: 30px;
                    align-items: start;
                    min-height: 90vh;
                }
        
                #slot-21 .plant-header {
                    grid-area: header;
                    text-align: center;
                    margin-bottom: 20px;
                }
        
                #slot-21 .plant-title {
                    font-size: 2.5rem;
                    font-weight: 800;
                    color: var(--mint-green);
                    margin: 0;
                    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                    letter-spacing: -0.5px;
                }
        
                #slot-21 .plant-subtitle {
                    font-size: 1.1rem;
                    color: #6b7280;
                    margin: 8px 0 0 0;
                    font-weight: 500;
                }
        
                #slot-21 .plant-status-panel {
                    grid-area: status;
                    background: rgba(255, 255, 255, 0.8);
                    backdrop-filter: blur(10px);
                    border-radius: 20px;
                    padding: 25px;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
                    border: 1px solid rgba(255, 255, 255, 0.2);
                }
        
                #slot-21 .status-title {
                    font-size: 1.3rem;
                    font-weight: 700;
                    color: var(--mint-green);
                    margin-bottom: 20px;
                    text-align: center;
                }
        
                #slot-21 .status-bar {
                    display: flex;
                    align-items: center;
                    margin-bottom: 15px;
                    gap: 12px;
                }
        
                #slot-21 .status-icon {
                    font-size: 1.5rem;
                    width: 35px;
                    text-align: center;
                }
        
                #slot-21 .status-progress {
                    flex: 1;
                    height: 12px;
                    background: rgba(0, 0, 0, 0.1);
                    border-radius: 6px;
                    overflow: hidden;
                    position: relative;
                }
        
                #slot-21 .status-fill {
                    height: 100%;
                    border-radius: 6px;
                    transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
                    position: relative;
                    overflow: hidden;
                }
        
                #slot-21 .status-fill::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
                    animation: slot21-shimmer 2s infinite;
                }
        
                @keyframes slot21-shimmer {
                    0% {
                        left: -100%;
                    }
        
                    100% {
                        left: 100%;
                    }
                }
        
                #slot-21 .water-fill {
                    background: linear-gradient(90deg, var(--gentle-blue), #5fbeaa);
                }
        
                #slot-21 .sun-fill {
                    background: linear-gradient(90deg, var(--soft-yellow), #ffd93d);
                }
        
                #slot-21 .nutrition-fill {
                    background: linear-gradient(90deg, var(--light-green), var(--mint-green));
                }
        
                #slot-21 .status-value {
                    font-weight: 600;
                    color: #374151;
                    min-width: 45px;
                    text-align: right;
                }
        
                #slot-21 .plant-main {
                    grid-area: plant;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    background: rgba(255, 255, 255, 0.6);
                    backdrop-filter: blur(10px);
                    border-radius: 30px;
                    padding: 40px;
                    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    position: relative;
                    min-height: 400px;
                }
        
                #slot-21 .plant-sprite {
                    font-size: 8rem;
                    margin-bottom: 20px;
                    transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
                    transform-origin: bottom center;
                    position: relative;
                    z-index: 2;
                }
        
                #slot-21 .plant-sprite.dancing {
                    animation: slot21-plant-dance 1s ease-in-out;
                }
        
                @keyframes slot21-plant-dance {
        
                    0%,
                    100% {
                        transform: rotate(0deg) scale(1);
                    }
        
                    25% {
                        transform: rotate(-5deg) scale(1.05);
                    }
        
                    50% {
                        transform: rotate(5deg) scale(1.1);
                    }
        
                    75% {
                        transform: rotate(-3deg) scale(1.05);
                    }
                }
        
                #slot-21 .plant-sprite.growing {
                    animation: slot21-plant-grow 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
                }
        
                @keyframes slot21-plant-grow {
                    0% {
                        transform: scale(0.8);
                        opacity: 0.8;
                    }
        
                    50% {
                        transform: scale(1.15);
                        opacity: 1;
                    }
        
                    100% {
                        transform: scale(1);
                        opacity: 1;
                    }
                }
        
                #slot-21 .plant-mood {
                    font-size: 2.5rem;
                    margin-bottom: 15px;
                    transition: all 0.3s ease;
                }
        
                #slot-21 .plant-message {
                    background: rgba(255, 255, 255, 0.9);
                    padding: 12px 20px;
                    border-radius: 20px;
                    color: #374151;
                    font-weight: 500;
                    text-align: center;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                    margin-top: 10px;
                    border: 1px solid rgba(168, 230, 207, 0.3);
                }
        
                #slot-21 .plant-controls {
                    grid-area: controls;
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                }
        
                #slot-21 .care-button {
                    background: rgba(255, 255, 255, 0.9);
                    backdrop-filter: blur(10px);
                    border: 2px solid transparent;
                    border-radius: 16px;
                    padding: 15px 20px;
                    font-size: 1.1rem;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
                    position: relative;
                    overflow: hidden;
                }
        
                #slot-21 .care-button::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                    transition: left 0.5s ease;
                }
        
                #slot-21 .care-button:hover::before {
                    left: 100%;
                }
        
                #slot-21 .care-button:hover {
                    transform: translateY(-3px);
                    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
                    border-color: var(--plant-green);
                }
        
                #slot-21 .care-button:active {
                    transform: translateY(-1px);
                }
        
                #slot-21 .care-button.water-btn:hover {
                    background: linear-gradient(135deg, var(--gentle-blue), rgba(184, 230, 232, 0.8));
                    color: #1f2937;
                }
        
                #slot-21 .care-button.sun-btn:hover {
                    background: linear-gradient(135deg, var(--soft-yellow), rgba(247, 243, 183, 0.8));
                    color: #1f2937;
                }
        
                #slot-21 .care-button.nutrition-btn:hover {
                    background: linear-gradient(135deg, var(--light-green), rgba(220, 237, 193, 0.8));
                    color: #1f2937;
                }
        
                #slot-21 .care-button.music-btn:hover {
                    background: linear-gradient(135deg, var(--soft-pink), rgba(248, 215, 218, 0.8));
                    color: #1f2937;
                }
        
                #slot-21 .care-button.reset-btn:hover {
                    background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
                    color: #1f2937;
                }
        
                #slot-21 .button-icon {
                    font-size: 1.3rem;
                }
        
                #slot-21 .plant-info {
                    grid-area: info;
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    gap: 20px;
                    margin-top: 20px;
                }
        
                #slot-21 .info-card {
                    background: rgba(255, 255, 255, 0.8);
                    backdrop-filter: blur(10px);
                    border-radius: 16px;
                    padding: 20px;
                    text-align: center;
                    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
                    border: 1px solid rgba(255, 255, 255, 0.2);
                }
        
                #slot-21 .info-label {
                    font-size: 0.9rem;
                    color: #6b7280;
                    margin-bottom: 8px;
                    font-weight: 500;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
        
                #slot-21 .info-value {
                    font-size: 1.8rem;
                    font-weight: 800;
                    color: var(--mint-green);
                    margin: 0;
                }
        
                #slot-21 .sound-toggle {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    background: rgba(255, 255, 255, 0.9);
                    border: none;
                    border-radius: 50%;
                    width: 50px;
                    height: 50px;
                    font-size: 1.2rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                    z-index: 10;
                }
        
                #slot-21 .sound-toggle:hover {
                    transform: scale(1.1);
                    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
                }
        
                #slot-21 .particle {
                    position: absolute;
                    pointer-events: none;
                    z-index: 10;
                }
        
                #slot-21 .water-particle {
                    width: 8px;
                    height: 8px;
                    background: var(--gentle-blue);
                    border-radius: 50%;
                    animation: slot21-water-drop 1.5s ease-out forwards;
                }
        
                @keyframes slot21-water-drop {
                    0% {
                        transform: translateY(-50px);
                        opacity: 1;
                    }
        
                    100% {
                        transform: translateY(100px);
                        opacity: 0;
                    }
                }
        
                #slot-21 .sparkle-particle {
                    width: 6px;
                    height: 6px;
                    background: var(--soft-yellow);
                    border-radius: 50%;
                    animation: slot21-sparkle 1s ease-out forwards;
                }
        
                @keyframes slot21-sparkle {
                    0% {
                        transform: scale(0) rotate(0deg);
                        opacity: 1;
                    }
        
                    50% {
                        transform: scale(1.5) rotate(180deg);
                        opacity: 0.8;
                    }
        
                    100% {
                        transform: scale(0) rotate(360deg);
                        opacity: 0;
                    }
                }
        
                #slot-21 .plant-footer {
                    text-align: center;
                    margin-top: 20px;
                    grid-column: 1 / -1;
                }
        
                #slot-21 .plant-credit {
                    color: #6b7280;
                    font-size: 0.9rem;
                    margin: 0;
                }
        
                /* Responsive Design */
                @media (max-width: 1024px) {
                    #slot-21 .plant-garden-container {
                        grid-template-areas:
                            "header"
                            "plant"
                            "status"
                            "controls"
                            "info";
                        grid-template-columns: 1fr;
                        gap: 20px;
                    }
        
                    #slot-21 .plant-controls {
                        display: grid;
                        grid-template-columns: repeat(2, 1fr);
                        gap: 12px;
                    }
        
                    #slot-21 .plant-info {
                        grid-template-columns: 1fr;
                        gap: 15px;
                    }
                }
        
                @media (max-width: 640px) {
                    #slot-21 {
                        padding: 15px;
                    }
        
                    #slot-21 .plant-title {
                        font-size: 2rem;
                    }
        
                    #slot-21 .plant-sprite {
                        font-size: 6rem;
                    }
        
                    #slot-21 .plant-controls {
                        grid-template-columns: 1fr;
                    }
        
                    #slot-21 .care-button {
                        padding: 12px 16px;
                        font-size: 1rem;
                    }
                }
            </style>
        
            <div class="plant-garden-container">
                <div class="plant-header">
                    <h1 class="plant-title">🌿 Nuôi em đi</h1>
                    <p class="plant-subtitle">Chăm sóc em đang hoàng vào</p>
                </div>
        
                <div class="plant-status-panel">
                    <h3 class="status-title">Sức khỏe</h3>
        
                    <div class="status-bar">
                        <span class="status-icon">💧</span>
                        <div class="status-progress">
                            <div class="status-fill water-fill" id="slot21-water-bar" style="width: 80%"></div>
                        </div>
                        <span class="status-value" id="slot21-water-value">80%</span>
                    </div>
        
                    <div class="status-bar">
                        <span class="status-icon">☀️</span>
                        <div class="status-progress">
                            <div class="status-fill sun-fill" id="slot21-sun-bar" style="width: 60%"></div>
                        </div>
                        <span class="status-value" id="slot21-sun-value">60%</span>
                    </div>
        
                    <div class="status-bar">
                        <span class="status-icon">🌰</span>
                        <div class="status-progress">
                            <div class="status-fill nutrition-fill" id="slot21-nutrition-bar" style="width: 40%"></div>
                        </div>
                        <span class="status-value" id="slot21-nutrition-value">40%</span>
                    </div>
                </div>
        
                <div class="plant-main">
                    <div class="plant-sprite" id="slot21-plant-sprite">🌱</div>
                    <div class="plant-mood" id="slot21-plant-mood">😊</div>
                    <div class="plant-message" id="slot21-plant-message">Chào bạn! Hãy chăm sóc tôi nhé! 🌱</div>
                </div>
        
                <div class="plant-controls">
                    <button class="care-button water-btn" id="slot21-water-btn">
                        <span class="button-icon">💧</span>
                        Tưới nước
                    </button>
        
                    <button class="care-button sun-btn" id="slot21-sun-btn">
                        <span class="button-icon">☀️</span>
                        Phơi nắng
                    </button>
        
                    <button class="care-button nutrition-btn" id="slot21-nutrition-btn">
                        <span class="button-icon">🌰</span>
                        Bón phân
                    </button>
        
                    <button class="care-button music-btn" id="slot21-music-btn">
                        <span class="button-icon">🎵</span>
                        Chơi nhạc
                    </button>
        
                    <button class="care-button reset-btn" id="slot21-reset-btn">
                        <span class="button-icon">✨</span>
                        Cây mới
                    </button>
                </div>
        
                <div class="plant-info">
                    <div class="info-card">
                        <div class="info-label">Điểm chăm sóc</div>
                        <div class="info-value" id="slot21-care-score">0</div>
                    </div>
        
                    <div class="info-card">
                        <div class="info-label">Tuổi cây</div>
                        <div class="info-value" id="slot21-plant-age">1 ngày</div>
                    </div>
        
                    <div class="info-card">
                        <div class="info-label">Giai đoạn</div>
                        <div class="info-value" id="slot21-plant-stage">Mầm non</div>
                    </div>
                </div>
        
                <div class="plant-footer">
                    <p class="plant-credit">🌱 truongqv12 - Thợ code</p>
                </div>
        
                <button class="sound-toggle" id="slot21-sound-toggle" title="Toggle Sound">🔊</button>
        
            </div>
        
            <script>
                (function () {
                    // Sử dụng in-memory storage thay vì localStorage
                    let slot21PlantData = {
                        stage: 0,
                        waterLevel: 80,
                        sunlightLevel: 60,
                        nutritionLevel: 40,
                        careScore: 0,
                        age: 1,
                        lastCareTime: Date.now(),
                        soundEnabled: true
                    };

                    const slot21PlantStages = [
                        { emoji: '🌰', name: 'Hạt giống', minScore: 0 },
                        { emoji: '🌱', name: 'Mầm non', minScore: 100 },
                        { emoji: '🌿', name: 'Cây con', minScore: 500 },
                        { emoji: '🌳', name: 'Cây lớn', minScore: 1500 },
                        { emoji: '🌸', name: 'Ra hoa', minScore: 3000 }
                    ];

                    const slot21Messages = {
                        happy: [
                            "Tôi cảm thấy rất khỏe mạnh! 🌟",
                            "Cảm ơn bạn đã chăm sóc tôi! 💚",
                            "Tôi đang phát triển tốt! ✨",
                            "Cuộc sống thật tuyệt vời! 🌈"
                        ],
                        thirsty: [
                            "Tôi hơi khát nước... 💧",
                            "Có thể tưới cho tôi chút nước không? 🥺",
                            "Đất khá khô rồi... 💦"
                        ],
                        needSun: [
                            "Tôi cần thêm ánh sáng... ☀️",
                            "Hơi tối quá... có thể phơi nắng không? 😴",
                            "Ánh sáng giúp tôi quang hợp đấy! 🌤️"
                        ],
                        needNutrition: [
                            "Em đói rồi... 🍽️",
                            "Cần thêm chất dinh dưỡng nhé! 🌰",
                            "Bón phân giúp em lớn nhanh hơn! 💪"
                        ],
                        dancing: [
                            "Nhạc hay quá! Em muốn nhảy! 💃",
                            "La la la~ 🎵",
                            "Cảm ơn bạn đã chơi nhạc! 🎶"
                        ]
                    };

                    // DOM Elements
                    const slot21Elements = {
                        plantSprite: document.getElementById('slot21-plant-sprite'),
                        plantMood: document.getElementById('slot21-plant-mood'),
                        plantMessage: document.getElementById('slot21-plant-message'),
                        waterBar: document.getElementById('slot21-water-bar'),
                        sunBar: document.getElementById('slot21-sun-bar'),
                        nutritionBar: document.getElementById('slot21-nutrition-bar'),
                        waterValue: document.getElementById('slot21-water-value'),
                        sunValue: document.getElementById('slot21-sun-value'),
                        nutritionValue: document.getElementById('slot21-nutrition-value'),
                        careScore: document.getElementById('slot21-care-score'),
                        plantAge: document.getElementById('slot21-plant-age'),
                        plantStage: document.getElementById('slot21-plant-stage'),
                        waterBtn: document.getElementById('slot21-water-btn'),
                        sunBtn: document.getElementById('slot21-sun-btn'),
                        nutritionBtn: document.getElementById('slot21-nutrition-btn'),
                        musicBtn: document.getElementById('slot21-music-btn'),
                        resetBtn: document.getElementById('slot21-reset-btn'),
                        soundToggle: document.getElementById('slot21-sound-toggle')
                    };

                    // Audio Context for gentle sounds
                    let slot21AudioContext;

                    function slot21InitAudio() {
                        try {
                            slot21AudioContext = new (window.AudioContext || window.webkitAudioContext)();
                        } catch (e) {
                            console.log('Audio not supported');
                        }
                    }

                    function slot21PlayTone(frequency, duration, type = 'sine') {
                        if (!slot21AudioContext || !slot21PlantData.soundEnabled) return;

                        const oscillator = slot21AudioContext.createOscillator();
                        const gainNode = slot21AudioContext.createGain();

                        oscillator.connect(gainNode);
                        gainNode.connect(slot21AudioContext.destination);

                        oscillator.frequency.setValueAtTime(frequency, slot21AudioContext.currentTime);
                        oscillator.type = type;

                        gainNode.gain.setValueAtTime(0, slot21AudioContext.currentTime);
                        gainNode.gain.linearRampToValueAtTime(0.1, slot21AudioContext.currentTime + 0.01);
                        gainNode.gain.exponentialRampToValueAtTime(0.001, slot21AudioContext.currentTime + duration);

                        oscillator.start(slot21AudioContext.currentTime);
                        oscillator.stop(slot21AudioContext.currentTime + duration);
                    }

                    function slot21PlayWaterSound() {
                        slot21PlayTone(400, 0.3);
                        setTimeout(() => slot21PlayTone(350, 0.2), 100);
                        setTimeout(() => slot21PlayTone(300, 0.2), 200);
                    }

                    function slot21PlaySunSound() {
                        slot21PlayTone(600, 0.4);
                        setTimeout(() => slot21PlayTone(800, 0.3), 100);
                    }

                    function slot21PlayNutritionSound() {
                        slot21PlayTone(500, 0.2);
                        setTimeout(() => slot21PlayTone(700, 0.2), 150);
                        setTimeout(() => slot21PlayTone(900, 0.2), 300);
                    }

                    function slot21PlayMusicSound() {
                        const melody = [523, 587, 659, 698, 784];
                        melody.forEach((freq, i) => {
                            setTimeout(() => slot21PlayTone(freq, 0.3), i * 200);
                        });
                    }

                    // Update display
                    function slot21UpdateDisplay() {
                        // Update status bars
                        slot21Elements.waterBar.style.width = slot21PlantData.waterLevel + '%';
                        slot21Elements.sunBar.style.width = slot21PlantData.sunlightLevel + '%';
                        slot21Elements.nutritionBar.style.width = slot21PlantData.nutritionLevel + '%';

                        slot21Elements.waterValue.textContent = Math.round(slot21PlantData.waterLevel) + '%';
                        slot21Elements.sunValue.textContent = Math.round(slot21PlantData.sunlightLevel) + '%';
                        slot21Elements.nutritionValue.textContent = Math.round(slot21PlantData.nutritionLevel) + '%';

                        // Update plant info
                        slot21Elements.careScore.textContent = slot21PlantData.careScore.toLocaleString();
                        slot21Elements.plantAge.textContent = slot21PlantData.age + ' ngày';

                        // Update plant stage
                        let newStage = slot21PlantData.stage;
                        for (let i = slot21PlantStages.length - 1; i >= 0; i--) {
                            if (slot21PlantData.careScore >= slot21PlantStages[i].minScore) {
                                newStage = i;
                                break;
                            }
                        }

                        if (newStage !== slot21PlantData.stage) {
                            slot21PlantData.stage = newStage;
                            slot21Elements.plantSprite.classList.add('growing');
                            setTimeout(() => {
                                slot21Elements.plantSprite.classList.remove('growing');
                            }, 1500);
                        }

                        slot21Elements.plantSprite.textContent = slot21PlantStages[slot21PlantData.stage].emoji;
                        slot21Elements.plantStage.textContent = slot21PlantStages[slot21PlantData.stage].name;

                        // Update mood and message
                        slot21UpdateMoodAndMessage();

                        // Update sound toggle
                        slot21Elements.soundToggle.textContent = slot21PlantData.soundEnabled ? '🔊' : '🔇';
                    }

                    function slot21UpdateMoodAndMessage() {
                        const avgHealth = (slot21PlantData.waterLevel + slot21PlantData.sunlightLevel + slot21PlantData.nutritionLevel) / 3;
                        let mood, messageArray;

                        if (avgHealth > 70) {
                            mood = '😊';
                            messageArray = slot21Messages.happy;
                        } else if (slot21PlantData.waterLevel < 30) {
                            mood = '🥺';
                            messageArray = slot21Messages.thirsty;
                        } else if (slot21PlantData.sunlightLevel < 30) {
                            mood = '😴';
                            messageArray = slot21Messages.needSun;
                        } else if (slot21PlantData.nutritionLevel < 30) {
                            mood = '😋';
                            messageArray = slot21Messages.needNutrition;
                        } else {
                            mood = '🙂';
                            messageArray = slot21Messages.happy;
                        }

                        slot21Elements.plantMood.textContent = mood;
                        slot21Elements.plantMessage.textContent = messageArray[Math.floor(Math.random() * messageArray.length)];
                    }

                    // Create particle effect
                    function slot21CreateParticles(type, count = 5) {
                        const container = slot21Elements.plantSprite.parentElement;
                        const rect = slot21Elements.plantSprite.getBoundingClientRect();
                        const containerRect = container.getBoundingClientRect();

                        for (let i = 0; i < count; i++) {
                            const particle = document.createElement('div');
                            particle.className = `particle ${type}-particle`;

                            const x = rect.left - containerRect.left + (rect.width / 2) + (Math.random() - 0.5) * 60;
                            const y = rect.top - containerRect.top + (rect.height / 2) + (Math.random() - 0.5) * 40;

                            particle.style.left = x + 'px';
                            particle.style.top = y + 'px';

                            container.appendChild(particle);

                            setTimeout(() => {
                                if (particle.parentElement) {
                                    particle.parentElement.removeChild(particle);
                                }
                            }, 1500);
                        }
                    }

                    // Care actions
                    function slot21WaterPlant() {
                        if (slot21PlantData.waterLevel >= 100) {
                            slot21Elements.plantMessage.textContent = "Tôi đã đủ nước rồi! 😅";
                            return;
                        }

                        slot21PlantData.waterLevel = Math.min(100, slot21PlantData.waterLevel + 25);
                        slot21PlantData.careScore += 10;

                        slot21CreateParticles('water', 8);
                        slot21PlayWaterSound();

                        slot21Elements.plantMessage.textContent = "Ahh... sảng khoái quá! Cảm ơn bạn! 💧";
                        slot21UpdateDisplay();
                    }

                    function slot21GiveSunlight() {
                        if (slot21PlantData.sunlightLevel >= 100) {
                            slot21Elements.plantMessage.textContent = "Đủ nắng rồi! Không muốn bị cháy lá! 😎";
                            return;
                        }

                        slot21PlantData.sunlightLevel = Math.min(100, slot21PlantData.sunlightLevel + 20);
                        slot21PlantData.careScore += 8;

                        slot21CreateParticles('sparkle', 6);
                        slot21PlaySunSound();

                        slot21Elements.plantMessage.textContent = "Ánh sáng ấm áp làm tôi tràn đầy năng lượng! ☀️";
                        slot21UpdateDisplay();
                    }

                    function slot21AddNutrition() {
                        if (slot21PlantData.nutritionLevel >= 100) {
                            slot21Elements.plantMessage.textContent = "Tôi no rồi! Cảm ơn bạn! 😋";
                            return;
                        }

                        slot21PlantData.nutritionLevel = Math.min(100, slot21PlantData.nutritionLevel + 30);
                        slot21PlantData.careScore += 15;

                        slot21CreateParticles('sparkle', 10);
                        slot21PlayNutritionSound();

                        slot21Elements.plantMessage.textContent = "Ngon quá! Tôi cảm thấy mạnh mẽ hơn! 🌰";
                        slot21UpdateDisplay();
                    }

                    function slot21PlayMusic() {
                        slot21Elements.plantSprite.classList.add('dancing');
                        slot21PlayMusicSound();

                        const randomMessage = slot21Messages.dancing[Math.floor(Math.random() * slot21Messages.dancing.length)];
                        slot21Elements.plantMessage.textContent = randomMessage;
                        slot21PlantData.careScore += 5;

                        setTimeout(() => {
                            slot21Elements.plantSprite.classList.remove('dancing');
                            slot21UpdateDisplay();
                        }, 1000);
                    }

                    function slot21ResetPlant() {
                        if (confirm('Bạn có chắc muốn bắt đầu với cây mới? Tất cả tiến độ sẽ bị mất!')) {
                            slot21PlantData = {
                                stage: 0,
                                waterLevel: 80,
                                sunlightLevel: 60,
                                nutritionLevel: 40,
                                careScore: 0,
                                age: 1,
                                lastCareTime: Date.now(),
                                soundEnabled: slot21PlantData.soundEnabled
                            };

                            slot21Elements.plantMessage.textContent = "Xin chào! Tôi là cây mới của bạn! 🌱";
                            slot21UpdateDisplay();
                        }
                    }

                    function slot21ToggleSound() {
                        slot21PlantData.soundEnabled = !slot21PlantData.soundEnabled;
                        slot21UpdateDisplay();
                    }

                    // Gentle decay over time
                    function slot21StartDecayTimer() {
                        setInterval(() => {
                            // Very gentle decay - 1% every 30 seconds (2% per minute)
                            slot21PlantData.waterLevel = Math.max(0, slot21PlantData.waterLevel - 1);
                            slot21PlantData.sunlightLevel = Math.max(0, slot21PlantData.sunlightLevel - 0.8);
                            slot21PlantData.nutritionLevel = Math.max(0, slot21PlantData.nutritionLevel - 0.6);

                            slot21UpdateDisplay();
                        }, 30000); // 30 seconds
                    }

                    // Age increment
                    function slot21StartAgeTimer() {
                        setInterval(() => {
                            slot21PlantData.age++;
                            slot21UpdateDisplay();
                        }, 86400000); // 24 hours
                    }

                    // Event listeners
                    slot21Elements.waterBtn.addEventListener('click', slot21WaterPlant);
                    slot21Elements.sunBtn.addEventListener('click', slot21GiveSunlight);
                    slot21Elements.nutritionBtn.addEventListener('click', slot21AddNutrition);
                    slot21Elements.musicBtn.addEventListener('click', slot21PlayMusic);
                    slot21Elements.resetBtn.addEventListener('click', slot21ResetPlant);
                    slot21Elements.soundToggle.addEventListener('click', slot21ToggleSound);

                    // Initialize
                    function slot21Init() {
                        slot21InitAudio();
                        slot21UpdateDisplay();
                        slot21StartDecayTimer();
                        slot21StartAgeTimer();
                    }

                    // Start the game
                    slot21Init();
                })();
            </script>
        </div>

        <!-- == SLOT 22 == -->
        <div id="slot-22"></div>

        <!-- == SLOT 23 == -->
        <div id="slot-23">
            <style>
                #slot-23 #slot-23-canvas {
                    display: inline-block;
                }

                #slot-23 .slot-23-container {
                    text-align: center;
                    border: 1px solid #b6ae9f;
                    background-color: #333;
                    margin: 10px
                }

                #slot-23 .slot-23-btn {
                    padding: 8px;
                }
            </style>

            <div class="slot-23-container">
                <div>
                    <div id="slot-23-canvas"></div>
                </div>
                <button class="slot-23-btn zoom-out">-</button>
                <button class="slot-23-btn zoom-in">+</button>
            </div>

            <script>
                async function slot_23_run() {
                    let gifCompressData;
                    try {
                        // load file data của ảnh, khó lớn nên tôi đã compress nó lại
                        const response = await fetch('https://gist.githubusercontent.com/ndt-pro/5af3b848885a0ac1599dd746e6034105/raw/06757be3cf8392df1fc476955f52555b7f15c90f/evernightdance_data.json');
                        if (response.ok) {
                            gifCompressData = await response.json();
                        }
                    } catch (error) { }
                    if (!gifCompressData) {
                        return;
                    }
                    // hàm decomporess
                    const decompress = (data) => {
                        const result = [];
                        for (let i = 0; i < data.length; i += 2) {
                            const value = data[i];
                            const count = data[i + 1];
                            for (let j = 0; j < count; j++) {
                                result.push(value);
                            }
                        }
                        return result;
                    }
                    const characters = ['*', '+', 'o', '^', '#', '$'];
                    const canvasWidth = 100,
                        canvasHeight = 92,
                        frameSize = 10;
                    let canvasFontSize = 16, canvasLineHeight = canvasFontSize / 2;

                    // giải nén mảng pixel và pick lại màu cho từng pixel
                    const colors = gifCompressData.colors;
                    const dataMapColor = decompress(gifCompressData.data).map((item) => colors[item]);

                    const elementsPerInitialSplit = dataMapColor.length / frameSize;
                    const finalResult = [];

                    for (let i = 0; i < frameSize; i++) {
                        const start = i * elementsPerInitialSplit;
                        const end = start + elementsPerInitialSplit;
                        const initialChunk = dataMapColor.slice(start, end);
                        const subChunkedArray = [];
                        let subIndex = 0;
                        while (subIndex < initialChunk.length) {
                            const finalChunk = initialChunk.slice(subIndex, subIndex + canvasWidth);
                            subChunkedArray.push(finalChunk);
                            subIndex += canvasWidth;
                        }
                        finalResult.push(subChunkedArray);
                    }

                    // vẽ đống điểm ảnh bằng kí tự
                    const canvas = document.getElementById('slot-23-canvas');
                    canvas.style.fontSize = `${canvasFontSize}px`;
                    canvas.style.lineHeight = `${canvasLineHeight}px`;
                    const pixels = [];
                    const character = characters[Math.floor(Math.random() * characters.length)];
                    for (let y = 0; y < canvasHeight; y++) {
                        const row = document.createElement('div');
                        pixels[y] = [];
                        for (let x = 0; x < canvasWidth; x++) {
                            const dot = document.createElement('span');
                            dot.innerHTML = character;
                            pixels[y][x] = dot;
                            row.append(dot);
                        }
                        canvas.append(row);
                    }

                    let frameIndex = 0;
                    const backgroundColors = ['#B6AE9F', '#FFA4A4', '#BADFDB', '#D97D55', '#6D94C5', '#F8FAB4', '#DA6C6C'];
                    let backgroundColor = backgroundColors[Math.floor(Math.random() * backgroundColors.length)];

                    let lastTime = 0;
                    const update = (timestamp = 0) => {
                        if (timestamp >= lastTime + 100) {
                            // duyệt qua mỗi frame và set màu cho từng pixel
                            const frame = finalResult[frameIndex];
                            for (let y = 0; y < canvasHeight; y++) {
                                for (let x = 0; x < canvasWidth; x++) {
                                    if (frame[y][x] === '#FFFFFF') {
                                        pixels[y][x].style.color = backgroundColor;
                                    } else {
                                        pixels[y][x].style.color = frame[y][x];
                                    }
                                }
                            }
                            frameIndex++;
                            frameIndex %= frameSize;
                            if (frameIndex % 5 === 0) {
                                backgroundColor = backgroundColors[Math.floor(Math.random() * backgroundColors.length)];
                            }
                            lastTime = timestamp;
                        }
                        requestAnimationFrame(update);
                    }
                    update();

                    // mấy cái nút
                    const zoomInBtn = document.querySelector('.slot-23-btn.zoom-in');
                    const zoomOutBtn = document.querySelector('.slot-23-btn.zoom-out');

                    const zoom = (value) => {
                        canvasFontSize += value;
                        canvasLineHeight = canvasFontSize / 2;
                        canvas.style.fontSize = `${canvasFontSize}px`;
                        canvas.style.lineHeight = `${canvasLineHeight}px`;
                    }
                    zoomInBtn.addEventListener('click', () => zoom(3));
                    zoomOutBtn.addEventListener('click', () => zoom(-3));
                }

                slot_23_run();
            </script>
        </div>

        <!-- == SLOT 24 == -->
        <div id="slot-24">
            <style>
                #slot-24 {
                    --primary: #ff4458;
                    --secondary: #ff8177;
                    --success: #4caf50;
                    --danger: #f44336;
                    --dark: #1a1a2e;
                    --light: #f8f9fa;
                    --card-bg: #ffffff;
                    --shadow: rgba(0,0,0,0.1);
                    
                    min-height: 100vh;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    padding: 20px;
                    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                }

                #slot-24 * {
                    box-sizing: border-box;
                }

                #slot-24 .dating-app {
                    max-width: 500px;
                    margin: 0 auto;
                    background: white;
                    border-radius: 20px;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    overflow: hidden;
                }

                #slot-24 .app-header {
                    background: linear-gradient(135deg, var(--primary), var(--secondary));
                    color: white;
                    padding: 20px;
                    text-align: center;
                    position: relative;
                }

                #slot-24 .app-header h1 {
                    margin: 0;
                    font-size: 28px;
                    font-weight: 700;
                }

                #slot-24 .app-header .online-status {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    background: rgba(255,255,255,0.2);
                    padding: 5px 12px;
                    border-radius: 20px;
                    font-size: 12px;
                    display: flex;
                    align-items: center;
                    gap: 5px;
                }

                #slot-24 .app-header .online-status::before {
                    content: '';
                    width: 8px;
                    height: 8px;
                    background: #4caf50;
                    border-radius: 50%;
                    animation: slot24-pulse 2s infinite;
                }

                @keyframes slot24-pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.5; }
                }

                #slot-24 .screen {
                    display: none;
                    padding: 30px;
                    min-height: 500px;
                }

                #slot-24 .screen.active {
                    display: block;
                }

                #slot-24 .form-group {
                    margin-bottom: 20px;
                }

                #slot-24 .form-group label {
                    display: block;
                    margin-bottom: 8px;
                    font-weight: 600;
                    color: var(--dark);
                    font-size: 14px;
                }

                #slot-24 .form-group input,
                #slot-24 .form-group select,
                #slot-24 .form-group textarea {
                    width: 100%;
                    padding: 12px;
                    border: 2px solid #e0e0e0;
                    border-radius: 10px;
                    font-size: 14px;
                    transition: border-color 0.3s;
                    font-family: inherit;
                }

                #slot-24 .form-group input:focus,
                #slot-24 .form-group select:focus,
                #slot-24 .form-group textarea:focus {
                    outline: none;
                    border-color: var(--primary);
                }

                #slot-24 .form-group textarea {
                    resize: vertical;
                    min-height: 80px;
                }

                #slot-24 .btn {
                    width: 100%;
                    padding: 14px;
                    border: none;
                    border-radius: 10px;
                    font-size: 16px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s;
                    background: linear-gradient(135deg, var(--primary), var(--secondary));
                    color: white;
                }

                #slot-24 .btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 5px 20px rgba(255,68,88,0.4);
                }

                #slot-24 .btn:disabled {
                    opacity: 0.5;
                    cursor: not-allowed;
                    transform: none;
                }

                #slot-24 .btn-secondary {
                    background: #e0e0e0;
                    color: var(--dark);
                }

                #slot-24 .btn-secondary:hover {
                    background: #d0d0d0;
                    box-shadow: none;
                }

                #slot-24 .link-btn {
                    background: none;
                    border: none;
                    color: var(--primary);
                    cursor: pointer;
                    font-size: 14px;
                    margin-top: 10px;
                    text-decoration: underline;
                }

                #slot-24 .error-msg {
                    background: #ffebee;
                    color: #c62828;
                    padding: 12px;
                    border-radius: 8px;
                    margin-bottom: 15px;
                    font-size: 14px;
                }

                #slot-24 .success-msg {
                    background: #e8f5e9;
                    color: #2e7d32;
                    padding: 12px;
                    border-radius: 8px;
                    margin-bottom: 15px;
                    font-size: 14px;
                }

                /* Swipe Card Styles */
                #slot-24 .swipe-container {
                    position: relative;
                    height: 500px;
                }

                #slot-24 .swipe-card {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    background: white;
                    border-radius: 15px;
                    box-shadow: 0 10px 30px var(--shadow);
                    overflow: hidden;
                    transition: transform 0.3s, opacity 0.3s;
                }

                #slot-24 .swipe-card.swiping {
                    transition: none;
                }

                #slot-24 .card-image {
                    width: 100%;
                    height: 70%;
                    object-fit: cover;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                    font-size: 48px;
                    position: relative;
                }

                #slot-24 .card-image img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }

                #slot-24 .online-badge {
                    position: absolute;
                    top: 15px;
                    right: 15px;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 13px;
                    font-weight: 600;
                    backdrop-filter: blur(10px);
                    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                    transition: all 0.3s ease;
                    z-index: 10;
                }

                #slot-24 .online-badge.online {
                    background: rgba(76, 175, 80, 0.95);
                    color: white;
                    animation: slot24-pulse-badge 2s infinite;
                }

                #slot-24 .online-badge.offline {
                    background: rgba(97, 97, 97, 0.95);
                    color: white;
                }

                @keyframes slot24-pulse-badge {
                    0%, 100% { 
                        box-shadow: 0 4px 12px rgba(0,0,0,0.2), 0 0 0 0 rgba(76, 175, 80, 0.7);
                    }
                    50% { 
                        box-shadow: 0 4px 12px rgba(0,0,0,0.2), 0 0 0 8px rgba(76, 175, 80, 0);
                    }
                }

                #slot-24 .card-info {
                    padding: 20px;
                    height: 30%;
                    overflow: auto;
                }

                #slot-24 .card-info h2 {
                    margin: 0 0 10px 0;
                    font-size: 24px;
                    color: var(--dark);
                }

                #slot-24 .card-info p {
                    margin: 5px 0;
                    color: #666;
                    font-size: 14px;
                }

                #slot-24 .swipe-buttons {
                    display: flex;
                    justify-content: center;
                    gap: 30px;
                    padding: 20px;
                }

                #slot-24 .swipe-btn {
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    border: none;
                    cursor: pointer;
                    font-size: 30px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transition: all 0.3s;
                    box-shadow: 0 5px 15px var(--shadow);
                }

                #slot-24 .swipe-btn:hover {
                    transform: scale(1.1);
                }

                #slot-24 .swipe-btn.nope {
                    background: #f44336;
                    color: white;
                }

                #slot-24 .swipe-btn.like {
                    background: #4caf50;
                    color: white;
                }

                #slot-24 .no-users {
                    text-align: center;
                    padding: 50px 20px;
                    color: #666;
                }

                #slot-24 .no-users h3 {
                    font-size: 24px;
                    margin-bottom: 10px;
                }

                /* Match Modal */
                #slot-24 .match-modal {
                    display: none;
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,0,0,0.9);
                    z-index: 10000;
                    align-items: center;
                    justify-content: center;
                }

                #slot-24 .match-modal.show {
                    display: flex;
                }

                #slot-24 .match-content {
                    text-align: center;
                    color: white;
                    animation: slot24-matchPop 0.5s;
                }

                @keyframes slot24-matchPop {
                    0% { transform: scale(0); opacity: 0; }
                    50% { transform: scale(1.1); }
                    100% { transform: scale(1); opacity: 1; }
                }

                #slot-24 .match-content h2 {
                    font-size: 48px;
                    margin: 0;
                    color: var(--primary);
                }

                #slot-24 .match-content p {
                    font-size: 24px;
                    margin: 20px 0;
                }

                /* Matches List */
                #slot-24 .matches-list {
                    max-height: 500px;
                    overflow-y: auto;
                }

                #slot-24 .match-item {
                    display: flex;
                    align-items: center;
                    padding: 15px;
                    border-bottom: 1px solid #e0e0e0;
                    cursor: pointer;
                    transition: background 0.3s;
                }

                #slot-24 .match-item:hover {
                    background: #f5f5f5;
                }

                #slot-24 .match-avatar {
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    background: linear-gradient(135deg, var(--primary), var(--secondary));
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                    font-size: 24px;
                    font-weight: bold;
                    margin-right: 15px;
                    overflow: hidden;
                }

                #slot-24 .match-avatar img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }

                #slot-24 .match-info {
                    flex: 1;
                }

                #slot-24 .match-info h4 {
                    margin: 0 0 5px 0;
                    font-size: 16px;
                }

                #slot-24 .match-info p {
                    margin: 0;
                    color: #666;
                    font-size: 14px;
                }

                /* Chat Screen */
                #slot-24 .chat-header {
                    display: flex;
                    align-items: center;
                    padding: 15px;
                    border-bottom: 1px solid #e0e0e0;
                    background: white;
                }

                #slot-24 .chat-messages {
                    height: 400px;
                    overflow-y: auto;
                    padding: 20px;
                    background: #f5f5f5;
                }

                #slot-24 .message {
                    margin-bottom: 15px;
                    display: flex;
                }

                #slot-24 .message.sent {
                    justify-content: flex-end;
                }

                #slot-24 .message-bubble {
                    max-width: 70%;
                    padding: 12px 16px;
                    border-radius: 18px;
                    word-wrap: break-word;
                }

                #slot-24 .message.sent .message-bubble {
                    background: linear-gradient(135deg, var(--primary), var(--secondary));
                    color: white;
                }

                #slot-24 .message.received .message-bubble {
                    background: white;
                    color: var(--dark);
                }

                #slot-24 .chat-input {
                    display: flex;
                    padding: 15px;
                    background: white;
                    border-top: 1px solid #e0e0e0;
                }

                #slot-24 .chat-input input {
                    flex: 1;
                    padding: 12px;
                    border: 2px solid #e0e0e0;
                    border-radius: 25px;
                    margin-right: 10px;
                }

                #slot-24 .chat-input button {
                    width: 50px;
                    height: 50px;
                    border-radius: 50%;
                    border: none;
                    background: linear-gradient(135deg, var(--primary), var(--secondary));
                    color: white;
                    cursor: pointer;
                    font-size: 20px;
                }

                #slot-24 .video-controls {
                    display: flex;
                    gap: 10px;
                    margin-top: 10px;
                }

                #slot-24 .video-controls button {
                    flex: 1;
                    padding: 10px;
                    border: none;
                    border-radius: 8px;
                    background: var(--primary);
                    color: white;
                    cursor: pointer;
                    font-size: 14px;
                }

                /* Photo Upload */
                #slot-24 .photo-upload {
                    border: 2px dashed #e0e0e0;
                    border-radius: 10px;
                    padding: 30px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s;
                }

                #slot-24 .photo-upload:hover {
                    border-color: var(--primary);
                    background: #f5f5f5;
                }

                #slot-24 .photo-preview {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 10px;
                    margin-top: 15px;
                }

                #slot-24 .photo-preview-item {
                    position: relative;
                    padding-top: 100%;
                    border-radius: 8px;
                    overflow: hidden;
                    background: #f5f5f5;
                }

                #slot-24 .photo-preview-item img {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }

                #slot-24 .photo-preview-item .remove {
                    position: absolute;
                    top: 5px;
                    right: 5px;
                    background: rgba(0,0,0,0.7);
                    color: white;
                    border: none;
                    width: 25px;
                    height: 25px;
                    border-radius: 50%;
                    cursor: pointer;
                    font-size: 16px;
                }

                /* Navigation */
                #slot-24 .nav-tabs {
                    display: flex;
                    border-bottom: 2px solid #e0e0e0;
                    margin-bottom: 20px;
                }

                #slot-24 .nav-tab {
                    flex: 1;
                    padding: 15px;
                    background: none;
                    border: none;
                    cursor: pointer;
                    font-size: 16px;
                    font-weight: 600;
                    color: #666;
                    transition: all 0.3s;
                }

                #slot-24 .nav-tab.active {
                    color: var(--primary);
                    border-bottom: 3px solid var(--primary);
                }

                /* Loading */
                #slot-24 .loading {
                    text-align: center;
                    padding: 50px;
                    color: #666;
                }

                #slot-24 .spinner {
                    border: 3px solid #f3f3f3;
                    border-top: 3px solid var(--primary);
                    border-radius: 50%;
                    width: 40px;
                    height: 40px;
                    animation: slot24-spin 1s linear infinite;
                    margin: 0 auto 20px;
                }

                @keyframes slot24-spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }

                /* Video Call */
                #slot-24 .video-call-modal {
                    display: none;
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,0,0,0.95);
                    z-index: 10000;
                }

                #slot-24 .video-call-modal.show {
                    display: block;
                }

                #slot-24 .video-container {
                    position: relative;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                #slot-24 .remote-video {
                    width: 100%;
                    height: 100%;
                    object-fit: contain;
                }

                #slot-24 .local-video {
                    position: absolute;
                    bottom: 20px;
                    right: 20px;
                    width: 150px;
                    height: 200px;
                    object-fit: cover;
                    border-radius: 10px;
                    border: 2px solid white;
                }

                #slot-24 .call-controls {
                    position: absolute;
                    bottom: 30px;
                    left: 50%;
                    transform: translateX(-50%);
                    display: flex;
                    gap: 20px;
                }

                #slot-24 .call-btn {
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    border: none;
                    cursor: pointer;
                    font-size: 24px;
                    color: white;
                    transition: all 0.3s;
                }

                #slot-24 .call-btn.hangup {
                    background: #f44336;
                }

                #slot-24 .call-btn.mute {
                    background: #666;
                }

                #slot-24 .call-btn.video {
                    background: #2196f3;
                }

                /* Responsive */
                @media (max-width: 600px) {
                    #slot-24 {
                        padding: 0;
                    }

                    #slot-24 .dating-app {
                        border-radius: 0;
                        max-width: 100%;
                    }
                }
            </style>

            <div class="dating-app">
                <div class="app-header">
                    <h1>💕 ChaosDating</h1>
                    <div class="online-status">
                        <span id="slot24-online-count">0</span> trực tuyến
                    </div>
                </div>

                <!-- Login Screen -->
                <div id="slot24-login-screen" class="screen active">
                    <h2>Kết Nối Đàn Chim Việt</h2>
                    <div id="slot24-login-error" class="error-msg" style="display:none;"></div>
                    <form id="slot24-login-form">
                        <div class="form-group">
                            <label>Tên đăng nhập</label>
                            <input type="text" id="slot24-login-username" required>
                        </div>
                        <div class="form-group">
                            <label>Mật khẩu</label>
                            <input type="password" id="slot24-login-password" required>
                        </div>
                        <div class="form-group" style="display:flex;align-items:center;gap:8px;">
                            <input type="checkbox" id="slot24-remember-me" style="width:auto;margin:0;">
                            <label for="slot24-remember-me" style="margin:0;cursor:pointer;user-select:none;">
                                Ghi nhớ đăng nhập (3 ngày)
                            </label>
                        </div>
                        <button type="submit" class="btn">Đăng nhập</button>
                        <button type="button" class="link-btn" onclick="slot24App.showRegister()">
                            Chưa có tài khoản? Đăng ký ngay
                        </button>
                    </form>
                </div>

                <!-- Register Screen -->
                <div id="slot24-register-screen" class="screen">
                    <h2>Tạo Tài Khoản</h2>
                    <div id="slot24-register-error" class="error-msg" style="display:none;"></div>
                    <form id="slot24-register-form">
                        <div class="form-group">
                            <label>Tên đăng nhập</label>
                            <input type="text" id="slot24-register-username" required minlength="3" placeholder="Tối thiểu 3 ký tự">
                        </div>
                        <div class="form-group">
                            <label>Mật khẩu</label>
                            <input type="password" id="slot24-register-password" required minlength="6" placeholder="Tối thiểu 6 ký tự">
                        </div>
                        <div class="form-group">
                            <label>Giới tính</label>
                            <select id="slot24-register-gender" required>
                                <option value="">Chọn giới tính...</option>
                                <option value="male">Nam</option>
                                <option value="female">Nữ</option>
                                <option value="other">Khác</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quan tâm đến</label>
                            <select id="slot24-register-interested" required>
                                <option value="">Chọn...</option>
                                <option value="male">Nam</option>
                                <option value="female">Nữ</option>
                                <option value="both">Cả hai</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Tuổi</label>
                            <input type="number" id="slot24-register-age" min="18" max="100" placeholder="Từ 18 tuổi trở lên">
                        </div>
                        <div class="form-group">
                            <label>Giới thiệu bản thân</label>
                            <textarea id="slot24-register-bio" placeholder="Hãy kể về bản thân bạn..."></textarea>
                        </div>
                        <button type="submit" class="btn">Đăng ký</button>
                        <button type="button" class="link-btn" onclick="slot24App.showLogin()">
                            Đã có tài khoản? Đăng nhập
                        </button>
                    </form>
                </div>

                <!-- Profile Setup Screen -->
                <div id="slot24-profile-screen" class="screen">
                    <h2>Thiết Lập Hồ Sơ</h2>
                    <div class="form-group">
                        <label>Tải lên ảnh (tối đa 6 ảnh)</label>
                        <div class="photo-upload" onclick="document.getElementById('slot24-photo-input').click()">
                            <div>📸 Nhấn để tải ảnh lên</div>
                            <small>JPG, PNG, tối đa 2MB mỗi ảnh</small>
                        </div>
                        <input type="file" id="slot24-photo-input" multiple accept="image/*" style="display:none;">
                        <div id="slot24-photo-preview" class="photo-preview"></div>
                    </div>
                    <button class="btn" onclick="slot24App.saveProfile()">Lưu & Bắt Đầu Khám Phá</button>
                </div>

                <!-- Main App Screen -->
                <div id="slot24-main-screen" class="screen">
                    <div class="nav-tabs">
                        <button class="nav-tab active" onclick="slot24App.showTab('swipe')">🔥 Khám Phá</button>
                        <button class="nav-tab" onclick="slot24App.showTab('matches')">💬 Kết Nối</button>
                        <button class="nav-tab" onclick="slot24App.showTab('profile')">👤 Hồ Sơ</button>
                    </div>

                    <!-- Swipe Tab -->
                    <div id="slot24-swipe-tab" class="tab-content">
                        <div id="slot24-swipe-container" class="swipe-container"></div>
                        <div id="slot24-no-users" class="no-users" style="display:none;">
                            <h3>😔 Không có ai trực tuyến</h3>
                            <p>Hãy quay lại sau khi có nhiều người online hơn nhé!</p>
                        </div>
                        <div class="swipe-buttons">
                            <button class="swipe-btn nope" onclick="slot24App.swipe('left')">✖</button>
                            <button class="swipe-btn like" onclick="slot24App.swipe('right')">❤</button>
                        </div>
                    </div>

                    <!-- Matches Tab -->
                    <div id="slot24-matches-tab" class="tab-content" style="display:none;">
                        <div id="slot24-matches-list" class="matches-list"></div>
                    </div>

                    <!-- Profile Tab -->
                    <div id="slot24-profile-tab" class="tab-content" style="display:none;">
                        <div id="slot24-profile-view">
                            <!-- Profile display mode -->
                            <div id="slot24-profile-display"></div>
                            <button class="btn" onclick="slot24App.showEditProfile()" style="margin-top:20px;">Chỉnh Sửa Hồ Sơ</button>
                            <button class="btn" onclick="slot24App.showChangePassword()" style="margin-top:10px;background:#ff9800;">🔐 Đổi Mật Khẩu</button>
                            <button class="btn btn-secondary" onclick="slot24App.logout()" style="margin-top:10px;">Đăng xuất</button>
                        </div>
                        
                        <div id="slot24-change-password" style="display:none;">
                            <!-- Change password mode -->
                            <h3 style="margin-bottom:20px;">🔐 Đổi Mật Khẩu</h3>
                            <div id="slot24-password-error" class="error-msg" style="display:none;"></div>
                            <div id="slot24-password-success" class="success-msg" style="display:none;"></div>
                            
                            <div class="form-group">
                                <label>Mật khẩu hiện tại</label>
                                <input type="password" id="slot24-current-password" placeholder="Nhập mật khẩu hiện tại">
                            </div>
                            
                            <div class="form-group">
                                <label>Mật khẩu mới</label>
                                <input type="password" id="slot24-new-password" placeholder="Nhập mật khẩu mới (tối thiểu 6 ký tự)">
                            </div>
                            
                            <div class="form-group">
                                <label>Xác nhận mật khẩu mới</label>
                                <input type="password" id="slot24-confirm-password" placeholder="Nhập lại mật khẩu mới">
                            </div>
                            
                            <div style="background:#fff3cd;padding:12px;border-radius:8px;margin:15px 0;font-size:13px;color:#856404;border:1px solid #ffeaa7;">
                                <strong>⚠️ Lưu ý:</strong>
                                <ul style="margin:8px 0 0 20px;padding:0;">
                                    <li>Mật khẩu phải có ít nhất 6 ký tự</li>
                                    <li>Nên dùng kết hợp chữ, số và ký tự đặc biệt</li>
                                    <li>Không chia sẻ mật khẩu với người khác</li>
                                </ul>
                            </div>
                            
                            <button class="btn" onclick="slot24App.saveNewPassword()" style="background:#ff9800;">💾 Đổi Mật Khẩu</button>
                            <button class="btn btn-secondary" onclick="slot24App.cancelChangePassword()" style="margin-top:10px;">Hủy</button>
                        </div>
                        
                        <div id="slot24-profile-edit" style="display:none;">
                            <!-- Profile edit mode -->
                            <h3 style="margin-bottom:20px;">Chỉnh Sửa Hồ Sơ</h3>
                            <div id="slot24-edit-error" class="error-msg" style="display:none;"></div>
                            <div id="slot24-edit-success" class="success-msg" style="display:none;"></div>
                            
                            <div class="form-group">
                                <label>Tên đăng nhập</label>
                                <input type="text" id="slot24-edit-username" disabled style="background:#f5f5f5;cursor:not-allowed;">
                            </div>
                            
                            <div class="form-group">
                                <label>Giới tính</label>
                                <select id="slot24-edit-gender">
                                    <option value="male">Nam</option>
                                    <option value="female">Nữ</option>
                                    <option value="other">Khác</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Quan tâm đến</label>
                                <select id="slot24-edit-interested">
                                    <option value="male">Nam</option>
                                    <option value="female">Nữ</option>
                                    <option value="both">Cả hai</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Tuổi</label>
                                <input type="number" id="slot24-edit-age" min="18" max="100">
                            </div>
                            
                            <div class="form-group">
                                <label>Giới thiệu bản thân</label>
                                <textarea id="slot24-edit-bio" placeholder="Hãy kể về bản thân bạn..."></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Ảnh đại diện (tối đa 6 ảnh)</label>
                                <div class="photo-upload" onclick="document.getElementById('slot24-edit-photo-input').click()">
                                    <div>📸 Nhấn để thay đổi ảnh</div>
                                    <small>JPG, PNG, tối đa 2MB mỗi ảnh</small>
                                </div>
                                <input type="file" id="slot24-edit-photo-input" multiple accept="image/*" style="display:none;">
                                <div id="slot24-edit-photo-preview" class="photo-preview"></div>
                            </div>
                            
                            <button class="btn" onclick="slot24App.saveProfileUpdate()">💾 Lưu Thay Đổi</button>
                            <button class="btn btn-secondary" onclick="slot24App.cancelEditProfile()" style="margin-top:10px;">Hủy</button>
                        </div>
                    </div>
                </div>

                <!-- Chat Screen -->
                <div id="slot24-chat-screen" class="screen">
                    <div class="chat-header">
                        <button class="btn-secondary" onclick="slot24App.closeChat()" style="width:auto;padding:8px 15px;margin-right:15px;">← Quay lại</button>
                        <div class="match-avatar" id="slot24-chat-avatar"></div>
                        <div class="match-info">
                            <h4 id="slot24-chat-name"></h4>
                        </div>
                    </div>
                    <div class="video-controls">
                        <button onclick="slot24App.startVideoCall()">📹 Gọi Video</button>
                        <button onclick="slot24App.startAudioCall()">📞 Gọi Thoại</button>
                    </div>
                    <div id="slot24-chat-messages" class="chat-messages"></div>
                    <div class="chat-input">
                        <input type="text" id="slot24-message-input" placeholder="Nhập tin nhắn...">
                        <button onclick="slot24App.sendMessage()">➤</button>
                    </div>
                </div>
            </div>

            <!-- Match Modal -->
            <div id="slot24-match-modal" class="match-modal">
                <div class="match-content">
                    <h2>💖 Kết Nối Thành Công!</h2>
                    <p>Bạn và <span id="slot24-match-name"></span> đã thích nhau</p>
                    <button class="btn" onclick="slot24App.closeMatchModal()" style="max-width:200px;margin:20px auto;">Tiếp Tục Khám Phá</button>
                    <button class="btn btn-secondary" onclick="slot24App.openMatchChat()" style="max-width:200px;margin:10px auto;">Gửi Tin Nhắn</button>
                </div>
            </div>

            <!-- Video Call Modal -->
            <div id="slot24-video-call-modal" class="video-call-modal">
                <div class="video-container">
                    <video id="slot24-remote-video" class="remote-video" autoplay playsinline></video>
                    <video id="slot24-local-video" class="local-video" autoplay muted playsinline></video>
                    <div class="call-controls">
                        <button class="call-btn mute" id="slot24-mute-btn" onclick="slot24App.toggleMute()">🎤</button>
                        <button class="call-btn hangup" onclick="slot24App.endCall()">📞</button>
                        <button class="call-btn video" id="slot24-video-btn" onclick="slot24App.toggleVideo()">📹</button>
                    </div>
                </div>
            </div>

            <script>
                const slot24App = {
                    ws: null,
                    currentUser: null,
                    currentMatch: null,
                    potentialMatches: [],
                    currentMatchIndex: 0,
                    userMatches: [],
                    photos: [],
                    peerConnection: null,
                    localStream: null,
                    isAudioMuted: false,
                    isVideoOff: false,
                    onlineUserIds: [],
                    SERVER_URL: 'https://dating.van.moe',
                    WS_URL: 'wss://dating.van.moe',

                    // Cookie utilities for secure authentication
                    setCookie(name, value, days) {
                        const date = new Date();
                        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                        const expires = `expires=${date.toUTCString()}`;
                        // Secure cookie with SameSite and Secure flags
                        document.cookie = `${name}=${value};${expires};path=/;SameSite=Strict;Secure`;
                    },

                    getCookie(name) {
                        const nameEQ = name + "=";
                        const ca = document.cookie.split(';');
                        for(let i = 0; i < ca.length; i++) {
                            let c = ca[i];
                            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
                            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
                        }
                        return null;
                    },

                    deleteCookie(name) {
                        document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`;
                    },

                    // Encrypt/decrypt utilities for secure storage
                    encryptData(data) {
                        // Simple Base64 encoding with obfuscation
                        const jsonStr = JSON.stringify(data);
                        const encoded = btoa(encodeURIComponent(jsonStr));
                        // Add random prefix for additional security
                        const prefix = Math.random().toString(36).substring(7);
                        return `${prefix}:${encoded}`;
                    },

                    decryptData(encrypted) {
                        try {
                            if (!encrypted || !encrypted.includes(':')) return null;
                            const parts = encrypted.split(':');
                            const encoded = parts[1];
                            const jsonStr = decodeURIComponent(atob(encoded));
                            return JSON.parse(jsonStr);
                        } catch (e) {
                            console.error('Decrypt error:', e);
                            return null;
                        }
                    },

                    async checkAutoLogin() {
                        const authToken = this.getCookie('dating_auth_token');
                        if (!authToken) return false;

                        const userData = this.decryptData(authToken);
                        if (!userData || !userData.userId || !userData.username) {
                            this.deleteCookie('dating_auth_token');
                            return false;
                        }

                        // Verify token with server
                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/verify-token`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ 
                                    userId: userData.userId,
                                    username: userData.username
                                })
                            });

                            const data = await response.json();
                            
                            if (data.success && data.user) {
                                this.currentUser = data.user;
                                this.connectWebSocket();
                                this.showScreen('main');
                                console.log('✅ Auto-login successful');
                                return true;
                            } else {
                                this.deleteCookie('dating_auth_token');
                                return false;
                            }
                        } catch (error) {
                            console.error('Auto-login error:', error);
                            this.deleteCookie('dating_auth_token');
                            return false;
                        }
                    },

                    saveAuthToken(userId, username, remember) {
                        if (remember) {
                            const tokenData = { userId, username, timestamp: Date.now() };
                            const encrypted = this.encryptData(tokenData);
                            this.setCookie('dating_auth_token', encrypted, 3); // 3 days
                            console.log('🔐 Auth token saved (3 days)');
                        } else {
                            // Session only - delete when browser closes
                            this.deleteCookie('dating_auth_token');
                        }
                    },

                    init() {
                        this.setupEventListeners();
                        // Check for auto-login
                        this.checkAutoLogin();
                    },

                    setupEventListeners() {
                        // Login form
                        document.getElementById('slot24-login-form').addEventListener('submit', (e) => {
                            e.preventDefault();
                            this.login();
                        });

                        // Register form
                        document.getElementById('slot24-register-form').addEventListener('submit', (e) => {
                            e.preventDefault();
                            this.register();
                        });

                        // Photo upload
                        document.getElementById('slot24-photo-input').addEventListener('change', (e) => {
                            this.handlePhotoUpload(e);
                        });

                        // Message input
                        document.getElementById('slot24-message-input').addEventListener('keypress', (e) => {
                            if (e.key === 'Enter') {
                                this.sendMessage();
                            }
                        });
                    },

                    async login() {
                        const username = document.getElementById('slot24-login-username').value;
                        const password = document.getElementById('slot24-login-password').value;
                        const rememberMe = document.getElementById('slot24-remember-me').checked;

                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/login`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ username, password })
                            });

                            const data = await response.json();

                            if (data.success) {
                                this.currentUser = data.user;
                                
                                // Save auth token if remember me is checked
                                this.saveAuthToken(data.user.id, data.user.username, rememberMe);
                                
                                this.connectWebSocket();
                                this.showScreen('main');
                                this.loadMatches();
                                this.loadPotentialMatches();
                            } else {
                                this.showError('login', data.error);
                            }
                        } catch (error) {
                            this.showError('login', 'Lỗi kết nối. Vui lòng kiểm tra server đã chạy chưa!');
                        }
                    },

                    async register() {
                        const username = document.getElementById('slot24-register-username').value;
                        const password = document.getElementById('slot24-register-password').value;
                        const gender = document.getElementById('slot24-register-gender').value;
                        const interested_in = document.getElementById('slot24-register-interested').value;
                        const age = document.getElementById('slot24-register-age').value;
                        const bio = document.getElementById('slot24-register-bio').value;

                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/register`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ username, password, gender, interested_in, age, bio })
                            });

                            const data = await response.json();

                            if (data.success) {
                                this.showScreen('profile');
                                this.currentUser = { id: data.userId, username, gender, interested_in, age, bio };
                            } else {
                                this.showError('register', data.error);
                            }
                        } catch (error) {
                            this.showError('register', 'Lỗi kết nối. Vui lòng kiểm tra server đã chạy chưa!');
                        }
                    },

                    async saveProfile() {
                        try {
                            await fetch(`${this.SERVER_URL}/api/profile/update`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({
                                    userId: this.currentUser.id,
                                    bio: this.currentUser.bio,
                                    age: this.currentUser.age,
                                    photos: this.photos
                                })
                            });

                            this.connectWebSocket();
                            this.showScreen('main');
                            this.loadMatches();
                            this.loadPotentialMatches();
                        } catch (error) {
                            console.error('Save profile error:', error);
                        }
                    },

                    connectWebSocket() {
                        if (!this.currentUser) {
                            console.warn('Cannot connect WebSocket: no user logged in');
                            return;
                        }

                        console.log(`🔌 Connecting to WebSocket: ${this.WS_URL}`);
                        
                        try {
                            this.ws = new WebSocket(this.WS_URL);

                            this.ws.onopen = () => {
                                console.log('✅ WebSocket connected successfully');
                                this.ws.send(JSON.stringify({
                                    type: 'auth',
                                    userId: this.currentUser.id
                                }));
                            };

                            this.ws.onmessage = (event) => {
                                const data = JSON.parse(event.data);
                                this.handleWebSocketMessage(data);
                            };

                            this.ws.onerror = (error) => {
                                console.error('❌ WebSocket error:', error);
                                console.error('URL:', this.WS_URL);
                                console.error('Hãy kiểm tra:');
                                console.error('1. Server backend đã chạy chưa?');
                                console.error('2. Cloudflare đã enable WebSocket chưa?');
                                console.error('3. Port có được Cloudflare hỗ trợ không? (80, 443, 8080, 8880, 2052-2096)');
                            };

                            this.ws.onclose = (event) => {
                                console.log(`🔌 WebSocket disconnected (code: ${event.code}, reason: ${event.reason})`);
                                
                                // Chỉ reconnect nếu user vẫn đăng nhập
                                if (this.currentUser) {
                                    console.log('🔄 Reconnecting in 3 seconds...');
                                    setTimeout(() => this.connectWebSocket(), 3000);
                                }
                            };
                        } catch (error) {
                            console.error('❌ Failed to create WebSocket:', error);
                        }
                    },

                    handleWebSocketMessage(data) {
                        switch (data.type) {
                            case 'auth_success':
                                console.log('Authenticated');
                                break;
                            case 'online_users':
                                document.getElementById('slot24-online-count').textContent = data.count;
                                // Lưu danh sách user IDs đang online
                                this.onlineUserIds = data.userIds || [];
                                // Cập nhật trạng thái online/offline cho current match nếu đang hiển thị
                                this.updateCurrentMatchOnlineStatus();
                                break;
                            case 'match':
                                this.handleMatch(data);
                                break;
                            case 'chat_message':
                                this.handleChatMessage(data);
                                break;
                            case 'webrtc_offer':
                            case 'webrtc_answer':
                            case 'webrtc_ice_candidate':
                                this.handleWebRTCSignaling(data);
                                break;
                        }
                    },

                    updateCurrentMatchOnlineStatus() {
                        // Cập nhật badge online/offline realtime
                        const badge = document.querySelector('#slot-24 .swipe-card .online-badge');
                        if (badge && this.currentMatchIndex < this.potentialMatches.length) {
                            const match = this.potentialMatches[this.currentMatchIndex];
                            const isOnline = this.onlineUserIds.includes(match.id);
                            
                            badge.className = isOnline ? 'online-badge online' : 'online-badge offline';
                            badge.textContent = isOnline ? '🟢 Online' : '⚫ Offline';
                        }
                    },

                    async loadPotentialMatches() {
                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/matches/potential/${this.currentUser.id}`);
                            const data = await response.json();

                            if (data.success) {
                                this.potentialMatches = data.matches;
                                this.currentMatchIndex = 0;
                                this.displayCurrentMatch();
                            }
                        } catch (error) {
                            console.error('Load potential matches error:', error);
                        }
                    },

                    displayCurrentMatch() {
                        const container = document.getElementById('slot24-swipe-container');
                        const noUsers = document.getElementById('slot24-no-users');

                        if (this.currentMatchIndex >= this.potentialMatches.length) {
                            container.innerHTML = '';
                            noUsers.style.display = 'block';
                            noUsers.innerHTML = '<h3>😔 Hết người để khám phá</h3><p>Hãy quay lại sau nhé!</p>';
                            return;
                        }

                        noUsers.style.display = 'none';
                        const match = this.potentialMatches[this.currentMatchIndex];
                        
                        const photos = match.photos || [];
                        const photoUrl = photos.length > 0 ? photos[0] : null;
                        
                        // Check trạng thái online/offline
                        const isOnline = this.onlineUserIds.includes(match.id) || match.isOnline;
                        const onlineClass = isOnline ? 'online' : 'offline';
                        const onlineText = isOnline ? '🟢 Online' : '⚫ Offline';

                        container.innerHTML = `
                            <div class="swipe-card">
                                <div class="card-image">
                                    ${photoUrl ? `<img src="${photoUrl}" alt="${match.username}">` : '👤'}
                                    <div class="online-badge ${onlineClass}">${onlineText}</div>
                                </div>
                                <div class="card-info">
                                    <h2>${match.username}, ${match.age || '?'}</h2>
                                    <p>${match.bio || 'Chưa có giới thiệu'}</p>
                                </div>
                            </div>
                        `;
                    },

                    async swipe(direction) {
                        if (this.currentMatchIndex >= this.potentialMatches.length) return;

                        const match = this.potentialMatches[this.currentMatchIndex];

                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/swipe`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({
                                    swiperId: this.currentUser.id,
                                    swipedId: match.id,
                                    direction
                                })
                            });

                            const data = await response.json();

                            if (data.isMatch) {
                                // Match will be handled by WebSocket
                            }

                            this.currentMatchIndex++;
                            this.displayCurrentMatch();
                        } catch (error) {
                            console.error('Swipe error:', error);
                        }
                    },

                    handleMatch(data) {
                        const matchedUserId = data.matchedUserId;
                        const matchedUser = this.potentialMatches.find(m => m.id === matchedUserId);
                        
                        if (matchedUser) {
                            document.getElementById('slot24-match-name').textContent = matchedUser.username;
                            document.getElementById('slot24-match-modal').classList.add('show');
                            this.currentMatch = { ...data, user: matchedUser };
                        }

                        this.loadMatches();
                    },

                    closeMatchModal() {
                        document.getElementById('slot24-match-modal').classList.remove('show');
                    },

                    openMatchChat() {
                        this.closeMatchModal();
                        if (this.currentMatch) {
                            this.openChat(this.currentMatch.matchId, this.currentMatch.user);
                        }
                    },

                    async loadMatches() {
                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/matches/${this.currentUser.id}`);
                            const data = await response.json();

                            if (data.success) {
                                this.userMatches = data.matches;
                                this.displayMatches();
                            }
                        } catch (error) {
                            console.error('Load matches error:', error);
                        }
                    },

                    displayMatches() {
                        const list = document.getElementById('slot24-matches-list');
                        
                        if (this.userMatches.length === 0) {
                            list.innerHTML = '<div class="no-users"><h3>Chưa có kết nối nào</h3><p>Hãy bắt đầu quẹt để tìm người phù hợp!</p></div>';
                            return;
                        }

                        list.innerHTML = this.userMatches.map(match => {
                            const photos = match.matched_photos || [];
                            const photoUrl = photos.length > 0 ? photos[0] : null;
                            
                            // Check trạng thái online/offline
                            const isOnline = this.onlineUserIds.includes(match.matched_user_id);
                            const onlineIndicator = isOnline ? '🟢' : '⚫';

                            return `
                                <div class="match-item" onclick="slot24App.openChat('${match.match_id}', ${JSON.stringify(match).replace(/"/g, '&quot;')})">
                                    <div class="match-avatar">
                                        ${photoUrl ? `<img src="${photoUrl}">` : match.matched_username.charAt(0).toUpperCase()}
                                    </div>
                                    <div class="match-info">
                                        <h4>${onlineIndicator} ${match.matched_username}</h4>
                                        <p>${match.matched_bio || 'Chưa có giới thiệu'}</p>
                                    </div>
                                </div>
                            `;
                        }).join('');
                    },

                    async openChat(matchId, matchUser) {
                        // Chuẩn hóa cấu trúc data cho cả 2 trường hợp:
                        // 1. Từ displayMatches: có matched_user_id, matched_username, matched_photos
                        // 2. Từ handleMatch: có id, username, photos
                        const userId = matchUser.matched_user_id || matchUser.id;
                        const username = matchUser.matched_username || matchUser.username;
                        const photos = matchUser.matched_photos || matchUser.photos || [];
                        const bio = matchUser.matched_bio || matchUser.bio;
                        
                        this.currentMatch = { 
                            matchId, 
                            user: matchUser,
                            recipientId: userId,  // Lưu rõ ràng recipientId
                            recipientName: username
                        };
                        
                        const photoUrl = photos.length > 0 ? photos[0] : null;

                        document.getElementById('slot24-chat-name').textContent = username;
                        document.getElementById('slot24-chat-avatar').innerHTML = photoUrl ? 
                            `<img src="${photoUrl}">` : 
                            username.charAt(0).toUpperCase();

                        this.showScreen('chat');
                        await this.loadChatHistory(matchId);
                    },

                    async loadChatHistory(matchId) {
                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/chat/${matchId}`);
                            const data = await response.json();

                            if (data.success) {
                                const container = document.getElementById('slot24-chat-messages');
                                container.innerHTML = data.messages.map(msg => `
                                    <div class="message ${msg.sender_id === this.currentUser.id ? 'sent' : 'received'}">
                                        <div class="message-bubble">${msg.content}</div>
                                    </div>
                                `).join('');
                                container.scrollTop = container.scrollHeight;
                            }
                        } catch (error) {
                            console.error('Load chat history error:', error);
                        }
                    },

                    sendMessage() {
                        const input = document.getElementById('slot24-message-input');
                        const content = input.value.trim();

                        if (!content || !this.currentMatch) {
                            console.warn('Cannot send message: no content or no match selected');
                            return;
                        }

                        // Kiểm tra WebSocket đã kết nối chưa
                        if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {
                            alert('❌ Mất kết nối. Đang kết nối lại...');
                            this.connectWebSocket();
                            return;
                        }

                        console.log('Sending message to:', this.currentMatch.recipientId);

                        this.ws.send(JSON.stringify({
                            type: 'chat_message',
                            matchId: this.currentMatch.matchId,
                            recipientId: this.currentMatch.recipientId,  // Sử dụng recipientId đã chuẩn hóa
                            content
                        }));

                        // Add message to UI
                        const container = document.getElementById('slot24-chat-messages');
                        container.innerHTML += `
                            <div class="message sent">
                                <div class="message-bubble">${content}</div>
                            </div>
                        `;
                        container.scrollTop = container.scrollHeight;

                        input.value = '';
                    },

                    handleChatMessage(data) {
                        if (this.currentMatch && data.matchId === this.currentMatch.matchId) {
                            const container = document.getElementById('slot24-chat-messages');
                            container.innerHTML += `
                                <div class="message received">
                                    <div class="message-bubble">${data.content}</div>
                                </div>
                            `;
                            container.scrollTop = container.scrollHeight;
                        }
                    },

                    async startVideoCall() {
                        await this.initializeCall(true);
                    },

                    async startAudioCall() {
                        await this.initializeCall(false);
                    },

                    async initializeCall(video) {
                        try {
                            this.localStream = await navigator.mediaDevices.getUserMedia({
                                video: video,
                                audio: true
                            });

                            document.getElementById('slot24-local-video').srcObject = this.localStream;
                            document.getElementById('slot24-video-call-modal').classList.add('show');

                            this.peerConnection = new RTCPeerConnection({
                                iceServers: [
                                    { urls: 'stun:stun.l.google.com:19302' }
                                ]
                            });

                            this.localStream.getTracks().forEach(track => {
                                this.peerConnection.addTrack(track, this.localStream);
                            });

                            this.peerConnection.ontrack = (event) => {
                                document.getElementById('slot24-remote-video').srcObject = event.streams[0];
                            };

                            this.peerConnection.onicecandidate = (event) => {
                                if (event.candidate) {
                                    this.ws.send(JSON.stringify({
                                        type: 'webrtc_ice_candidate',
                                        targetUserId: this.currentMatch.recipientId,
                                        candidate: event.candidate
                                    }));
                                }
                            };

                            const offer = await this.peerConnection.createOffer();
                            await this.peerConnection.setLocalDescription(offer);

                            this.ws.send(JSON.stringify({
                                type: 'webrtc_offer',
                                targetUserId: this.currentMatch.recipientId,
                                offer: offer
                            }));
                        } catch (error) {
                            console.error('Call initialization error:', error);
                            this.showError('Không thể truy cập camera/microphone. Vui lòng cấp quyền!');
                        }
                    },

                    async handleWebRTCSignaling(data) {
                        if (!this.peerConnection) {
                            // Incoming call
                            await this.initializeCall(true);
                        }

                        if (data.type === 'webrtc_offer') {
                            await this.peerConnection.setRemoteDescription(new RTCSessionDescription(data.offer));
                            const answer = await this.peerConnection.createAnswer();
                            await this.peerConnection.setLocalDescription(answer);

                            this.ws.send(JSON.stringify({
                                type: 'webrtc_answer',
                                targetUserId: data.fromUserId,
                                answer: answer
                            }));
                        } else if (data.type === 'webrtc_answer') {
                            await this.peerConnection.setRemoteDescription(new RTCSessionDescription(data.answer));
                        } else if (data.type === 'webrtc_ice_candidate') {
                            await this.peerConnection.addIceCandidate(new RTCIceCandidate(data.candidate));
                        }
                    },

                    endCall() {
                        if (this.localStream) {
                            this.localStream.getTracks().forEach(track => track.stop());
                        }

                        if (this.peerConnection) {
                            this.peerConnection.close();
                            this.peerConnection = null;
                        }

                        document.getElementById('slot24-video-call-modal').classList.remove('show');
                    },

                    toggleMute() {
                        if (this.localStream) {
                            const audioTrack = this.localStream.getAudioTracks()[0];
                            audioTrack.enabled = !audioTrack.enabled;
                            this.isAudioMuted = !audioTrack.enabled;
                            document.getElementById('slot24-mute-btn').textContent = this.isAudioMuted ? '🔇' : '🎤';
                        }
                    },

                    toggleVideo() {
                        if (this.localStream) {
                            const videoTrack = this.localStream.getVideoTracks()[0];
                            if (videoTrack) {
                                videoTrack.enabled = !videoTrack.enabled;
                                this.isVideoOff = !videoTrack.enabled;
                                document.getElementById('slot24-video-btn').textContent = this.isVideoOff ? '📹❌' : '📹';
                            }
                        }
                    },

                    handlePhotoUpload(event) {
                        const files = Array.from(event.target.files);
                        
                        files.forEach(file => {
                            if (this.photos.length >= 6) {
                                this.showError('Tối đa 6 ảnh. Vui lòng xóa ảnh cũ để thêm ảnh mới!');
                                return;
                            }

                            if (file.size > 2 * 1024 * 1024) {
                                this.showError('File quá lớn. Tối đa 2MB mỗi ảnh!');
                                return;
                            }

                            const reader = new FileReader();
                            reader.onload = (e) => {
                                this.photos.push(e.target.result);
                                this.displayPhotos();
                            };
                            reader.readAsDataURL(file);
                        });
                    },

                    displayPhotos() {
                        const container = document.getElementById('slot24-photo-preview');
                        container.innerHTML = this.photos.map((photo, index) => `
                            <div class="photo-preview-item">
                                <img src="${photo}">
                                <button class="remove" onclick="slot24App.removePhoto(${index})">×</button>
                            </div>
                        `).join('');
                    },

                    removePhoto(index) {
                        this.photos.splice(index, 1);
                        this.displayPhotos();
                    },

                    showScreen(screen) {
                        document.querySelectorAll('#slot-24 .screen').forEach(s => s.classList.remove('active'));
                        document.getElementById(`slot24-${screen}-screen`).classList.add('active');
                    },

                    showTab(tab) {
                        document.querySelectorAll('#slot-24 .nav-tab').forEach(t => t.classList.remove('active'));
                        event.target.classList.add('active');

                        document.querySelectorAll('#slot-24 .tab-content').forEach(t => t.style.display = 'none');
                        document.getElementById(`slot24-${tab}-tab`).style.display = 'block';

                        if (tab === 'matches') {
                            this.loadMatches();
                        } else if (tab === 'swipe') {
                            this.loadPotentialMatches();
                        } else if (tab === 'profile') {
                            this.displayProfile();
                        }
                    },

                    showRegister() {
                        this.showScreen('register');
                    },

                    showLogin() {
                        this.showScreen('login');
                    },

                    closeChat() {
                        this.showScreen('main');
                        this.currentMatch = null;
                    },

                    showError(screen, message) {
                        const errorDiv = document.getElementById(`slot24-${screen}-error`);
                        errorDiv.textContent = message;
                        errorDiv.style.display = 'block';
                        setTimeout(() => {
                            errorDiv.style.display = 'none';
                        }, 5000);
                    },

                    showEditProfile() {
                        // Populate form with current user data
                        document.getElementById('slot24-edit-username').value = this.currentUser.username;
                        document.getElementById('slot24-edit-gender').value = this.currentUser.gender;
                        document.getElementById('slot24-edit-interested').value = this.currentUser.interested_in;
                        document.getElementById('slot24-edit-age').value = this.currentUser.age || '';
                        document.getElementById('slot24-edit-bio').value = this.currentUser.bio || '';
                        
                        // Load current photos
                        try {
                            this.photos = JSON.parse(this.currentUser.photos || '[]');
                        } catch (e) {
                            this.photos = [];
                        }
                        this.displayEditPhotos();
                        
                        // Setup photo upload event
                        const photoInput = document.getElementById('slot24-edit-photo-input');
                        photoInput.removeEventListener('change', this.handleEditPhotoUpload);
                        photoInput.addEventListener('change', (e) => this.handleEditPhotoUpload(e));
                        
                        // Show edit form
                        document.getElementById('slot24-profile-view').style.display = 'none';
                        document.getElementById('slot24-profile-edit').style.display = 'block';
                    },

                    cancelEditProfile() {
                        document.getElementById('slot24-profile-view').style.display = 'block';
                        document.getElementById('slot24-profile-edit').style.display = 'none';
                        
                        // Clear messages
                        document.getElementById('slot24-edit-error').style.display = 'none';
                        document.getElementById('slot24-edit-success').style.display = 'none';
                    },

                    async saveProfileUpdate() {
                        const gender = document.getElementById('slot24-edit-gender').value;
                        const interested_in = document.getElementById('slot24-edit-interested').value;
                        const age = document.getElementById('slot24-edit-age').value;
                        const bio = document.getElementById('slot24-edit-bio').value;

                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/profile/update`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({
                                    userId: this.currentUser.id,
                                    gender,
                                    interested_in,
                                    age: age ? parseInt(age) : null,
                                    bio,
                                    photos: this.photos
                                })
                            });

                            const data = await response.json();

                            if (data.success) {
                                // Update current user data
                                this.currentUser.gender = gender;
                                this.currentUser.interested_in = interested_in;
                                this.currentUser.age = age ? parseInt(age) : null;
                                this.currentUser.bio = bio;
                                this.currentUser.photos = JSON.stringify(this.photos);
                                
                                // Show success message
                                const successDiv = document.getElementById('slot24-edit-success');
                                successDiv.textContent = '✅ Đã cập nhật hồ sơ thành công!';
                                successDiv.style.display = 'block';
                                
                                setTimeout(() => {
                                    successDiv.style.display = 'none';
                                    this.cancelEditProfile();
                                    this.displayProfile();
                                }, 2000);
                            } else {
                                this.showEditError(data.error || 'Có lỗi xảy ra');
                            }
                        } catch (error) {
                            console.error('Profile update error:', error);
                            this.showEditError('Lỗi kết nối. Vui lòng thử lại!');
                        }
                    },

                    showEditError(message) {
                        const errorDiv = document.getElementById('slot24-edit-error');
                        errorDiv.textContent = message;
                        errorDiv.style.display = 'block';
                        setTimeout(() => {
                            errorDiv.style.display = 'none';
                        }, 5000);
                    },

                    handleEditPhotoUpload(event) {
                        const files = Array.from(event.target.files);
                        
                        files.forEach(file => {
                            if (this.photos.length >= 6) {
                                alert('Tối đa 6 ảnh. Vui lòng xóa ảnh cũ để thêm ảnh mới!');
                                return;
                            }

                            if (file.size > 2 * 1024 * 1024) {
                                alert('File quá lớn. Tối đa 2MB mỗi ảnh!');
                                return;
                            }

                            const reader = new FileReader();
                            reader.onload = (e) => {
                                this.photos.push(e.target.result);
                                this.displayEditPhotos();
                            };
                            reader.readAsDataURL(file);
                        });
                    },

                    displayEditPhotos() {
                        const container = document.getElementById('slot24-edit-photo-preview');
                        container.innerHTML = this.photos.map((photo, index) => `
                            <div class="photo-preview-item">
                                <img src="${photo}">
                                <button class="remove" onclick="slot24App.removeEditPhoto(${index})">×</button>
                            </div>
                        `).join('');
                    },

                    removeEditPhoto(index) {
                        this.photos.splice(index, 1);
                        this.displayEditPhotos();
                    },

                    displayProfile() {
                        const container = document.getElementById('slot24-profile-display');
                        const photos = JSON.parse(this.currentUser.photos || '[]');
                        const mainPhoto = photos.length > 0 ? photos[0] : null;

                        const genderMap = { male: 'Nam', female: 'Nữ', other: 'Khác' };
                        const interestedMap = { male: 'Nam', female: 'Nữ', both: 'Cả hai' };

                        container.innerHTML = `
                            <div style="text-align:center;">
                                <div style="width:150px;height:150px;margin:0 auto 20px;border-radius:50%;overflow:hidden;background:linear-gradient(135deg,var(--primary),var(--secondary));display:flex;align-items:center;justify-content:center;">
                                    ${mainPhoto ? `<img src="${mainPhoto}" style="width:100%;height:100%;object-fit:cover;">` : `<span style="font-size:60px;color:white;">👤</span>`}
                                </div>
                                <h2 style="margin:10px 0;color:var(--dark);">${this.currentUser.username}</h2>
                                <p style="color:#666;font-size:14px;margin:5px 0;">
                                    ${this.currentUser.age ? this.currentUser.age + ' tuổi' : 'Chưa cập nhật tuổi'} • 
                                    ${genderMap[this.currentUser.gender] || this.currentUser.gender}
                                </p>
                                <p style="color:#666;font-size:14px;margin:5px 0;">
                                    Quan tâm: ${interestedMap[this.currentUser.interested_in] || this.currentUser.interested_in}
                                </p>
                                <div style="margin-top:20px;padding:15px;background:#f5f5f5;border-radius:10px;text-align:left;">
                                    <strong style="color:var(--dark);">Giới thiệu:</strong>
                                    <p style="margin:10px 0;color:#666;line-height:1.6;">
                                        ${this.currentUser.bio || 'Chưa có giới thiệu'}
                                    </p>
                                </div>
                                ${photos.length > 1 ? `
                                    <div style="margin-top:20px;">
                                        <strong style="color:var(--dark);display:block;margin-bottom:10px;">Ảnh của bạn (${photos.length})</strong>
                                        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;">
                                            ${photos.map(p => `<img src="${p}" style="width:100%;aspect-ratio:1;object-fit:cover;border-radius:8px;">`).join('')}
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                        `;
                    },

                    showChangePassword() {
                        // Clear all fields
                        document.getElementById('slot24-current-password').value = '';
                        document.getElementById('slot24-new-password').value = '';
                        document.getElementById('slot24-confirm-password').value = '';
                        
                        // Clear messages
                        document.getElementById('slot24-password-error').style.display = 'none';
                        document.getElementById('slot24-password-success').style.display = 'none';
                        
                        // Show change password form
                        document.getElementById('slot24-profile-view').style.display = 'none';
                        document.getElementById('slot24-change-password').style.display = 'block';
                    },

                    cancelChangePassword() {
                        document.getElementById('slot24-profile-view').style.display = 'block';
                        document.getElementById('slot24-change-password').style.display = 'none';
                        
                        // Clear fields
                        document.getElementById('slot24-current-password').value = '';
                        document.getElementById('slot24-new-password').value = '';
                        document.getElementById('slot24-confirm-password').value = '';
                        
                        // Clear messages
                        document.getElementById('slot24-password-error').style.display = 'none';
                        document.getElementById('slot24-password-success').style.display = 'none';
                    },

                    async saveNewPassword() {
                        const currentPassword = document.getElementById('slot24-current-password').value;
                        const newPassword = document.getElementById('slot24-new-password').value;
                        const confirmPassword = document.getElementById('slot24-confirm-password').value;

                        // Validation
                        if (!currentPassword || !newPassword || !confirmPassword) {
                            this.showPasswordError('Vui lòng điền đầy đủ thông tin!');
                            return;
                        }

                        if (newPassword.length < 6) {
                            this.showPasswordError('Mật khẩu mới phải có ít nhất 6 ký tự!');
                            return;
                        }

                        if (newPassword !== confirmPassword) {
                            this.showPasswordError('Mật khẩu mới không khớp!');
                            return;
                        }

                        if (currentPassword === newPassword) {
                            this.showPasswordError('Mật khẩu mới phải khác mật khẩu hiện tại!');
                            return;
                        }

                        try {
                            const response = await fetch(`${this.SERVER_URL}/api/password/change`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({
                                    userId: this.currentUser.id,
                                    currentPassword,
                                    newPassword
                                })
                            });

                            const data = await response.json();

                            if (data.success) {
                                // Show success message
                                const successDiv = document.getElementById('slot24-password-success');
                                successDiv.textContent = '✅ Đổi mật khẩu thành công!';
                                successDiv.style.display = 'block';
                                
                                // Clear error
                                document.getElementById('slot24-password-error').style.display = 'none';
                                
                                // Clear fields
                                document.getElementById('slot24-current-password').value = '';
                                document.getElementById('slot24-new-password').value = '';
                                document.getElementById('slot24-confirm-password').value = '';
                                
                                // Go back to view after 2 seconds
                                setTimeout(() => {
                                    this.cancelChangePassword();
                                }, 2000);
                            } else {
                                this.showPasswordError(data.error || 'Có lỗi xảy ra');
                            }
                        } catch (error) {
                            console.error('Password change error:', error);
                            this.showPasswordError('Lỗi kết nối. Vui lòng thử lại!');
                        }
                    },

                    showPasswordError(message) {
                        const errorDiv = document.getElementById('slot24-password-error');
                        errorDiv.textContent = message;
                        errorDiv.style.display = 'block';
                        
                        // Hide success if showing
                        document.getElementById('slot24-password-success').style.display = 'none';
                        
                        setTimeout(() => {
                            errorDiv.style.display = 'none';
                        }, 5000);
                    },

                    logout() {
                        if (this.ws) {
                            this.ws.close();
                        }
                        this.currentUser = null;
                        
                        // Delete auth token
                        this.deleteCookie('dating_auth_token');
                        console.log('🔓 Logged out and auth token deleted');
                        
                        this.showScreen('login');
                    }
                };

                // Initialize app
                slot24App.init();
            </script>
        </div>

        <!-- == SLOT 25 == -->
        <div id="slot-25"></div>

        <!-- == SLOT 26 == -->
        <div id="slot-26"></div>

        <!-- == SLOT 27 == -->
        <div id="slot-27"></div>

        <!-- == SLOT 28 == -->
        <div id="slot-28">
            <style>
                #slot-28 {
                    position: relative;
                    height: 300px;
                    background: #000;
                    overflow: hidden;
                    border: 2px solid #00ff00;
                    border-radius: 8px;
                    cursor: crosshair;
                    font-family: 'Courier New', monospace;
                }

                #slot-28 .rain-drop {
                    position: absolute;
                    color: #00ff00;
                    font-size: 14px;
                    line-height: 1;
                    opacity: 0.8;
                    text-shadow: 0 0 5px #00ff00;
                    user-select: none;
                    pointer-events: none;
                }

                #slot-28 .rain-drop.bright {
                    color: #ffffff;
                    text-shadow: 0 0 10px #ffffff, 0 0 20px #00ff00;
                    opacity: 1;
                }

                #slot-28 .rain-drop.red {
                    color: #ff0000;
                    text-shadow: 0 0 5px #ff0000;
                }

                #slot-28 .rain-drop.blue {
                    color: #0088ff;
                    text-shadow: 0 0 5px #0088ff;
                }

                #slot-28 .rain-drop.purple {
                    color: #8800ff;
                    text-shadow: 0 0 5px #8800ff;
                }

                #slot-28 .controls {
                    position: absolute;
                    top: 10px;
                    left: 10px;
                    z-index: 10;
                    background: rgba(0, 0, 0, 0.8);
                    padding: 10px;
                    border-radius: 5px;
                    border: 1px solid #00ff00;
                }

                #slot-28 .controls button {
                    background: #00ff00;
                    color: #000;
                    border: none;
                    padding: 5px 10px;
                    margin: 2px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-family: inherit;
                    font-size: 12px;
                    font-weight: bold;
                }

                #slot-28 .controls button:hover {
                    background: #ffffff;
                    box-shadow: 0 0 10px #00ff00;
                }

                #slot-28 .info {
                    position: absolute;
                    bottom: 10px;
                    right: 10px;
                    color: #00ff00;
                    font-size: 12px;
                    text-shadow: 0 0 5px #00ff00;
                }
            </style>

            <div class="controls">
                <button onclick="slot28ChangeColor('green')">Green</button>
                <button onclick="slot28ChangeColor('red')">Red</button>
                <button onclick="slot28ChangeColor('blue')">Blue</button>
                <button onclick="slot28ChangeColor('purple')">Purple</button>
                <button onclick="slot28ToggleSpeed()">Speed</button>
            </div>

            <div class="info">
                Move mouse to interact
            </div>

            <script>
                (function() {
                    const slot28 = document.getElementById('slot-28');
                    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()_+-=[]{}|;:,.<>?';
                    let drops = [];
                    let currentColor = 'green';
                    let speed = 1;
                    let isRunning = true;

                    function slot28CreateDrop() {
                        const drop = document.createElement('div');
                        drop.className = 'rain-drop';
                        drop.style.left = Math.random() * slot28.offsetWidth + 'px';
                        drop.style.top = '-20px';
                        drop.textContent = chars[Math.floor(Math.random() * chars.length)];
                        slot28.appendChild(drop);

                        const dropObj = {
                            element: drop,
                            x: parseInt(drop.style.left),
                            y: -20,
                            speed: 0.5 + Math.random() * 2,
                            chars: []
                        };

                        // Tạo chuỗi ký tự cho drop
                        for (let i = 0; i < 10 + Math.random() * 20; i++) {
                            dropObj.chars.push(chars[Math.floor(Math.random() * chars.length)]);
                        }

                        drops.push(dropObj);
                    }

                    function slot28UpdateDrops() {
                        if (!isRunning) return;

                        drops.forEach((drop, index) => {
                            drop.y += drop.speed * speed;
                            drop.element.style.top = drop.y + 'px';

                            // Cập nhật ký tự hiện tại
                            const charIndex = Math.floor(drop.y / 20) % drop.chars.length;
                            drop.element.textContent = drop.chars[charIndex];

                            // Làm sáng ký tự cuối
                            if (charIndex === drop.chars.length - 1) {
                                drop.element.classList.add('bright');
                            } else {
                                drop.element.classList.remove('bright');
                            }

                            // Xóa drop khi ra khỏi màn hình
                            if (drop.y > slot28.offsetHeight + 50) {
                                drop.element.remove();
                                drops.splice(index, 1);
                            }
                        });

                        // Tạo drop mới
                        if (Math.random() < 0.3) {
                            slot28CreateDrop();
                        }

                        requestAnimationFrame(slot28UpdateDrops);
                    }

                    function slot28ChangeColor(color) {
                        currentColor = color;
                        drops.forEach(drop => {
                            drop.element.className = 'rain-drop ' + color;
                        });
                    }

                    function slot28ToggleSpeed() {
                        speed = speed === 1 ? 2 : speed === 2 ? 0.5 : 1;
                    }

                    // Tương tác với chuột
                    slot28.addEventListener('mousemove', function(e) {
                        const rect = slot28.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;

                        // Tạo hiệu ứng xung quanh chuột
                        drops.forEach(drop => {
                            const dx = drop.x - x;
                            const dy = drop.y - y;
                            const distance = Math.sqrt(dx * dx + dy * dy);

                            if (distance < 100) {
                                const force = (100 - distance) / 100;
                                drop.x += dx * force * 0.1;
                                drop.element.style.left = drop.x + 'px';
                                drop.element.style.transform = `scale(${1 + force * 0.5})`;
                            }
                        });
                    });

                    // Click để tạo burst
                    slot28.addEventListener('click', function(e) {
                        const rect = slot28.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;

                        // Tạo nhiều drop từ vị trí click
                        for (let i = 0; i < 10; i++) {
                            const drop = document.createElement('div');
                            drop.className = 'rain-drop ' + currentColor;
                            drop.style.left = (x + (Math.random() - 0.5) * 100) + 'px';
                            drop.style.top = y + 'px';
                            drop.textContent = chars[Math.floor(Math.random() * chars.length)];
                            drop.style.transform = `rotate(${(Math.random() - 0.5) * 360}deg)`;
                            slot28.appendChild(drop);

                            const dropObj = {
                                element: drop,
                                x: parseInt(drop.style.left),
                                y: y,
                                speed: 1 + Math.random() * 3,
                                chars: []
                            };

                            for (let j = 0; j < 5; j++) {
                                dropObj.chars.push(chars[Math.floor(Math.random() * chars.length)]);
                            }

                            drops.push(dropObj);
                        }
                    });

                    // Khởi tạo
                    for (let i = 0; i < 20; i++) {
                        setTimeout(() => slot28CreateDrop(), i * 100);
                    }

                    slot28UpdateDrops();

                    // Expose functions globally
                    window.slot28ChangeColor = slot28ChangeColor;
                    window.slot28ToggleSpeed = slot28ToggleSpeed;
                })();
            </script>
        </div>

        <!-- == SLOT 29 == -->
        <div id="slot-29">
            <style>
                #slot-29 {
                    width: 100%;
                    max-width: 500px;
                    margin: 0 auto;
                    padding: 20px;
                }

                #slot-29 .centered {
                    background: rgba(255, 255, 255, 0.95);
                    backdrop-filter: blur(10px);
                    border-radius: 24px;
                    padding: 40px;
                    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                    text-align: center;
                    animation: fadeIn 0.6s ease-out;
                }

                @keyframes fadeIn {
                    from {
                        opacity: 0;
                        transform: translateY(20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }

                #mtttm {
                    font-size: 32px;
                    font-weight: 700;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    margin-bottom: 12px;
                    letter-spacing: -0.5px;
                }

                #slot-29 .centered > p {
                    color: #64748b;
                    font-size: 16px;
                    margin-bottom: 24px;
                    font-weight: 500;
                }

                #age_e {
                    margin-bottom: 20px;
                    width: 250px;
                    padding: 16px 20px;
                    font-size: 18px;
                    border: 2px solid #e2e8f0;
                    border-radius: 12px;
                    outline: none;
                    transition: all 0.3s ease;
                    font-family: inherit;
                    text-align: center;
                    background: #f8fafc;
                }

                #age_e:focus {
                    border-color: #667eea;
                    background: white;
                    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
                    transform: translateY(-2px);
                }

                #age_e:hover {
                    border-color: #cbd5e1;
                }

                #age_a {
                    min-height: 60px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin: 20px 0;
                    padding: 16px;
                    font-size: 18px;
                    font-weight: 600;
                    color: #1e293b;
                    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
                    border-radius: 12px;
                    border-left: 4px solid #f59e0b;
                    animation: slideIn 0.4s ease-out;
                    line-height: 1.6;
                }

                #age_a:empty {
                    display: none;
                }

                @keyframes slideIn {
                    from {
                        opacity: 0;
                        transform: translateX(-10px);
                    }
                    to {
                        opacity: 1;
                        transform: translateX(0);
                    }
                }

                #nut_adawdawdawdawdawd {
                    width: 100%;
                    padding: 16px 32px;
                    font-size: 18px;
                    font-weight: 700;
                    color: white;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    border: none;
                    border-radius: 12px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                #nut_adawdawdawdawdawd:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
                }

                #nut_adawdawdawdawdawd:active {
                    transform: translateY(0);
                    box-shadow: 0 2px 10px rgba(102, 126, 234, 0.4);
                }

                @media (max-width: 600px) {
                    #slot-29 .centered {
                        padding: 30px 20px;
                    }

                    #mtttm {
                        font-size: 26px;
                    }

                    #age_e, #nut_adawdawdawdawdawd {
                        font-size: 16px;
                    }

                    #age_a {
                        font-size: 16px;
                    }
                }
            </style>
           <div class="centered">
            <h2 id="mtttm">Máy tính tuổi thông minh</h2>
            <p>Nhập tuổi của bạn</p>
            <input type="text" onfocus="this.value=''" onchange="mod();" id="age_e">
            <p id="age_a"></p>
            <button id="nut_adawdawdawdawdawd" onclick="age()">Tính tuổi của bạn</button>
            </div>
            <script>
               var inc = 0, inb = 0;
                function age() {
                    var n = document.getElementById("age_e").value,
                        e = n + " là tuổi clgt???";
                    if (0 == document.getElementById("age_e").value.length || isNaN(n))
                        if (0 == document.getElementById("age_e").value.length)
                            document.getElementById("age_a").innerHTML = "Chưa nhập gì hết.";
                        else {
                            switch (inc) {
                                case 0: document.getElementById("age_a").innerHTML = e; break;
                                case 1: document.getElementById("age_a").innerHTML = "Đây là lần thứ 2 rồi nhưng bạn vẫn nhập sai."; break;
                                case 2: document.getElementById("age_a").innerHTML = "Thật ra bạn chỉ bấm cái nút này cho vui thôi phải không?"
                            }
                            inc++;
                        }
                    else
                        0 == inb ? (document.getElementById("age_a").innerHTML = "Bạn đã " + n + " tuổi rồi.", inc = 0) : document.getElementById("age_a").innerHTML = "Bạn đã nhấn cái nút này " + inb + " lần, tuổi của bạn vẫn là " + n, inb++;
                    if (3 < inc)
                        for (var t = 0; t <= inc; t++) document.getElementById("age_a").innerHTML = " đừng có nhấn nữa".repeat(t);
                    6 == inc && (document.getElementById("age_a").innerHTML = "nhấn thêm lần nữa xem?"),
                    7 == inc && (document.getElementById("age_a").innerHTML = "chắc chưa?", document.getElementById("nut_adawdawdawdawdawd").innerHTML = "chắc."),
                    7 < inc && (window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ");
                }
            </script>
        </div>

        <!-- == SLOT 30 == -->
        <div id="slot-30"></div>

        <!-- == SLOT 31 == -->
        <div id="slot-31"></div>

        <!-- == SLOT 32 == -->
        <div id="slot-32"></div>

        <!-- == SLOT 33 == -->
        <div id="slot-33"></div>

        <!-- == SLOT 34 == -->
        <div id="slot-34"></div>

        <!-- == SLOT 35 == -->
        <div id="slot-35">
            <head>
                <link rel="preconnect" href="https://fonts.googleapis.com">
                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
                <link
                    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
                    rel="stylesheet" />
                <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap" rel="stylesheet">
            </head>
            <style>
                #slot-35 {
                    --stripe-yellow: #ffd900;
                    --stripe-black: #000000;
                    padding: 4rem 1rem;
                    position: relative;
                    overflow: hidden;
                    border-top: 4px solid var(--stripe-yellow);
                    border-bottom: 4px solid var(--stripe-yellow);
                    background: repeating-linear-gradient(-45deg,
                            var(--stripe-black),
                            var(--stripe-black) 25px,
                            var(--stripe-yellow) 25px,
                            var(--stripe-yellow) 50px);
                    animation: pulse-glow 1.5s infinite ease-in-out;
                    width: 100vw;
                    height: 100vh;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                #slot-35::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: radial-gradient(circle, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.8) 100%);
                    pointer-events: none;
                }

                #slot-35 .warning-container {
                    position: relative;
                    z-index: 2;
                    background-color: rgba(10, 10, 10, 0.85);
                    border: 3px solid var(--stripe-yellow);
                    box-shadow: 0 0 15px 5px rgba(255, 217, 0, 0.5), inset 0 0 10px 2px rgba(255, 217, 0, 0.3);
                    max-width: 600px;
                    margin: 0 auto;
                    padding: 2rem;
                    text-align: center;
                    animation: screen-shake 5s infinite linear;
                }

                #slot-35 .warning-icon {
                    width: 80px;
                    height: 80px;
                    margin: 0 auto 1.5rem;
                    animation: icon-flicker 1s infinite;
                }

                #slot-35 .warning-title {
                    font-size: clamp(1.8rem, 5vw, 2.5rem);
                    color: #ff4747;
                    text-transform: uppercase;
                    letter-spacing: 2px;
                    text-shadow: 0 0 5px #ff4747, 0 0 10px #ff4747, 0 0 20px #000;
                    margin: 0 0 1rem 0;
                }

                #slot-35 .warning-title-2 {
                    font-size: 4.8rem;
                    color: #fff;
                    text-transform: uppercase;
                    font-weight: 800;
                    letter-spacing: 2px;
                    text-shadow: 0 0 5px #ff4747, 0 0 10px #ff4747, 0 0 20px #000;
                    margin: 1rem 0;
                }

                #slot-35 .warning-text {
                    font-size: clamp(1rem, 3vw, 1.2rem);
                    color: var(--stripe-yellow);
                    line-height: 1.6;
                    text-shadow: 0 0 3px #000;
                }

                #slot-35 .warning-actions {
                    margin-top: 2rem;
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                    align-items: center;
                    justify-content: center;
                }

                #slot-35 .warning-btn {
                    font-family: 'Orbitron', sans-serif;
                    font-size: 1rem;
                    font-weight: 900;
                    text-transform: uppercase;
                    padding: 0.8rem 1.5rem;
                    border: 2px solid;
                    background-color: transparent;
                    color: #fff;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    min-width: 250px;
                }

                #slot-35 .btn-abort {
                    border-color: #47a0ff;
                    box-shadow: 0 0 10px rgba(71, 160, 255, 0.5);
                }

                #slot-35 .btn-abort:hover {
                    background-color: #47a0ff;
                    color: #000;
                    box-shadow: 0 0 20px rgba(71, 160, 255, 0.8);
                }

                #slot-35 .btn-proceed {
                    border-color: #ff4747;
                    box-shadow: 0 0 10px rgba(255, 71, 71, 0.5);
                }

                #slot-35 .btn-proceed:hover {
                    background-color: #ff4747;
                    color: #000;
                    box-shadow: 0 0 20px rgba(255, 71, 71, 0.8);
                }

                @keyframes pulse-glow {

                    0%,
                    100% {
                        box-shadow: 0 0 20px 10px rgba(255, 217, 0, 0.3);
                    }

                    50% {
                        box-shadow: 0 0 30px 15px rgba(255, 217, 0, 0.5);
                    }
                }

                @keyframes screen-shake {

                    0%,
                    100% {
                        transform: translate(0, 0) rotate(0);
                    }

                    10% {
                        transform: translate(-1px, 2px) rotate(-0.1deg);
                    }

                    20% {
                        transform: translate(-2px, -1px) rotate(0.1deg);
                    }

                    30% {
                        transform: translate(2px, 1px) rotate(0);
                    }

                    40% {
                        transform: translate(1px, -1px) rotate(0.1deg);
                    }

                    50% {
                        transform: translate(-1px, 1px) rotate(-0.1deg);
                    }

                    60% {
                        transform: translate(-2px, 2px) rotate(0);
                    }

                    70% {
                        transform: translate(2px, 1px) rotate(-0.1deg);
                    }

                    80% {
                        transform: translate(-1px, -1px) rotate(0.1deg);
                    }

                    90% {
                        transform: translate(1px, 1px) rotate(0);
                    }
                }

                @keyframes icon-flicker {

                    0%,
                    100% {
                        opacity: 1;
                        filter: drop-shadow(0 0 10px #ff4747);
                    }

                    50% {
                        opacity: 0.8;
                        filter: drop-shadow(0 0 5px #ff4747);
                    }
                }

                @media (min-width: 768px) {
                    #slot-35 .warning-actions {
                        flex-direction: row;
                    }
                }

                #slot-35 .mute-btn {
                    position: absolute;
                    bottom: -3rem;
                    left: 50%;
                    color: white;
                    cursor: pointer;
                    transform: translateX(-50%);
                    opacity: 0.7;
                }
            </style>
            <div class="warning-container">
                <svg class="warning-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#ff4747">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
                </svg>
                <h1 class="warning-title">SYSTEM ALERT // UNAUTHORIZED ACCESS</h1>
                <p class="warning-text">You are attempting to cross the boundary into a restricted zone</p>
                <h1 class="warning-title-2">ARENA 36</h1>
                <p class="warning-text">Proceeding is a declaration of intent. Turn back now, or face the consequences.</p>
                <div class="warning-actions">
                    <button class="warning-btn btn-abort" id="sl35AbortBtn">ABORT // RETURN TO SAFETY</button>
                    <button class="warning-btn btn-proceed" id="sl35ProceedBtn">PROCEED TO ARENA // ENGAGE</button>
                </div>
                <p id="sl35MuteBtn" class="mute-btn">ALRIGHT! SHUT UP</p>
            </div>
            <audio id="sl35-warning-sound" autoplay loop>
                <source src="https://raw.githubusercontent.com/doanba13/bastol-cdn/refs/heads/main/siren.mp3"
                    type="audio/wav">
            </audio>
            <script>
                const sl35WarningSound = document.getElementById('sl35-warning-sound');
                sl35WarningSound.volume = 0.5;

                const slot35 = document.getElementById('slot-35');
                const sl35AbortBtn = document.getElementById('sl35AbortBtn');
                const sl35ProceedBtn = document.getElementById('sl35ProceedBtn');
                const sl35Mute = document.getElementById('sl35MuteBtn');

                sl35Mute.addEventListener('click', () => {
                    sl35WarningSound.pause();
                });


                sl35AbortBtn.addEventListener('click', () => {
                    sl35WarningSound.pause();
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });

                sl35ProceedBtn.addEventListener('click', () => {
                    sl35WarningSound.pause();
                    window.scrollBy({
                        top: 800,
                        left: 0,
                        behavior: 'smooth'
                    });
                });

                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const playPromise = sl35WarningSound.play();
                            if (playPromise !== undefined) {
                                playPromise.then(() => {
                                    observer.unobserve(slot35);
                                }).catch(error => {
                                    console.log("Autoplay blocked. Click the page to play audio.");
                                });
                            }
                        } else {
                            sl35WarningSound.pause();
                        }
                    });
                }, { threshold: 0.5 });

                observer.observe(slot35);
            </script>
        </div>

        <!-- == SLOT 36 == -->
        <div id="slot-36">
            <style>
                #slot-36 {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 40px 20px;
                    border-radius: 20px;
                    text-align: center;
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                    position: relative;
                    overflow: hidden;
                }

                #slot-36::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="3" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="60" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="70" cy="80" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
                    animation: slot36Float 20s linear infinite;
                    pointer-events: none;
                }

                @keyframes slot36Float {
                    0% { transform: translateX(-100px); }
                    100% { transform: translateX(100px); }
                }

                #slot-36 .slot36-header {
                    margin-bottom: 30px;
                }

                #slot-36 .slot36-title {
                    font-size: 2.5rem;
                    font-weight: 800;
                    margin: 0 0 15px 0;
                    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
                    line-height: 1.2;
                }

                #slot-36 .slot36-emoji {
                    font-size: 4rem;
                    display: block;
                    margin-bottom: 20px;
                    animation: slot36Bounce 2s ease-in-out infinite;
                }

                @keyframes slot36Bounce {
                    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                    40% { transform: translateY(-10px); }
                    60% { transform: translateY(-5px); }
                }

                #slot-36 .slot36-warning {
                    background: rgba(255, 59, 59, 0.2);
                    border: 2px solid #ff3b3b;
                    border-radius: 15px;
                    padding: 20px;
                    margin: 25px 0;
                    backdrop-filter: blur(10px);
                }

                #slot-36 .slot36-warning h3 {
                    color: #ffcccb;
                    font-size: 1.4rem;
                    margin: 0 0 10px 0;
                    font-weight: 700;
                }

                #slot-36 .slot36-warning p {
                    margin: 8px 0;
                    font-size: 1.1rem;
                    line-height: 1.5;
                }

                #slot-36 .slot36-solution {
                    background: rgba(34, 197, 94, 0.2);
                    border: 2px solid #22c55e;
                    border-radius: 15px;
                    padding: 25px;
                    margin: 25px 0;
                    backdrop-filter: blur(10px);
                }

                #slot-36 .slot36-solution h3 {
                    color: #bbf7d0;
                    font-size: 1.5rem;
                    margin: 0 0 15px 0;
                    font-weight: 700;
                }

                #slot-36 .slot36-app-intro {
                    background: rgba(59, 130, 246, 0.2);
                    border: 2px solid #3b82f6;
                    border-radius: 15px;
                    padding: 25px;
                    margin: 25px 0;
                    backdrop-filter: blur(10px);
                }

                #slot-36 .slot36-app-intro h3 {
                    color: #dbeafe;
                    font-size: 1.5rem;
                    margin: 0 0 15px 0;
                    font-weight: 700;
                }

                #slot-36 .slot36-features {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 15px;
                    margin: 20px 0;
                }

                #slot-36 .slot36-feature {
                    background: rgba(255, 255, 255, 0.1);
                    padding: 15px;
                    border-radius: 10px;
                    border-left: 4px solid #fbbf24;
                }

                #slot-36 .slot36-feature strong {
                    color: #fef3c7;
                    display: block;
                    margin-bottom: 5px;
                }

                #slot-36 .slot36-cta {
                    margin-top: 30px;
                }

                #slot-36 .slot36-btn {
                    display: inline-block;
                    background: linear-gradient(45deg, #f59e0b, #f97316);
                    color: white;
                    padding: 15px 30px;
                    border-radius: 50px;
                    text-decoration: none;
                    font-weight: 700;
                    font-size: 1.2rem;
                    box-shadow: 0 5px 15px rgba(245, 158, 11, 0.4);
                    transition: all 0.3s ease;
                    border: none;
                    cursor: pointer;
                }

                #slot-36 .slot36-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 25px rgba(245, 158, 11, 0.6);
                    background: linear-gradient(45deg, #f97316, #ea580c);
                }

                #slot-36 .slot36-footer {
                    margin-top: 25px;
                    font-size: 0.9rem;
                    opacity: 0.9;
                    line-height: 1.5;
                }

                @media (max-width: 768px) {
                    #slot-36 .slot36-title {
                        font-size: 2rem;
                    }

                    #slot-36 .slot36-emoji {
                        font-size: 3rem;
                    }

                    #slot-36 {
                        padding: 30px 15px;
                    }

                    #slot-36 .slot36-features {
                        grid-template-columns: 1fr;
                    }
                }
            </style>

            <div class="slot36-header">
                <h1 style="font-size: 2.5rem; margin: 0;">😭 Huhu Làm App Mà Không Ai Dùng</h1>
                <p style="font-size: 1.1rem; line-height: 1.6; margin: 20px 0; color: #e9c46a;">
                    Làm app chạy bộ ảo mà không ai biết 😢<br>
                    Anh em dev ngồi code nhiều bị trĩ quá<br>
                    Mà lại không biết <a href="https://pacerai.vn" style="color: #f4a261; text-decoration: underline;">pacerai.vn</a> để chạy bộ ảo 😭<br>
                    Huhu giúp em với, click vào thử đi ae ơi! �
                </p>
            </div>
        </div>

        <!-- == SLOT 37 == -->
        <div id="slot-37"></div>

        <!-- == SLOT 38 == -->
        <div id="slot-38"></div>

        <!-- == SLOT 39 == -->
        <div id="slot-39"></div>

        <!-- == SLOT 40 == -->
        <div id="slot-40"></div>

        <!-- == SLOT 41 == -->
        <div id="slot-41"></div>

        <!-- == SLOT 42 == -->
        <div id="slot-42">
            <!-- @Gawasna -->
            <style>
                #screensaver-container_42 {
                    width: 90%;
                    max-width: 90%;
                    height: 50vh;
                    min-height: 300px;
                    background-color: #000000;
                    border: 3px solid #333;
                    margin: 20px auto;
                    position: relative;
                    overflow: hidden;
                    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
                }
        
                #dvd-logo-wrapper_42 {
                    position: absolute;
                    top: 50px;
                    left: 50px;
                    cursor: pointer;
                    transition: transform 1.5s cubic-bezier(0.6, -0.28, 0.735, 0.045);
                }
        
                #dvd-logo_42 {
                    width: 120px;
                    display: block;
                    fill: #ffffff;
                }
        
                #dvd-message_42 {
                    position: absolute;
                    top: 50%;
                    right: 100%;
                    transform: translate(-10px, -50%);
                    color: white;
                    font-weight: bold;
                    font-size: 1.1em;
                    background-color: rgba(0, 0, 0, 0.6);
                    padding: 8px 12px;
                    border-radius: 8px;
                    white-space: nowrap;
                    opacity: 0;
                    pointer-events: none;
                    user-select: none;
                    transition: opacity 0.3s ease;
                    font-family: 'Press Start 2P', cursive;
                }
        
                #dvd-message_42.visible {
                    opacity: 1;
                }
        
                #dvd-logo-wrapper_42.escaping {
                    transform: translate(150vw, -150vh) rotate(1080deg) scale(0);
                }
        
                #final-message_42 {
                    display: none;
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    width: 100%;
                    max-width: 50%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.9);
                    z-index: 100;
                    justify-content: center;
                    align-items: center;
                    font-family: 'Press Start 2P', cursive;
                    margin: 0 auto;
                    text-align: center;
                }
        
                #final-message_42 h2 {
                    color: #ff4d4d;
                    font-size: 2.3em;
                    text-align: center;
                    line-height: 1.4;
                    animation: fadeIn_42 1s ease-in;
                }
        
                @keyframes fadeIn_42 {
                    from {
                        opacity: 0;
                        transform: scale(0.8);
                    }
        
                    to {
                        opacity: 1;
                        transform: scale(1);
                    }
                }
            </style>
        
            <!-- 3D Cat Styles - REFACTORED -->
            <style>
                #cat-container_42 {
                    width: 90%;
                    max-width: 90%;
                    height: 60vh;
                    min-height: 400px;
                    background-color: #87ceeb;
                    border: 3px solid #333;
                    margin: 20px auto;
                    position: relative;
                    overflow: hidden;
                    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
                }
        
                #cat-container_42.shake_42 {
                    animation: bodyShake_42 0.2s infinite;
                }
        
                @keyframes bodyShake_42 {
        
                    0%,
                    100% {
                        transform: translate(0, 0);
                    }
        
                    25% {
                        transform: translate(-3px, 3px);
                    }
        
                    50% {
                        transform: translate(3px, -3px);
                    }
        
                    75% {
                        transform: translate(-3px, -3px);
                    }
                }
        
                #cat-container_42 #loadingInfo_42 {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background-color: rgba(0, 0, 0, 0.8);
                    color: #fff;
                    padding: 20px 40px;
                    font-size: 24px;
                    z-index: 100;
                    border-radius: 10px;
                    text-align: center;
                }
        
                /* Credit section */
                #cat-container_42 #credit_42 {
                    position: absolute;
                    top: 10px;
                    left: 10px;
                    background-color: rgba(0, 0, 0, 0.7);
                    color: #fff;
                    padding: 8px 12px;
                    font-size: 11px;
                    z-index: 100;
                    border-radius: 8px;
                    line-height: 1.4;
                }
        
                #cat-container_42 #credit_42 a {
                    color: #4da6ff;
                    text-decoration: none;
                }
        
                #cat-container_42 #credit_42 a:hover {
                    text-decoration: underline;
                }
        
                #cat-container_42 #credit_42 p {
                    margin: 5px 0 0 0;
                    font-size: 10px;
                    color: #ccc;
                }
        
                /* SPIN Button - Responsive */
                #cat-container_42 #spinButton_42 {
                    position: absolute;
                    bottom: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    border: none;
                    padding: clamp(10px, 2vh, 15px) clamp(25px, 5vw, 40px);
                    font-size: clamp(14px, 2.5vw, 18px);
                    font-weight: bold;
                    cursor: pointer;
                    border-radius: 50px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    transition: all 0.3s ease;
                    z-index: 100;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    white-space: nowrap;
                }
        
                #cat-container_42 #spinButton_42:hover {
                    transform: translateX(-50%) scale(1.1);
                    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
                }
        
                #cat-container_42 #spinButton_42:active {
                    transform: translateX(-50%) scale(0.95);
                }
        
                #cat-container_42 #spinButton_42.warning_42 {
                    background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
                    animation: buttonShake_42 0.3s infinite;
                }
        
                #cat-container_42 #spinButton_42.danger_42 {
                    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
                    animation: buttonPulse_42 0.3s infinite;
                }
        
                @keyframes buttonShake_42 {
        
                    0%,
                    100% {
                        transform: translateX(-50%) rotate(0deg);
                    }
        
                    25% {
                        transform: translateX(-50%) rotate(-2deg);
                    }
        
                    50% {
                        transform: translateX(-50%) rotate(2deg);
                    }
        
                    75% {
                        transform: translateX(-50%) rotate(-2deg);
                    }
                }
        
                @keyframes buttonPulse_42 {
        
                    0%,
                    100% {
                        transform: translateX(-50%) scale(1);
                        box-shadow: 0 10px 30px rgba(255, 107, 107, 0.5);
                    }
        
                    50% {
                        transform: translateX(-50%) scale(1.05);
                        box-shadow: 0 15px 40px rgba(255, 107, 107, 0.8);
                    }
                }
        
                /* Speed Info - Responsive */
                #cat-container_42 #speedInfo_42 {
                    position: absolute;
                    bottom: clamp(70px, 12vh, 90px);
                    left: 50%;
                    transform: translateX(-50%);
                    background-color: rgba(0, 0, 0, 0.7);
                    color: #fff;
                    padding: clamp(6px, 1.5vh, 10px) clamp(15px, 3vw, 25px);
                    font-size: clamp(13px, 2vw, 16px);
                    z-index: 100;
                    border-radius: 20px;
                    transition: background-color 0.3s ease;
                    white-space: nowrap;
                }
        
                #cat-container_42 #speedInfo_42.warning_42 {
                    background-color: rgba(255, 193, 7, 0.8);
                    color: #000;
                    font-weight: bold;
                }
        
                #cat-container_42 #speedInfo_42.danger_42 {
                    background-color: rgba(255, 0, 0, 0.8);
                    animation: speedShake_42 0.3s infinite;
                }
        
                @keyframes speedShake_42 {
        
                    0%,
                    100% {
                        transform: translateX(-50%) translateY(0);
                    }
        
                    25% {
                        transform: translateX(-50%) translateY(-5px);
                    }
        
                    75% {
                        transform: translateX(-50%) translateY(5px);
                    }
                }
        
                #cat-container_42 #explosion_42 {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    z-index: 200;
                    display: none;
                    pointer-events: none;
                }
        
                #cat-container_42 #explosion_42 img {
                    width: clamp(250px, 50vw, 400px);
                    height: clamp(250px, 50vw, 400px);
                }
        
                #cat-container_42 #explosionModal_42 {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.95);
                    z-index: 300;
                    display: none;
                    justify-content: center;
                    align-items: center;
                    flex-direction: column;
                    padding: 20px;
                }
        
                #cat-container_42 #explosionModal_42.show_42 {
                    display: flex;
                    animation: fadeInModal_42 0.5s;
                }
        
                @keyframes fadeInModal_42 {
                    from {
                        opacity: 0;
                    }
        
                    to {
                        opacity: 1;
                    }
                }
        
                #cat-container_42 #explosionMessage_42 {
                    color: #ff6b6b;
                    font-size: clamp(20px, 5vw, 36px);
                    font-weight: bold;
                    text-align: center;
                    margin-bottom: 20px;
                    text-shadow: 0 0 20px rgba(255, 107, 107, 0.8);
                    animation: boom_42 1s ease-out;
                    line-height: 1.3;
                }
        
                @keyframes boom_42 {
                    0% {
                        transform: scale(0.5);
                        opacity: 0;
                    }
        
                    50% {
                        transform: scale(1.2);
                    }
        
                    100% {
                        transform: scale(1);
                        opacity: 1;
                    }
                }
        
                #cat-container_42 .button-container_42 {
                    display: flex;
                    gap: clamp(10px, 2vw, 20px);
                    flex-wrap: wrap;
                    justify-content: center;
                }
        
                #cat-container_42 #resetButton_42,
                #cat-container_42 #closeButton_42 {
                    color: white;
                    border: none;
                    padding: clamp(10px, 2vh, 15px) clamp(25px, 4vw, 40px);
                    font-size: clamp(14px, 2.5vw, 18px);
                    font-weight: bold;
                    cursor: pointer;
                    border-radius: 50px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    transition: all 0.3s ease;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    white-space: nowrap;
                }
        
                #cat-container_42 #resetButton_42 {
                    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
                }
        
                #cat-container_42 #closeButton_42 {
                    background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
                }
        
                #cat-container_42 #resetButton_42:hover,
                #cat-container_42 #closeButton_42:hover {
                    transform: scale(1.1);
                    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
                }
        
                #cat-container_42 #warningText_42 {
                    color: #ffc107;
                    font-size: clamp(14px, 2.5vw, 18px);
                    margin-top: 15px;
                    text-align: center;
                    display: none;
                }
        
                #cat-container_42 #warningText_42.show_42 {
                    display: block;
                    animation: blink_42 0.5s infinite;
                }
        
                @keyframes blink_42 {
        
                    0%,
                    100% {
                        opacity: 1;
                    }
        
                    50% {
                        opacity: 0.3;
                    }
                }
        
                #cat-container_42 canvas {
                    display: block;
                    width: 100% !important;
                    height: 100% !important;
                }
        
                /* Mobile optimization */
                @media (max-width: 768px) {
                    #cat-container_42 #spinButton_42 {
                        bottom: 15px;
                        letter-spacing: 0.5px;
                    }
        
                    #cat-container_42 #speedInfo_42 {
                        bottom: 60px;
                    }
        
                    #cat-container_42 #credit_42 {
                        font-size: 9px;
                        padding: 6px 10px;
                    }
        
                    #cat-container_42 #credit_42 p {
                        font-size: 8px;
                    }
                }
        
                @media (max-width: 480px) {
                    #cat-container_42 #spinButton_42 {
                        bottom: 10px;
                        padding: 8px 20px;
                    }
        
                    #cat-container_42 #speedInfo_42 {
                        bottom: 50px;
                    }
                }
            </style>
        
            <style>
                #fpsCounter_42 {
                    position: fixed;
                    top: 10px;
                    right: 10px;
                    background-color: rgba(0, 0, 0, 0.7);
                    color: #0f0;
                    padding: 5px 10px;
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    font-size: 16px;
                    z-index: 9999;
                }
            </style>
        
            <div id="fpsCounter_42">FPS: 0</div>
            <script>
                (function () {
                    const fpsDisplay = document.getElementById('fpsCounter_42');
                    let lastTime = performance.now();
                    let frameCount = 0;
                    let fps = 0;

                    function updateFPS(now) {
                        frameCount++;
                        const delta = now - lastTime;
                        if (delta >= 1000) {
                            fps = Math.round((frameCount / delta) * 1000);
                            fpsDisplay.textContent = `FPS: ${fps}`;
                            frameCount = 0;
                            lastTime = now;
                        }
                        requestAnimationFrame(updateFPS);
                    }

                    requestAnimationFrame(updateFPS);
                })();
            </script>
        
            <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
        
            <!-- DVD Screensaver Section -->
            <div id="screensaver-container_42">
                <div id="dvd-logo-wrapper_42">
                    <p id="dvd-message_42"></p>
                    <svg id="dvd-logo_42" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"
                        viewBox="0 0 1058.4 465.84">
                        <g>
                            <path
                                d="m91.053 0-13.719 57.707 102.28 0.039063h24c65.747 0 105.91 26.44 94.746 73.4-12.147 51.133-69.613 73.4-130.67 73.4h-22.947l29.787-125.45h-102.27l-43.521 183.2h145.05c109.07 0 212.76-57.573 231.01-131.15 3.3467-13.507 2.8806-47.253-5.3594-67.359-0.21299-0.787-0.42594-1.4-1.1855-3-0.293-0.653-0.56012-3.6412 1.1465-4.2812 0.947-0.36 2.7069 1.4944 2.9336 2.041 0.853 2.24 1.5059 3.9062 1.5059 3.9062l92.293 260.6 234.97-265.21 99.535-0.089844h24c65.76 0 106.25 26.44 95.092 73.4-12.147 51.133-69.947 73.4-131 73.4h-22.959l29.799-125.47h-102.27l-43.533 183.21h145.07c109.05 0 213.48-57.4 231-131.15 17.52-73.75-59.107-131.15-168.69-131.15h-216.4s-57.319 67.88-67.959 80.693c-57.12 68.787-67.241 87.226-68.961 91.986 0.24-4.8-1.8138-23.412-26.174-92.959-6.48-18.52-27.359-79.721-27.359-79.721h-389.25zm408.77 324.16c-276.04 0-499.83 31.72-499.83 70.84s223.79 70.84 499.83 70.84c276.04 0 499.83-31.72 499.83-70.84s-223.79-70.84-499.83-70.84zm-18.094 48.627c63.04 0 114.13 10.573 114.13 23.613s-51.095 23.613-114.13 23.613c-63.027 0-114.13-10.573-114.13-23.613s51.106-23.613 114.13-23.613z" />
                        </g>
                    </svg>
                </div>
                <div id="final-message_42">
                    <h2>NICE TRY! Now the screen is saven't</h2>
                </div>
            </div>
        
            <!-- 3D Cat Section -->
            <div id="cat-container_42">
                <div id="credit_42">
                    <a href="https://sketchfab.com/Zhuier">
                        Model by Zhuier
                    </a><br>
                    <a href="https://sketchfab.com/3d-models/oiiaioooooiai-cat-30d27bf7fb224849b76e208a6eccdb36">
                        on Sketchfab
                    </a>
                    <p>Model License type: <strong>CC-BY-4.0</strong></p>
                </div>
                <div id="warningCat_42" style="
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background-color: rgba(255, 0, 0, 0.8);
                        color: #fff;
                        padding: 8px 12px;
                        font-size: 1.2rem;
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                        z-index: 100;
                        ">
                    Don't spin too fast!
                </div>
                <div id="loadingInfo_42">Loading Cat Model...</div>
                <div id="speedInfo_42">Spin Speed: <span id="speedValue_42">0.00</span> RPM</div>
                <button id="spinButton_42">🐱 MAKE IT SPIN! 🐱</button>
        
                <div id="explosion_42">
                    <img src="https://i.giphy.com/pKWCBvHevLcMU.webp" alt="Explosion">
                </div>
        
                <div id="explosionModal_42">
                    <div id="explosionMessage_42">💥 CAT EXPLODED! 💥<br>RPM TOO HIGH!</div>
                    <p id="warningText_42">⚠️ WARNING: Do not exceed 250 RPM! ⚠️</p>
                    <div class="button-container_42">
                        <button id="resetButton_42">🔄 RESET</button>
                        <button id="closeButton_42">❌ CLOSE</button>
                    </div>
                </div>
            </div>
        
            <script type="importmap">
                    {
                      "imports": {
                        "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
                      }
                    }
                    </script>
        
            <script type="module">
                (function () {
                    const catContainer = document.getElementById('cat-container_42');
                    const loadingInfo = document.getElementById('loadingInfo_42');
                    let isModelLoaded = false;
                    let observer = null;

                    function initCatModel() {
                        if (isModelLoaded) return;
                        isModelLoaded = true;

                        loadingInfo.textContent = 'Initializing...';

                        import('three').then(THREE_MODULE => {
                            const THREE = THREE_MODULE;

                            return import('three/addons/loaders/GLTFLoader.js').then(({ GLTFLoader }) => {
                                const spinButton = document.getElementById('spinButton_42');
                                const speedValue = document.getElementById('speedValue_42');
                                const speedInfo = document.getElementById('speedInfo_42');
                                const explosion = document.getElementById('explosion_42');
                                const explosionModal = document.getElementById('explosionModal_42');
                                const resetButton = document.getElementById('resetButton_42');
                                const closeButton = document.getElementById('closeButton_42');
                                const warningText = document.getElementById('warningText_42');

                                // Scene setup
                                const scene_42 = new THREE.Scene();
                                scene_42.background = new THREE.Color(0x87ceeb);

                                // Camera setup
                                const camera_42 = new THREE.PerspectiveCamera(
                                    50,
                                    catContainer.clientWidth / catContainer.clientHeight,
                                    0.1,
                                    1000
                                );

                                camera_42.position.set(0, 80, 150);
                                camera_42.lookAt(0, 0, 0);

                                // Renderer setup
                                const renderer_42 = new THREE.WebGLRenderer({
                                    antialias: true,
                                    alpha: true
                                });
                                renderer_42.setSize(catContainer.clientWidth, catContainer.clientHeight);
                                renderer_42.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                                renderer_42.shadowMap.enabled = true;
                                renderer_42.shadowMap.type = THREE.PCFSoftShadowMap;
                                catContainer.appendChild(renderer_42.domElement);

                                // Lighting
                                const ambientLight_42 = new THREE.AmbientLight(0xffffff, 0.8);
                                scene_42.add(ambientLight_42);

                                const directionalLight_42 = new THREE.DirectionalLight(0xffffff, 1);
                                directionalLight_42.position.set(10, 20, 10);
                                directionalLight_42.castShadow = true;
                                scene_42.add(directionalLight_42);

                                const directionalLight2_42 = new THREE.DirectionalLight(0xffffff, 0.5);
                                directionalLight2_42.position.set(-10, 10, -10);
                                scene_42.add(directionalLight2_42);

                                // Ground plane
                                const planeGeometry_42 = new THREE.PlaneGeometry(500, 500);
                                const planeMaterial_42 = new THREE.MeshStandardMaterial({
                                    color: 0x90ee90,
                                    roughness: 0.8
                                });
                                const plane_42 = new THREE.Mesh(planeGeometry_42, planeMaterial_42);
                                plane_42.rotation.x = -Math.PI / 2;
                                plane_42.position.y = -50;
                                plane_42.receiveShadow = true;
                                scene_42.add(plane_42);

                                // Grid helper
                                const gridHelper_42 = new THREE.GridHelper(500, 50, 0x000000, 0x000000);
                                gridHelper_42.position.y = -49;
                                scene_42.add(gridHelper_42);

                                // Model variables
                                let catModel_42 = null;
                                let spinSpeed_42 = 0;
                                const spinIncrement_42 = 0.005;
                                const maxRPM_42 = 250;
                                let hasExploded_42 = false;

                                // Load model
                                const loader_42 = new GLTFLoader();
                                const modelPath_42 = 'https://cdn.jsdelivr.net/gh/Gawasna/assets@main/oiiaioooooiai_cat/scene.gltf';

                                loadingInfo.textContent = 'Loading Cat Model...';

                                loader_42.load(
                                    modelPath_42,
                                    function (gltf) {
                                        catModel_42 = gltf.scene;

                                        const box_42 = new THREE.Box3().setFromObject(catModel_42);
                                        const center_42 = box_42.getCenter(new THREE.Vector3());
                                        const size_42 = box_42.getSize(new THREE.Vector3());

                                        catModel_42.position.x = -center_42.x;
                                        catModel_42.position.y = -center_42.y;
                                        catModel_42.position.z = -center_42.z;

                                        const maxDim_42 = Math.max(size_42.x, size_42.y, size_42.z);
                                        const scale_42 = 150 / maxDim_42;
                                        catModel_42.scale.setScalar(scale_42);

                                        catModel_42.traverse(function (child) {
                                            if (child.isMesh) {
                                                child.castShadow = true;
                                                child.receiveShadow = true;
                                            }
                                        });

                                        scene_42.add(catModel_42);
                                        loadingInfo.style.display = 'none';

                                        console.log('✅ Cat model loaded successfully!');
                                    },
                                    function (xhr) {
                                        const percentComplete = (xhr.loaded / xhr.total * 100).toFixed(0);
                                        loadingInfo.textContent = `Loading: ${percentComplete}%`;
                                    },
                                    function (error) {
                                        console.error('❌ Error loading model:', error);
                                        loadingInfo.textContent = 'Error loading model!';
                                        loadingInfo.style.color = '#f00';
                                    }
                                );

                                spinButton.addEventListener('click', () => {
                                    if (hasExploded_42) return;

                                    spinSpeed_42 += spinIncrement_42;
                                    updateSpeedDisplay_42();

                                    spinButton.style.transform = 'translateX(-50%) scale(0.9)';
                                    setTimeout(() => {
                                        spinButton.style.transform = 'translateX(-50%) scale(1)';
                                    }, 100);
                                });

                                function updateSpeedDisplay_42() {
                                    const fps_42 = 60;
                                    const rpm_42 = (spinSpeed_42 * fps_42 * 60) / (2 * Math.PI);
                                    speedValue.textContent = rpm_42.toFixed(2);

                                    speedInfo.classList.remove('warning_42', 'danger_42');
                                    spinButton.classList.remove('warning_42', 'danger_42');
                                    catContainer.classList.remove('shake_42');
                                    warningText.classList.remove('show_42');

                                    if (rpm_42 > 150 && rpm_42 <= 200) {
                                        speedInfo.classList.add('warning_42');
                                        spinButton.classList.add('warning_42');
                                    } else if (rpm_42 > 200 && rpm_42 < maxRPM_42) {
                                        speedInfo.classList.add('danger_42');
                                        spinButton.classList.add('danger_42');
                                        catContainer.classList.add('shake_42');
                                        warningText.classList.add('show_42');
                                    }

                                    if (rpm_42 >= maxRPM_42 && !hasExploded_42) {
                                        explodeCat_42();
                                    }
                                }

                                function explodeCat_42() {
                                    hasExploded_42 = true;
                                    explosion.style.display = 'block';

                                    if (catModel_42) {
                                        catModel_42.visible = false;
                                    }

                                    spinSpeed_42 = 0;
                                    scene_42.background = new THREE.Color(0x000000);
                                    catContainer.classList.remove('shake_42');

                                    setTimeout(() => {
                                        explosion.style.display = 'none';
                                        explosionModal.classList.add('show_42');
                                    }, 2000);
                                }

                                resetButton.addEventListener('click', () => {
                                    hasExploded_42 = false;
                                    spinSpeed_42 = 0;

                                    if (catModel_42) {
                                        catModel_42.visible = true;
                                        catModel_42.rotation.y = 0;
                                    }

                                    scene_42.background = new THREE.Color(0x87ceeb);
                                    explosionModal.classList.remove('show_42');

                                    speedInfo.classList.remove('warning_42', 'danger_42');
                                    spinButton.classList.remove('warning_42', 'danger_42');
                                    catContainer.classList.remove('shake_42');
                                    warningText.classList.remove('show_42');
                                    updateSpeedDisplay_42();
                                });

                                closeButton.addEventListener('click', () => {
                                    explosionModal.classList.remove('show_42');
                                });

                                window.addEventListener('resize', () => {
                                    camera_42.aspect = catContainer.clientWidth / catContainer.clientHeight;
                                    camera_42.updateProjectionMatrix();
                                    renderer_42.setSize(catContainer.clientWidth, catContainer.clientHeight);
                                });

                                function animate_42() {
                                    requestAnimationFrame(animate_42);

                                    if (catModel_42 && !hasExploded_42) {
                                        catModel_42.rotation.y += spinSpeed_42;
                                    }

                                    if (!hasExploded_42 && spinSpeed_42 > 0) {
                                        updateSpeedDisplay_42();
                                    }

                                    renderer_42.render(scene_42, camera_42);
                                }
                                animate_42();
                            });
                        });
                    }

                    // Intersection Observer for Lazy Loading
                    if ('IntersectionObserver' in window) {
                        observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    console.log('🐱 Cat container in view - Loading model...');
                                    initCatModel();
                                    observer.disconnect(); // Stop observing after load
                                }
                            });
                        }, {
                            root: null,
                            rootMargin: '100px', // Load 100px before container visible
                            threshold: 0.1
                        });

                        observer.observe(catContainer);
                    } else {
                        // Fallback for browsers without IntersectionObserver
                        initCatModel();
                    }
                })();
            </script>
        
            <script>
                const container_42 = document.getElementById('screensaver-container_42');
                const logoWrapper_42 = document.getElementById('dvd-logo-wrapper_42');
                const logo_42 = document.getElementById('dvd-logo_42');
                const message_42 = document.getElementById('dvd-message_42');
                const finalMessage_42 = document.getElementById('final-message_42');

                let x_42 = Math.random() * 50;
                let y_42 = Math.random() * 50;
                let baseSpeed_42 = 0.7;
                let boostTimeoutId_42 = null;
                let vx_42 = baseSpeed_42;
                let vy_42 = baseSpeed_42;
                let hue_42 = 0;
                let clickCount_42 = 0;
                let isEscaping_42 = false;

                const messages_42 = [
                    "Oh... You see me?",
                    "Hey, don't touch me!😠",
                    "Stop it! 😳",
                    "Alright, you win!",
                    "I'm out of here!😡"
                ];

                function changeColor_42() {
                    hue_42 = (hue_42 + 55) % 360;
                    logo_42.style.fill = `hsl(${hue_42}, 100%, 50%)`;
                }

                function showmsg_42(text) {
                    message_42.textContent = text;
                    message_42.classList.add('visible');
                    setTimeout(() => {
                        message_42.classList.remove('visible');
                    }, 3500);
                }

                function animate_42() {
                    if (isEscaping_42) return;
                    const containerWidth = container_42.clientWidth;
                    const containerHeight = container_42.clientHeight;
                    const logoWidth = logoWrapper_42.offsetWidth;
                    const logoHeight = logoWrapper_42.offsetHeight;
                    x_42 += vx_42;
                    y_42 += vy_42;
                    let hitEdge = false;
                    if (x_42 + logoWidth >= containerWidth) {
                        vx_42 = -vx_42;
                        x_42 = containerWidth - logoWidth;
                        hitEdge = true;
                    } else if (x_42 <= 0) {
                        vx_42 = -vx_42;
                        x_42 = 0;
                        hitEdge = true;
                    }
                    if (y_42 + logoHeight >= containerHeight) {
                        vy_42 = -vy_42;
                        y_42 = containerHeight - logoHeight;
                        hitEdge = true;
                    } else if (y_42 <= 0) {
                        vy_42 = -vy_42;
                        y_42 = 0;
                        hitEdge = true;
                    }
                    if (hitEdge) {
                        changeColor_42();
                    }
                    logoWrapper_42.style.left = `${x_42}px`;
                    logoWrapper_42.style.top = `${y_42}px`;
                    requestAnimationFrame(animate_42);
                }

                logoWrapper_42.addEventListener('click', () => {
                    if (isEscaping_42) return;
                    clickCount_42++;
                    if (boostTimeoutId_42) {
                        clearTimeout(boostTimeoutId_42);
                    }
                    const speedIncrement_42 = 0.4;
                    const boostFactor_42 = 2.5;
                    const boostDuration_42 = 1200;
                    baseSpeed_42 += speedIncrement_42;
                    vx_42 = Math.sign(vx_42) * baseSpeed_42 * boostFactor_42;
                    vy_42 = Math.sign(vy_42) * baseSpeed_42 * boostFactor_42;
                    boostTimeoutId_42 = setTimeout(() => {
                        vx_42 = Math.sign(vx_42) * baseSpeed_42;
                        vy_42 = Math.sign(vy_42) * baseSpeed_42;
                        boostTimeoutId_42 = null;
                    }, boostDuration_42);

                    if (clickCount_42 === 1) {
                        showmsg_42(messages_42[0]);
                    } else if (clickCount_42 === 2) {
                        showmsg_42(messages_42[1]);
                    } else if (clickCount_42 === 3) {
                        showmsg_42(messages_42[2]);
                    } else if (clickCount_42 === 4) {
                        showmsg_42(messages_42[3]);
                    } else if (clickCount_42 === 5) {
                        if (boostTimeoutId_42) {
                            clearTimeout(boostTimeoutId_42);
                        }
                        isEscaping_42 = true;
                        showmsg_42(messages_42[4]);
                        setTimeout(() => {
                            logoWrapper_42.classList.add('escaping');
                            setTimeout(() => {
                                logoWrapper_42.style.display = 'none';
                                finalMessage_42.style.display = 'flex';
                            }, 1500);
                        }, 1500);
                    }
                });

                changeColor_42();
                animate_42();
            </script>
        </div>

        <!-- == SLOT 43 == -->
        <div id="slot-43"></div>

        <!-- == SLOT 44 == -->
        <div id="slot-44"></div>

        <!-- == SLOT 45 == -->
        <div id="slot-45"></div>

        <!-- == SLOT 46 == -->
        <div id="slot-46"></div>

        <!-- == SLOT 47 == -->
        <div id="slot-47"></div>

        <!-- == SLOT 48 == -->
        <div id="slot-48"></div>

        <!-- == SLOT 49 == -->
        <div id="slot-49"></div>

        <!-- == SLOT 50 == -->
        <div id="slot-50"></div>

        <!-- == SLOT 51 == -->
        <div id="slot-51"></div>

        <!-- == SLOT 52 == -->
        <div id="slot-52"></div>

        <!-- == SLOT 53 == -->
        <div id="slot-53"></div>

        <!-- == SLOT 54 == -->
        <div id="slot-54"></div>

        <!-- == SLOT 55 == -->
        <div id="slot-55"></div>

        <!-- == SLOT 56 == -->
        <div id="slot-56"></div>

        <!-- == SLOT 57 == -->
        <div id="slot-57"></div>

        <!-- == SLOT 58 == -->
        <div id="slot-58"></div>

        <!-- == SLOT 59 == -->
        <div id="slot-59"></div>

        <!-- == SLOT 60 == -->
        <div id="slot-60"></div>

        <!-- == SLOT 61 == -->
        <div id="slot-61"></div>

        <!-- == SLOT 62 == -->
        <div id="slot-62"></div>

        <!-- == SLOT 63 == -->
        <div id="slot-63"></div>

        <!-- == SLOT 64 == -->
        <div id="slot-64"></div>

        <!-- == SLOT 65 == -->
        <div id="slot-65"></div>

        <!-- == SLOT 66 == -->
        <div id="slot-66">
            <button onclick="slot66Click()">Open Dialog Button</button>
            <div id="back-66" style="display: none; background: black; z-index: 9999; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh"></div>
            <script>
                function slot66Click() {
                    document.getElementById('back-66').style.display = 'block';
                }
            </script>
        </div>

        <!-- == SLOT 67 == -->
        <div id="slot-67">
            <style>
                .numbers-container {
                    position: relative;
                    width: 100%;
                    height: 500px;
                    overflow: hidden;
                    background: #222;
                    cursor: pointer;
                }

                .numbers-container span {
                    position: absolute;
                    font-family: Arial, sans-serif;
                    font-weight: bold;
                    color: hsl(var(--hue), 80%, 60%);
                    font-size: var(--size);
                    left: var(--x);
                    top: var(--y);
                    pointer-events: none;
                    user-select: none;
                    animation: floatRotate var(--duration) linear infinite;
                }

                @keyframes floatRotate {
                    0% {
                    transform: translate(0, 0) rotate(0deg);
                    }
                    50% {
                    transform: translate(var(--tx), var(--ty)) rotate(180deg);
                    }
                    100% {
                    transform: translate(0, 0) rotate(360deg);
                    }
                }

                .overlay {
                    position: absolute;
                    inset: 0;
                    background: #000;
                    opacity: 0;
                    transition: opacity 0.2s ease-in;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 999;
                }

                .numbers-container:hover .overlay {
                    opacity: 1;
                }

                .overlay iframe {
                    width: 100%;
                    height: 100%;
                    border: none;
                }
            </style>

            <div class="numbers-container" id="numbers">
            <div class="overlay">
                <div class="tenor-gif-embed" data-postid="3349401281762803381" data-share-method="host" data-aspect-ratio="1" data-width="100%">
                <a href="https://tenor.com/view/67-67-kid-edit-analog-horror-phonk-gif-3349401281762803381">67 67 Kid GIF</a>
                from <a href="https://tenor.com/search/67-gifs">67 GIFs</a>
                </div>
            </div>
            </div>

            <script async src="https://tenor.com/embed.js"></script>

            <script>
            const cc = document.getElementById("numbers");

            for (let i = 0; i < 67; i++) {
                const span = document.createElement("span");
                span.textContent = "67";
                span.style.setProperty("--x", Math.random() * 90 + "%");
                span.style.setProperty("--y", Math.random() * 90 + "%");
                span.style.setProperty("--size", Math.random() * 5 + 1 + "rem");
                span.style.setProperty("--hue", Math.floor(Math.random() * 360));
                span.style.setProperty("--tx", (Math.random() * 40 - 20) + "px");
                span.style.setProperty("--ty", (Math.random() * 40 - 20) + "px");
                span.style.setProperty("--duration", (Math.random() * 5 + 5) + "s");
                cc.appendChild(span);
            }
            </script>
        </div>

        <!-- == SLOT 68 == -->
        <div id="slot-68"></div>

        <!-- == SLOT 69 == -->
        <div id="slot-69">
            <style>
                #slot-69 h1 {
                    background-color: green;
                    color: white;
                    text-align: center;
                    font-size: 20;
                    font-style: italic;
                }
            </style>
            <h1>Nà ná Nà na, anh oii</h1>
            <p>My fít pẩgraph</p>
        </div>

        <!-- == SLOT 70 == -->
        <div id="slot-70"></div>

        <!-- == SLOT 71 == -->
        <div id="slot-71"></div>

        <!-- == SLOT 72 == -->
        <div id="slot-72"></div>

        <!-- == SLOT 73 == -->
        <div id="slot-73"></div>

        <!-- == SLOT 74 == -->
        <div id="slot-74"></div>

        <!-- == SLOT 75 == -->
        <div id="slot-75"></div>

        <!-- == SLOT 76 == -->
        <div id="slot-76"></div>

        <!-- == SLOT 77 == -->
        <div id="slot-77">
            <style>
                #slot-77 {
                  width: 100%;
                  margin: 5px 0;
                  border-top: 2px solid transparent;
                  border-bottom: 2px solid transparent;
                  border-image: linear-gradient(
                    90deg,
                    rgba(255, 107, 107, 0.3),
                    rgba(255, 217, 61, 0.5),
                    rgba(107, 207, 127, 0.7),
                    rgba(78, 205, 196, 0.9),
                    rgba(149, 225, 211, 0.9),
                    rgba(199, 125, 255, 0.7),
                    rgba(255, 107, 107, 0.5),
                    rgba(255, 217, 61, 0.3)
                  ) 1;
                }

                #slot-77 .slot-77-welcome {
                  text-align: center;
                  margin-bottom: 50px;
                }

                #slot-77 .slot-77-welcome h1 {
                  font-size: 3.5rem;
                  color: #ffffff;
                  text-shadow:
                    0 0 20px rgba(255, 107, 107, 0.6),
                    0 0 40px rgba(78, 205, 196, 0.4),
                    0 4px 20px rgba(0, 0, 0, 0.3);
                  font-weight: 900;
                  letter-spacing: 3px;
                  background: linear-gradient(
                    135deg,
                    #ff6b6b 0%,
                    #ffd93d 20%,
                    #6bcf7f 40%,
                    #4ecdc4 60%,
                    #c77dff 80%,
                    #ff6b6b 100%
                  );
                  background-size: 300% 300%;
                  -webkit-background-clip: text;
                  -webkit-text-fill-color: transparent;
                  background-clip: text;
                  animation: slot77Shimmer 4s ease-in-out infinite;
                }

                @keyframes slot77Shimmer {
                  0%, 100% { background-position: 0% 50%; }
                  50% { background-position: 100% 50%; }
                }

                #slot-77-canvas {
                  width: 100%;
                  height: 550px;
                  border-radius: 20px;
                  background:
                    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3), transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(255, 77, 77, 0.2), transparent 50%),
                    radial-gradient(circle at 40% 40%, rgba(30, 60, 114, 0.3), transparent 50%),
                    linear-gradient(135deg, #0f2027 0%, #203a43 40%, #2c5364 100%);
                  box-shadow:
                    inset 0 0 60px rgba(0, 0, 0, 0.4),
                    0 8px 30px rgba(0, 0, 0, 0.3),
                    0 0 0 1px rgba(255, 255, 255, 0.1);
                  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                  cursor: crosshair;
                  position: relative;
                }

                #slot-77 .slot-77-canvas-container {
                  position: relative;
                  margin: 0 auto;
                  max-width: 900px;
                }

                #slot-77 .slot-77-canvas-container-hint {
                  position: absolute;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  font-size: 2rem;
                  font-weight: 800;
                  color: #ffffff;
                  text-shadow:
                    0 0 10px rgba(255, 107, 107, 0.8),
                    0 0 20px rgba(255, 217, 61, 0.6),
                    0 0 30px rgba(107, 207, 127, 0.5),
                    0 0 40px rgba(78, 205, 196, 0.4),
                    0 2px 5px rgba(0, 0, 0, 0.5);
                  animation: slot77RainbowGlow 3s ease-in-out infinite, slot77Pulse 2.5s ease-in-out infinite;
                  pointer-events: none;
                  letter-spacing: 2px;
                  opacity: 1;
                  transition: opacity 0.6s ease-out;
                  text-align: center;
                  padding: 20px;
                  user-select: none;
                  z-index: 10;
                }

                #slot-77 .slot-77-canvas-container-hint.hidden {
                  opacity: 0;
                  pointer-events: none;
                  animation: slot77FadeOut 0.6s ease-out forwards;
                }

                @keyframes slot77RainbowGlow {
                  0%, 100% {
                    text-shadow:
                      0 0 10px rgba(255, 107, 107, 0.8),
                      0 0 20px rgba(255, 217, 61, 0.6),
                      0 0 30px rgba(107, 207, 127, 0.5),
                      0 0 40px rgba(78, 205, 196, 0.4),
                      0 2px 5px rgba(0, 0, 0, 0.5);
                  }
                  25% {
                    text-shadow:
                      0 0 10px rgba(255, 217, 61, 0.8),
                      0 0 20px rgba(107, 207, 127, 0.6),
                      0 0 30px rgba(78, 205, 196, 0.5),
                      0 0 40px rgba(199, 125, 255, 0.4),
                      0 2px 5px rgba(0, 0, 0, 0.5);
                  }
                  50% {
                    text-shadow:
                      0 0 10px rgba(107, 207, 127, 0.8),
                      0 0 20px rgba(78, 205, 196, 0.6),
                      0 0 30px rgba(199, 125, 255, 0.5),
                      0 0 40px rgba(255, 107, 107, 0.4),
                      0 2px 5px rgba(0, 0, 0, 0.5);
                  }
                  75% {
                    text-shadow:
                      0 0 10px rgba(78, 205, 196, 0.8),
                      0 0 20px rgba(199, 125, 255, 0.6),
                      0 0 30px rgba(255, 107, 107, 0.5),
                      0 0 40px rgba(255, 217, 61, 0.4),
                      0 2px 5px rgba(0, 0, 0, 0.5);
                  }
                }

                @keyframes slot77Pulse {
                  0%, 100% {
                    transform: translate(-50%, -50%) scale(1);
                    opacity: 0.9;
                  }
                  50% {
                    transform: translate(-50%, -50%) scale(1.08);
                    opacity: 1;
                  }
                }

                @keyframes slot77FadeOut {
                  to {
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0.9);
                  }
                }

                @media (max-width: 768px) {
                  #slot-77 .slot-77-welcome h1 {
                    font-size: 2.5rem;
                    letter-spacing: 2px;
                  }

                  #slot-77-canvas {
                    height: 400px;
                    border-radius: 15px;
                  }

                  #slot-77 .slot-77-canvas-container-hint {
                    font-size: 1.5rem;
                    padding: 15px;
                    letter-spacing: 1px;
                  }
                }

                @media (max-width: 480px) {
                  #slot-77 .slot-77-welcome h1 {
                    font-size: 2rem;
                  }

                  #slot-77-canvas {
                    height: 350px;
                  }

                  #slot-77 .slot-77-canvas-container-hint {
                    font-size: 1.2rem;
                    letter-spacing: 1px;
                  }
                }
              </style>
              <div class="slot-77-welcome">
                <h1>Chào mừng đến với slot 77</h1>
              </div>
              <div class="slot-77-canvas-container">
                <span class="slot-77-canvas-container-hint">Kéo thả để tạo pháo hoa</span>
                <canvas id="slot-77-canvas"></canvas>
              </div>
              <script>
                const slot77Canvas = document.getElementById('slot-77-canvas');
                const slot77Ctx = slot77Canvas.getContext('2d');

                function resizeCanvas() {
                  const rect = slot77Canvas.getBoundingClientRect();
                  slot77Canvas.width = rect.width;
                  slot77Canvas.height = rect.height;
                }

                resizeCanvas();

                let resizeTimeout;
                window.addEventListener('resize', () => {
                  clearTimeout(resizeTimeout);
                  resizeTimeout = setTimeout(resizeCanvas, 100);
                });

                const gravity = 0.4;
                const friction = 0.995;
                const particles = [];

                function rand(min, max) {
                  return Math.random() * (max - min) + min;
                }

                class Particle {
                  constructor(x, y, vx, vy, size, color) {
                    this.x = x;
                    this.y = y;
                    this.vx = vx;
                    this.vy = vy;
                    this.size = size;
                    this.color = color;
                    this.life = 1;
                    this.decay = rand(0.01,0.02);
                  }

                  update() {
                    this.vy += gravity;
                    this.x += this.vx;
                    this.y += this.vy;
                    this.vx *= friction;
                    this.vy *= friction;
                    this.life -= this.decay;
                  }

                  draw(ctx) {
                    ctx.beginPath();
                    ctx.fillStyle = this.color;
                    ctx.globalAlpha = Math.max(0, this.life);
                    ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
                    ctx.fill();
                    ctx.globalAlpha = 1;
                  }
                }

                function makeParticles(x, y, count) {
                  for (let i = 0; i < count; i++) {
                    const angle = Math.random()*Math.PI*2;
                    const speed = Math.random()*10 + 5;
                    particles.push(
                      new Particle(
                        x,
                        y,
                        Math.cos(angle)*speed,
                        Math.sin(angle)*speed,
                        Math.random()*4 + 2,
                        `hsl(${Math.floor(rand(0,360))} ${Math.floor(rand(60,90))}% ${Math.floor(rand(50,70))}%)`)
                      );
                  }
                }

                function loop() {
                  slot77Ctx.clearRect(0, 0, slot77Canvas.width, slot77Canvas.height);

                  for (let i = particles.length - 1; i >= 0; i--) {
                    particles[i].update();
                    particles[i].draw(slot77Ctx);

                    if (particles[i].life <= 0) {
                      particles.splice(i, 1);
                    }
                  }

                  requestAnimationFrame(loop);
                }

                loop();

                let drawing = false;
                let hintHidden = false;

                function getCanvasCoordinates(e) {
                  const rect = slot77Canvas.getBoundingClientRect();
                  const scaleX = slot77Canvas.width / rect.width;
                  const scaleY = slot77Canvas.height / rect.height;

                  return {
                    x: (e.clientX - rect.left) * scaleX,
                    y: (e.clientY - rect.top) * scaleY
                  };
                }

                slot77Canvas.addEventListener('pointerdown', (e) => {
                  if (!hintHidden) {
                    const hint = document.querySelector('.slot-77-canvas-container-hint');
                    hint.classList.add('hidden');
                    hintHidden = true;
                  }

                  const coords = getCanvasCoordinates(e);
                  makeParticles(coords.x, coords.y, 100);
                  drawing = true;
                });

                slot77Canvas.addEventListener('pointermove', (e) => {
                  if (drawing) {
                    const coords = getCanvasCoordinates(e);
                    makeParticles(coords.x, coords.y, 100);
                  }
                });
                window.addEventListener('pointerup', () => {
                  drawing = false;
                });

              </script>
        </div>

        <!-- == SLOT 78 == -->
        <div id="slot-78"></div>

        <!-- == SLOT 79 == -->
        <div id="slot-79"></div>

        <!-- == SLOT 80 == -->
        <div id="slot-80"></div>

        <!-- == SLOT 81 == -->
        <div id="slot-81"></div>

        <!-- == SLOT 82 == -->
        <div id="slot-82" class="slot">
            <style>
                #slot-82 {
                    background: radial-gradient(
                        circle at top left,
                        #111 0%,
                        #222 100%
                    );
                    color: #00ffcc;
                    padding: 20px;
                    border-radius: 12px;
                    font-family: "Fira Code", monospace;
                    text-align: center;
                    border: 1px solid #0ff;
                    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
                    position: relative;
                    overflow: hidden;
                    transition: all 0.2s ease;
                    cursor: pointer;
                }

                #slot-82::before {
                    position: absolute;
                    font-size: 40px;
                    left: 10px;
                    top: 10px;
                    opacity: 0.1;
                }

                #slot-82:hover {
                    transform: scale(1.03);
                    box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
                }

                #slot-82.flash {
                    animation: flashEffect 0.3s ease;
                }

                @keyframes flashEffect {
                    0% {
                        background-color: rgba(0, 255, 255, 0.3);
                    }
                    50% {
                        background-color: rgba(0, 255, 255, 0.8);
                        box-shadow: 0 0 40px #0ff;
                        transform: scale(1.1) rotate(1deg);
                    }
                    100% {
                        background-color: transparent;
                        transform: scale(1);
                    }
                }

                #slot-82 h3 {
                    color: #0ff;
                    margin-bottom: 8px;
                    text-shadow: 0 0 8px #0ff;
                }

                #slot-82 p {
                    margin-bottom: 12px;
                    font-size: 15px;
                    color: #b2fff8;
                }

                #slot-82 button {
                    background: #0ff;
                    border: none;
                    border-radius: 6px;
                    padding: 8px 14px;
                    cursor: pointer;
                    color: #111;
                    font-weight: 700;
                    font-family: inherit;
                    transition: all 0.15s ease;
                }

                #slot-82 button:hover {
                    background: #00bbaa;
                    color: white;
                    transform: translateY(-2px);
                }

                #slot-82 .typewriter {
                    border-right: 2px solid #0ff;
                    display: inline-block;
                    overflow: hidden;
                    white-space: nowrap;
                    animation: typing 2.5s steps(30, end) infinite alternate;
                }

                @keyframes typing {
                    from {
                        width: 0;
                    }
                    to {
                        width: 100%;
                    }
                }

                @keyframes shakeScreen {
                    0%,
                    100% {
                        transform: translate(0, 0);
                    }
                    20% {
                        transform: translate(-2px, 2px);
                    }
                    40% {
                        transform: translate(3px, -1px);
                    }
                    60% {
                        transform: translate(-1px, 3px);
                    }
                    80% {
                        transform: translate(2px, -2px);
                    }
                }
            </style>

            <h3>HDV - .NET Developer</h3>
            <p class="typewriter">DEVQN</p>
            <button onclick="slot82Ping()">Click Me</button>
            <script>
                function slot82Ping() {
                    const slot = document.getElementById("slot-82");

                    slot.classList.add("flash");
                    slot.style.animation = "shakeScreen 0.3s ease";
                    setTimeout(() => {
                        slot.classList.remove("flash");
                        slot.style.animation = "";
                    }, 300);
                    const msg = [
                        "🧩 .NET",
                        "📦 HTMl/CSS/JS",
                        "⚙️ SQL",
                        "✅ C# 😎",
                    ];
                    msg.forEach((line, i) =>
                        setTimeout(() => console.log(line), i * 150),
                    );
                }
                document
                    .getElementById("slot-82")
                    .addEventListener("click", slot82Ping);
            </script>
        </div>

        <!-- == SLOT 83 == -->
        <div id="slot-83"></div>

        <!-- == SLOT 84 == -->
        <div id="slot-84"></div>

        <!-- == SLOT 85 == -->
        <div id="slot-85"></div>

        <!-- == SLOT 86 == -->
        <div id="slot-86"></div>

        <!-- == SLOT 87 == -->
        <div id="slot-87"></div>

        <!-- == SLOT 88 == -->
        <div id="slot-88">
            <style>
                #slot-88 {
                    background: #0d0d0d;
                    color: #00ff41;
                    padding: 2rem;
                    border-radius: 15px;
                    font-family: 'Courier New', monospace;
                    text-align: center;
                    border: 2px solid #333;
                    box-shadow: 0 0 20px rgba(0, 255, 65, 0.2), inset 0 0 15px rgba(0, 255, 65, 0.1);
                    position: relative;
                    overflow: hidden;
                }
                #slot-88::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: repeating-linear-gradient(0deg, rgba(0, 255, 65, 0.05) 0, rgba(0, 255, 65, 0.05) 1px, transparent 1px, transparent 4px);
                    animation: slot88-scanline 8s linear infinite;
                    pointer-events: none;
                }
                #slot-88::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: radial-gradient(circle, rgba(0, 255, 65, 0.15) 0%, transparent 70%);
                    opacity: 0.5;
                    animation: slot88-glow-pulse 5s ease-in-out infinite;
                    pointer-events: none;
                }
                @keyframes slot88-scanline {
                    from { background-position: 0 0; }
                    to { background-position: 0 -200px; }
                }
                @keyframes slot88-glow-pulse {
                    0%, 100% { opacity: 0.4; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(1.1); }
                }
                #slot-88 h3 {
                    font-weight: 700;
                    font-size: 1.5rem;
                    color: #fff;
                    text-shadow: 0 0 8px #00ff41;
                    margin-bottom: 2rem;
                    letter-spacing: 2px;
                    text-transform: uppercase;
                    position: relative;
                    z-index: 1;
                }
                #slot-88 .slot88-prices {
                    display: flex;
                    justify-content: center;
                    gap: 2rem;
                    flex-wrap: wrap;
                    position: relative;
                    z-index: 1;
                }
                #slot-88 .slot88-price-card {
                    background: rgba(0, 0, 0, 0.4);
                    border: 1px solid #333;
                    padding: 1.5rem;
                    border-radius: 10px;
                    min-width: 250px;
                    transition: transform 0.3s, box-shadow 0.3s;
                }
                #slot-88 .slot88-price-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
                }
                #slot-88 .slot88-coin-name {
                    font-size: 1.8rem;
                    font-weight: 700;
                    margin-bottom: 0.5rem;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 0.75rem;
                }
                #slot-88 .slot88-price-value {
                    font-size: 2.2rem;
                    font-weight: 700;
                    text-shadow: 0 0 10px currentColor;
                    min-height: 40px;
                }
                #slot-88 .slot88-icon {
                    font-size: 1.5rem;
                    line-height: 1;
                }
                #slot-88 .slot88-btc { color: #f7931a; }
                #slot-88 .slot88-pi { color: #c77dff; } /* Màu tím cho Pi */
                #slot-88 .slot88-error { color: #ff4141; font-size: 1.2rem; }
            </style>

            <h3>-- Bảng Giá Crypto --</h3>
            <div class="slot88-prices">
                <div class="slot88-price-card">
                    <div class="slot88-coin-name slot88-btc">
                        <span class="slot88-icon">₿</span>
                        <span>Bitcoin</span>
                    </div>
                    <div class="slot88-price-value slot88-btc" id="slot88-btc-price">Đang tải...</div>
                </div>
                <div class="slot88-price-card">
                    <div class="slot88-coin-name slot88-pi">
                        <span class="slot88-icon">π</span>
                        <span>Pi</span>
                    </div>
                    <div class="slot88-price-value slot88-pi" id="slot88-pi-price">Đang tải...</div>
                </div>
            </div>

            <script>
                (function() {
                    const btcPriceEl = document.getElementById("slot88-btc-price");
                    const piPriceEl = document.getElementById("slot88-pi-price");

                    async function slot88GetPrices() {
                        try {
                            const response = await fetch(
                                "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,pi-network&vs_currencies=usd"
                            );
                            if (!response.ok) throw new Error(`API Error: ${response.status}`);
                            const data = await response.json();

                            btcPriceEl.textContent = data.bitcoin ? `$${data.bitcoin.usd.toLocaleString()}` : "N/A";
                            piPriceEl.textContent = data['pi-network'] ? `$${data['pi-network'].usd.toLocaleString()}` : "N/A";

                        } catch (e) {
                            console.error("[slot-88] Lỗi khi lấy giá:", e);
                            btcPriceEl.innerHTML = '<span class="slot88-error">Lỗi</span>';
                            piPriceEl.innerHTML = '<span class="slot88-error">Lỗi</span>';
                        }
                    }

                    slot88GetPrices(); // Lấy giá ngay khi tải
                    setInterval(slot88GetPrices, 60000); // Cập nhật mỗi 60 giây
                })();
            </script>
        </div>

        <!-- == SLOT 89 == -->
        <div id="slot-89"></div>

        <!-- == SLOT 90 == -->
        <div id="slot-90"></div>

        <!-- == SLOT 91 == -->
        <div id="slot-91"></div>

        <!-- == SLOT 92 == -->
        <div id="slot-92"></div>

        <!-- == SLOT 93 == -->
        <div id="slot-93"></div>

        <!-- == SLOT 94 == -->
        <div id="slot-94"></div>

        <!-- == SLOT 95 == -->
        <div id="slot-95"></div>

        <!-- == SLOT 96 == -->
        <div id="slot-96"></div>

        <!-- == SLOT 97 == -->
        <div id="slot-97"></div>

        <!-- == SLOT 98 == -->
        <div id="slot-98">
            <style>
                #slot-98 {
                    width: 100%;
                    height: 100vh;
                    position: relative;
                    background: #000;
                    overflow: hidden;
                    display: flex;
                    flex-direction: column;
                    transition: height 0.3s ease;
                }

                #slot-98.s98-minimized {
                    height: 50vh;
                }

                #slot-98.s98-fit-screen {
                    height: 100vh !important;
                    position: relative;
                }

                .s98-galaxy-container {
                    width: 100%;
                    height: 100%;
                    position: relative;
                }

                .s98-canvas {
                    width: 100%;
                    height: 100%;
                    display: block;
                    cursor: grab;
                }

                .s98-canvas:active {
                    cursor: grabbing;
                }

                .s98-canvas.s98-scroll-disabled {
                    pointer-events: none;
                }

                #slot-98 {
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                    user-select: none;
                }

                .s98-scroll-control {
                    position: absolute;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    z-index: 100;
                    background: rgba(0, 0, 0, 0.8);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    border-radius: 25px;
                    padding: 10px 15px;
                    display: none;
                    align-items: center;
                    gap: 10px;
                    backdrop-filter: blur(10px);
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
                }

                .s98-scroll-control.s98-active {
                    display: flex;
                }

                .s98-fit-screen-btn {
                    background: rgba(74, 158, 255, 0.8);
                    border: none;
                    border-radius: 20px;
                    padding: 8px 16px;
                    color: white;
                    cursor: pointer;
                    font-size: 12px;
                    font-weight: 500;
                    transition: all 0.2s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-family: 'Inter', sans-serif;
                }

                .s98-fit-screen-btn:hover {
                    background: rgba(74, 158, 255, 1);
                    transform: translateY(-1px);
                }

                .s98-scroll-info {
                    color: white;
                    font-family: 'Inter', sans-serif;
                    font-size: 11px;
                    opacity: 0.8;
                }

                .s98-controls {
                    position: absolute;
                    top: 20px;
                    left: 20px;
                    z-index: 10;
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                }

                .s98-control-panel {
                    background: rgba(0, 0, 0, 0.8);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(255, 255, 255, 0.2);
                    color: white;
                    font-family: 'Inter', sans-serif;
                    font-size: 12px;
                    backdrop-filter: blur(10px);
                }

                .s98-control-group {
                    margin-bottom: 10px;
                }

                .s98-control-group:last-child {
                    margin-bottom: 0;
                }

                .s98-control-label {
                    display: block;
                    margin-bottom: 5px;
                    color: #ccc;
                    font-weight: 500;
                }

                .s98-slider {
                    width: 150px;
                    height: 4px;
                    background: rgba(255, 255, 255, 0.2);
                    border-radius: 2px;
                    outline: none;
                    -webkit-appearance: none;
                    appearance: none;
                }

                .s98-slider::-webkit-slider-thumb {
                    -webkit-appearance: none;
                    appearance: none;
                    width: 16px;
                    height: 16px;
                    background: #4a9eff;
                    border-radius: 50%;
                    cursor: pointer;
                    border: 2px solid #fff;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
                }

                .s98-slider::-moz-range-thumb {
                    width: 16px;
                    height: 16px;
                    background: #4a9eff;
                    border-radius: 50%;
                    cursor: pointer;
                    border: 2px solid #fff;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
                }

                .s98-button {
                    background: rgba(74, 158, 255, 0.8);
                    border: none;
                    padding: 8px 16px;
                    border-radius: 6px;
                    color: white;
                    cursor: pointer;
                    font-family: 'Inter', sans-serif;
                    font-size: 11px;
                    font-weight: 500;
                    transition: all 0.2s ease;
                    margin-right: 8px;
                    margin-bottom: 4px;
                }

                .s98-button:hover {
                    background: rgba(74, 158, 255, 1);
                    transform: translateY(-1px);
                }

                .s98-button:active {
                    transform: translateY(0);
                }

                .s98-info {
                    position: absolute;
                    bottom: 20px;
                    left: 20px;
                    color: rgba(255, 255, 255, 0.7);
                    font-family: 'Inter', sans-serif;
                    font-size: 11px;
                    line-height: 1.4;
                    max-width: 300px;
                }

                .s98-loading {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    color: white;
                    font-family: 'Inter', sans-serif;
                    font-size: 14px;
                    z-index: 5;
                }

                @media (max-width: 768px) {
                    .s98-controls {
                        top: 10px;
                        left: 10px;
                    }

                    .s98-control-panel {
                        padding: 10px;
                        font-size: 11px;
                    }

                    .s98-slider {
                        width: 120px;
                    }

                    .s98-info {
                        bottom: 10px;
                        left: 10px;
                        font-size: 10px;
                        max-width: 250px;
                    }
                }
            </style>

            <div class="s98-galaxy-container">
                <div class="s98-loading" id="s98-loading">Loading Galaxy...</div>
                <canvas class="s98-canvas" id="s98-canvas"></canvas>

                <div class="s98-controls">
                    <div class="s98-control-panel">
                        <div class="s98-control-group">
                            <label class="s98-control-label">Orbit Speed: <span id="s98-speed-value">1.0</span></label>
                            <input type="range" class="s98-slider" id="s98-speed" min="0" max="3" value="1" step="0.1">
                        </div>
                        <div class="s98-control-group">
                            <label class="s98-control-label">Asteroid Belt: <span id="s98-asteroids-count">500</span></label>
                            <input type="range" class="s98-slider" id="s98-asteroids" min="0" max="2000" value="500" step="100">
                        </div>
                        <div class="s98-control-group">
                            <label class="s98-control-label">Planet Size: <span id="s98-planet-size">1.0</span></label>
                            <input type="range" class="s98-slider" id="s98-planet-scale" min="0.5" max="3" value="1" step="0.1">
                        </div>
                        <div class="s98-control-group">
                            <label class="s98-control-label">Zoom Level: <span id="s98-zoom-value">100</span></label>
                            <input type="range" class="s98-slider" id="s98-zoom" min="50" max="300" value="100" step="10">
                        </div>
                        <div class="s98-control-group">
                            <button class="s98-button" id="s98-reset">Reset View</button>
                        </div>
                    </div>
                </div>

                <div class="s98-info">
                    <strong>Interactive Solar System</strong><br>
                    • Drag to rotate the view<br>
                    • Scroll to zoom in/out<br>
                    • Watch planets orbit the Sun<br>
                    • Explore our cosmic neighborhood
                </div>
            </div>

            <!-- Scroll Control Panel -->
            <div class="s98-scroll-control" id="s98-scroll-control">
                <div class="s98-scroll-info">Solar System</div>
                <button class="s98-fit-screen-btn" id="s98-fit-screen" title="Fit to Screen">📺 Fit Screen</button>
            </div>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
            <script>
                (function() {
                    // Disable right-click context menu
                    document.getElementById('slot-98').addEventListener('contextmenu', function(e) {
                        e.preventDefault();
                        return false;
                    });

                    // Solar system parameters
                    let s98_scene, s98_camera, s98_renderer, s98_solarSystem;
                    let s98_mouse = { x: 0, y: 0 };
                    let s98_mousePressed = false;
                    let s98_autoRotate = true;
                    let s98_animationSpeed = 1.0;
                    let s98_planets = [];
                    let s98_asteroidBelt = null;
                    let s98_planetScale = 1.0;
                    let s98_zoomLevel = 100;
                    let s98_time = 0;
                    let s98_isMinimized = false;
                    let s98_scrollControlActive = false;

                    // Solar system configuration
                    let s98_config = {
                        asteroids: 500,
                        planetData: [
                            { name: 'Sun', distance: 0, size: 4, color: 0xFDB813, speed: 0, tilt: 0 },
                            { name: 'Mercury', distance: 8, size: 0.4, color: 0x8C7853, speed: 4.15, tilt: 0.034 },
                            { name: 'Venus', distance: 12, size: 0.9, color: 0xFFC649, speed: 1.62, tilt: 177.4 },
                            { name: 'Earth', distance: 16, size: 1, color: 0x6B93D6, speed: 1, tilt: 23.4 },
                            { name: 'Mars', distance: 22, size: 0.5, color: 0xC1440E, speed: 0.53, tilt: 25.2 },
                            { name: 'Jupiter', distance: 35, size: 2.5, color: 0xD8CA9D, speed: 0.084, tilt: 3.1 },
                            { name: 'Saturn', distance: 45, size: 2.1, color: 0xFAD5A5, speed: 0.034, tilt: 26.7 },
                            { name: 'Uranus', distance: 55, size: 1.4, color: 0x4FD0E3, speed: 0.012, tilt: 97.8 },
                            { name: 'Neptune', distance: 65, size: 1.4, color: 0x4B70DD, speed: 0.006, tilt: 28.3 }
                        ]
                    };

                    function s98_init() {
                        const container = document.querySelector('.s98-galaxy-container');
                        const canvas = document.getElementById('s98-canvas');
                        const loading = document.getElementById('s98-loading');

                        // Scene setup
                        s98_scene = new THREE.Scene();
                        s98_camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
                        s98_renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
                        s98_renderer.setSize(container.clientWidth, container.clientHeight);
                        s98_renderer.setPixelRatio(window.devicePixelRatio);

                        // Camera position - positioned to see the whole solar system
                        s98_camera.position.set(0, 50, 100);
                        s98_camera.lookAt(0, 0, 0);

                        // Create solar system
                        s98_createSolarSystem();

                        // Add lighting
                        const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
                        s98_scene.add(ambientLight);

                        const sunLight = new THREE.PointLight(0xffffff, 2, 500);
                        sunLight.position.set(0, 0, 0);
                        s98_scene.add(sunLight);

                        // Event listeners
                        s98_setupEventListeners();
                        s98_setupControls();
                        s98_setupScrollControl();

                        // Hide loading
                        loading.style.display = 'none';

                        // Start animation
                        s98_animate();
                    }

                    function s98_createSolarSystem() {
                        // Clear existing solar system
                        if (s98_solarSystem) {
                            s98_scene.remove(s98_solarSystem);
                        }
                        s98_planets = [];

                        s98_solarSystem = new THREE.Group();

                        // Create planets
                        s98_config.planetData.forEach((planetData, index) => {
                            const planet = s98_createPlanet(planetData);
                            s98_planets.push({
                                mesh: planet,
                                data: planetData,
                                angle: Math.random() * Math.PI * 2 // Random starting position
                            });
                            s98_solarSystem.add(planet);

                            // Add orbit ring for planets (not sun)
                            if (planetData.distance > 0) {
                                const orbitGeometry = new THREE.RingGeometry(planetData.distance - 0.1, planetData.distance + 0.1, 64);
                                const orbitMaterial = new THREE.MeshBasicMaterial({
                                    color: 0x444444,
                                    transparent: true,
                                    opacity: 0.1,
                                    side: THREE.DoubleSide
                                });
                                const orbit = new THREE.Mesh(orbitGeometry, orbitMaterial);
                                orbit.rotation.x = Math.PI / 2;
                                s98_solarSystem.add(orbit);
                            }
                        });

                        // Create asteroid belt
                        s98_createAsteroidBelt();

                        // Create background stars (only once)
                        if (s98_scene.children.filter(child => child.type === 'Points' && child !== s98_asteroidBelt).length === 0) {
                            s98_createStarField();
                        }

                        s98_scene.add(s98_solarSystem);
                    }

                    function s98_createPlanet(planetData) {
                        // Ensure minimum size for visibility, but scale properly
                        const scaledSize = Math.max(planetData.size * s98_planetScale, 0.1);
                        const geometry = new THREE.SphereGeometry(scaledSize, 32, 32);

                        let material;
                        if (planetData.name === 'Sun') {
                            // Sun with emissive glow
                            material = new THREE.MeshBasicMaterial({
                                color: planetData.color,
                                emissive: planetData.color,
                                emissiveIntensity: 0.3
                            });
                        } else if (planetData.name === 'Saturn') {
                            // Saturn with rings
                            material = new THREE.MeshLambertMaterial({ color: planetData.color });
                            const planet = new THREE.Mesh(geometry, material);

                            // Add Saturn's rings - scale with planet
                            const ringGeometry = new THREE.RingGeometry(scaledSize * 1.5, scaledSize * 2.5, 32);
                            const ringMaterial = new THREE.MeshLambertMaterial({
                                color: 0xC4B5A0,
                                transparent: true,
                                opacity: 0.7,
                                side: THREE.DoubleSide
                            });
                            const rings = new THREE.Mesh(ringGeometry, ringMaterial);
                            rings.rotation.x = Math.PI / 2;
                            planet.add(rings);

                            return planet;
                        } else {
                            material = new THREE.MeshLambertMaterial({ color: planetData.color });
                        }

                        return new THREE.Mesh(geometry, material);
                    }

                    function s98_createAsteroidBelt() {
                        if (s98_asteroidBelt) {
                            s98_solarSystem.remove(s98_asteroidBelt);
                        }

                        if (s98_config.asteroids === 0) return;

                        const geometry = new THREE.BufferGeometry();
                        const positions = new Float32Array(s98_config.asteroids * 3);
                        const colors = new Float32Array(s98_config.asteroids * 3);
                        const sizes = new Float32Array(s98_config.asteroids);

                        // Asteroid belt between Mars and Jupiter - more confined distribution
                        const beltInnerRadius = 25; // Just outside Mars orbit
                        const beltOuterRadius = 32; // Just inside Jupiter orbit
                        const beltThickness = 2; // Vertical thickness of the belt

                        for (let i = 0; i < s98_config.asteroids; i++) {
                            const i3 = i * 3;

                            // More realistic asteroid belt distribution
                            const distance = beltInnerRadius + Math.random() * (beltOuterRadius - beltInnerRadius);
                            const angle = Math.random() * Math.PI * 2;

                            // Position asteroids in a more confined belt
                            positions[i3] = Math.cos(angle) * distance;
                            positions[i3 + 1] = (Math.random() - 0.5) * beltThickness; // Confined vertically
                            positions[i3 + 2] = Math.sin(angle) * distance;

                            // Varied gray-brown colors for asteroids
                            const baseGray = 0.25 + Math.random() * 0.35;
                            const brownTint = Math.random() * 0.15;
                            colors[i3] = baseGray + brownTint * 0.3; // Red component
                            colors[i3 + 1] = baseGray + brownTint * 0.2; // Green component
                            colors[i3 + 2] = baseGray; // Blue component

                            // Varied sizes for more realism
                            sizes[i] = Math.random() * 0.15 + 0.03;
                        }

                        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                        geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
                        geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));

                        const material = new THREE.PointsMaterial({
                            size: 0.3,
                            sizeAttenuation: true,
                            vertexColors: true,
                            transparent: true,
                            opacity: 0.9
                        });

                        s98_asteroidBelt = new THREE.Points(geometry, material);
                        s98_solarSystem.add(s98_asteroidBelt);
                    }

                    function s98_createStarField() {
                        const starsGeometry = new THREE.BufferGeometry();
                        const starsCount = 2000;
                        const positions = new Float32Array(starsCount * 3);

                        for (let i = 0; i < starsCount * 3; i += 3) {
                            positions[i] = (Math.random() - 0.5) * 400;
                            positions[i + 1] = (Math.random() - 0.5) * 400;
                            positions[i + 2] = (Math.random() - 0.5) * 400;
                        }

                        starsGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

                        const starsMaterial = new THREE.PointsMaterial({
                            color: 0xffffff,
                            size: 0.5,
                            sizeAttenuation: false
                        });

                        const stars = new THREE.Points(starsGeometry, starsMaterial);
                        s98_scene.add(stars);
                    }

                    function s98_setupEventListeners() {
                        const canvas = document.getElementById('s98-canvas');

                        // Mouse events
                        canvas.addEventListener('mousedown', (e) => {
                            s98_mousePressed = true;
                            s98_mouse.x = e.clientX;
                            s98_mouse.y = e.clientY;
                        });

                        canvas.addEventListener('mousemove', (e) => {
                            if (s98_mousePressed) {
                                const deltaX = e.clientX - s98_mouse.x;
                                const deltaY = e.clientY - s98_mouse.y;

                                s98_solarSystem.rotation.y += deltaX * 0.01;
                                s98_solarSystem.rotation.x += deltaY * 0.01;

                                s98_mouse.x = e.clientX;
                                s98_mouse.y = e.clientY;
                            }
                        });

                        canvas.addEventListener('mouseup', () => {
                            s98_mousePressed = false;
                        });

                        // Scroll-to-zoom disabled to allow normal page scrolling
                        // canvas.addEventListener('wheel', (e) => {
                        //     // Scroll-to-zoom functionality removed
                        // });

                        // Touch events for mobile
                        let s98_lastTouch = null;

                        canvas.addEventListener('touchstart', (e) => {
                            e.preventDefault();
                            s98_lastTouch = {
                                x: e.touches[0].clientX,
                                y: e.touches[0].clientY
                            };
                        });

                        canvas.addEventListener('touchmove', (e) => {
                            e.preventDefault();
                            if (s98_lastTouch) {
                                const deltaX = e.touches[0].clientX - s98_lastTouch.x;
                                const deltaY = e.touches[0].clientY - s98_lastTouch.y;

                                s98_solarSystem.rotation.y += deltaX * 0.01;
                                s98_solarSystem.rotation.x += deltaY * 0.01;

                                s98_lastTouch = {
                                    x: e.touches[0].clientX,
                                    y: e.touches[0].clientY
                                };
                            }
                        });

                        canvas.addEventListener('touchend', () => {
                            s98_lastTouch = null;
                        });

                        // Window resize
                        window.addEventListener('resize', s98_onWindowResize);

                        // Scroll detection for viewport visibility
                        const slot98Element = document.getElementById('slot-98');
                        const observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                const visibilityRatio = entry.intersectionRatio;
                                s98_handleViewportChange(visibilityRatio);
                            });
                        }, {
                            threshold: [0, 0.1, 0.5, 0.9, 1.0]
                        });
                        observer.observe(slot98Element);
                    }

                    function s98_handleViewportChange(visibilityRatio) {
                        const slot98Element = document.getElementById('slot-98');
                        const canvas = document.getElementById('s98-canvas');
                        const scrollControl = document.getElementById('s98-scroll-control');

                        if (visibilityRatio > 0.5) {
                            // More than 50% visible - enable scroll control
                            s98_scrollControlActive = true;
                            scrollControl.classList.add('s98-active');
                            canvas.classList.remove('s98-scroll-disabled');
                        } else if (visibilityRatio > 0.1) {
                            // Partially visible - show fit screen option
                            s98_scrollControlActive = false;
                            scrollControl.classList.add('s98-active');
                            canvas.classList.add('s98-scroll-disabled');
                        } else {
                            // Not visible - hide controls
                            s98_scrollControlActive = false;
                            scrollControl.classList.remove('s98-active');
                            canvas.classList.add('s98-scroll-disabled');
                        }
                    }

                    function s98_setupScrollControl() {
                        const fitScreenBtn = document.getElementById('s98-fit-screen');
                        const slot98Element = document.getElementById('slot-98');

                        // Fit to screen button
                        fitScreenBtn.addEventListener('click', () => {
                            // Scroll the solar system section into view to fit the screen
                            slot98Element.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });

                            // Set height to fit screen if not already
                            if (!slot98Element.classList.contains('s98-fit-screen')) {
                                slot98Element.style.height = '100vh';
                                slot98Element.classList.add('s98-fit-screen');

                                // Trigger resize to adjust canvas
                                setTimeout(() => {
                                    s98_onWindowResize();
                                }, 300);
                            }
                        });
                    }

                    function s98_updateCameraZoom() {
                        // Calculate zoom based on percentage (100% = default distance)
                        const baseDistance = 100; // Base camera distance
                        const zoomFactor = s98_zoomLevel / 100;
                        const targetDistance = baseDistance / zoomFactor;

                        // Maintain camera direction but adjust distance
                        const direction = s98_camera.position.clone().normalize();
                        s98_camera.position.copy(direction.multiplyScalar(targetDistance));
                    }

                    function s98_setupControls() {
                        // Speed control
                        const speedSlider = document.getElementById('s98-speed');
                        const speedValue = document.getElementById('s98-speed-value');

                        speedSlider.addEventListener('input', (e) => {
                            s98_animationSpeed = parseFloat(e.target.value);
                            speedValue.textContent = s98_animationSpeed.toFixed(1);
                        });

                        // Asteroids control
                        const asteroidsSlider = document.getElementById('s98-asteroids');
                        const asteroidsCount = document.getElementById('s98-asteroids-count');

                        asteroidsSlider.addEventListener('input', (e) => {
                            s98_config.asteroids = parseInt(e.target.value);
                            asteroidsCount.textContent = s98_config.asteroids;
                            s98_createAsteroidBelt();
                        });

                        // Planet size control - fixed to properly update planets
                        const planetScaleSlider = document.getElementById('s98-planet-scale');
                        const planetSizeValue = document.getElementById('s98-planet-size');

                        planetScaleSlider.addEventListener('input', (e) => {
                            s98_planetScale = parseFloat(e.target.value);
                            planetSizeValue.textContent = s98_planetScale.toFixed(1);

                            // Update existing planets instead of recreating everything
                            s98_planets.forEach((planetObj) => {
                                const scaledSize = Math.max(planetObj.data.size * s98_planetScale, 0.1);
                                planetObj.mesh.geometry.dispose();
                                planetObj.mesh.geometry = new THREE.SphereGeometry(scaledSize, 32, 32);

                                // Update Saturn's rings if applicable
                                if (planetObj.data.name === 'Saturn') {
                                    const rings = planetObj.mesh.children.find(child => child.geometry.type === 'RingGeometry');
                                    if (rings) {
                                        rings.geometry.dispose();
                                        rings.geometry = new THREE.RingGeometry(scaledSize * 1.5, scaledSize * 2.5, 32);
                                    }
                                }
                            });
                        });

                        // Zoom control
                        const zoomSlider = document.getElementById('s98-zoom');
                        const zoomValue = document.getElementById('s98-zoom-value');

                        zoomSlider.addEventListener('input', (e) => {
                            s98_zoomLevel = parseInt(e.target.value);
                            zoomValue.textContent = s98_zoomLevel;
                            s98_updateCameraZoom();
                        });

                        // Reset button
                        document.getElementById('s98-reset').addEventListener('click', () => {
                            s98_camera.position.set(0, 50, 100);
                            s98_camera.lookAt(0, 0, 0);
                            s98_solarSystem.rotation.set(0, 0, 0);

                            // Reset zoom level
                            s98_zoomLevel = 100;
                            zoomSlider.value = 100;
                            zoomValue.textContent = '100';
                        });
                    }

                    function s98_onWindowResize() {
                        const container = document.querySelector('.s98-galaxy-container');
                        s98_camera.aspect = container.clientWidth / container.clientHeight;
                        s98_camera.updateProjectionMatrix();
                        s98_renderer.setSize(container.clientWidth, container.clientHeight);
                    }

                    function s98_animate() {
                        requestAnimationFrame(s98_animate);

                        s98_time += 0.01 * s98_animationSpeed;

                        // Animate planets orbiting
                        s98_planets.forEach((planet, index) => {
                            if (planet.data.distance > 0) { // Don't move the sun
                                planet.angle += planet.data.speed * 0.01 * s98_animationSpeed;

                                planet.mesh.position.x = Math.cos(planet.angle) * planet.data.distance;
                                planet.mesh.position.z = Math.sin(planet.angle) * planet.data.distance;

                                // Planet rotation
                                planet.mesh.rotation.y += 0.02 * s98_animationSpeed;

                                // Apply axial tilt
                                planet.mesh.rotation.z = THREE.MathUtils.degToRad(planet.data.tilt);
                            } else {
                                // Sun rotation
                                planet.mesh.rotation.y += 0.005 * s98_animationSpeed;
                            }
                        });

                        // Rotate asteroid belt slowly
                        if (s98_asteroidBelt) {
                            s98_asteroidBelt.rotation.y += 0.002 * s98_animationSpeed;
                        }

                        // Auto rotate view if enabled
                        if (s98_autoRotate) {
                            s98_solarSystem.rotation.y += 0.002 * s98_animationSpeed;
                        }

                        s98_renderer.render(s98_scene, s98_camera);
                    }

                    // Initialize when Three.js is loaded
                    function s98_checkThreeJS() {
                        if (typeof THREE !== 'undefined') {
                            s98_init();
                        } else {
                            setTimeout(s98_checkThreeJS, 100);
                        }
                    }

                    s98_checkThreeJS();
                })();
            </script>
        </div>

        <!-- == SLOT 99 == -->
        <div id="slot-99">
          <div class="ocw99-wrap">
            <div class="ocw99-hero">
              <div class="ocw99-badge">Slot 99</div>
              <h2 class="ocw99-title">Cảm ơn anh đã tạo ra trang web này</h2>
              <p class="ocw99-subtitle">
                <a href="https://www.facebook.com/Fidoublenn" target="_blank" rel="noopener" class="ocw99-link">
                  Hải Phúc
                </a>
                tự hào là một phần trong anh :)) &lt;3
              </p>

              <!-- Loading 99% -->
              <div class="ocw99-progress">
                <div class="ocw99-progress-track">
                  <div class="ocw99-progress-bar" style="--p: 99;"></div>
                </div>
                <div class="ocw99-progress-label">Đang yêu đời… 99%</div>
              </div>
            </div>

            <!-- QR APP -->
            <div class="ocw99-card">
              <h3 class="ocw99-card-title">Tạo mã QR từ liên kết</h3>
              <p class="ocw99-hint">Dán URL vào ô bên dưới, nhấn <strong>Tạo QR</strong> và tải về PNG.</p>

              <div class="ocw99-form">
                <input
                  id="ocw99-input"
                  class="ocw99-input"
                  type="url"
                  placeholder="https://ví-dụ.com/đường-dẫn-của-bạn"
                  inputmode="url"
                  aria-label="Nhập liên kết để tạo QR"
                />
                <div class="ocw99-actions">
                  <button id="ocw99-generate" class="ocw99-btn">Tạo QR</button>
                  <button id="ocw99-download" class="ocw99-btn ocw99-btn-ghost" disabled>Tải PNG</button>
                </div>
              </div>

              <div class="ocw99-preview">
                <div id="ocw99-qrcode" class="ocw99-qrcode" aria-live="polite" aria-label="Kết quả mã QR sẽ xuất hiện tại đây"></div>
              </div>
              <p class="ocw99-footnote">Tip: dùng link ngắn để QR sắc nét hơn.</p>
            </div>
          </div>

          <!-- Toast (nội bộ slot) -->
          <div class="ocw99-toast" id="ocw99-toast" role="status" aria-live="polite"></div>

          <!-- Styles (scoped) -->
          <style>
            /* ===== SLOT 99 STYLES ===== */
            #slot-99 {
              --ocw99-bg: radial-gradient(1200px 800px at 10% 10%, #e8f0ff 0%, #f7f9ff 40%, #ffffff 65%);
              --ocw99-primary-600: #4f46e5;
              --ocw99-primary-700: #4338ca;
              --ocw99-ring: rgba(79, 70, 229, 0.25);
              --ocw99-text: #0f172a;
              --ocw99-muted: #475569;
              --ocw99-border: #e2e8f0;
              --ocw99-card: rgba(255,255,255,0.7);
              --ocw99-shadow: 0 8px 30px rgba(2, 6, 23, 0.08);

              font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
              color: var(--ocw99-text);
              position: relative;
              margin: 48px auto;
              padding: 24px;
              max-width: 980px;
              border-radius: 20px;
              background: var(--ocw99-bg);
              border: 1px solid var(--ocw99-border);
              box-shadow: var(--ocw99-shadow);
              overflow: clip;
              isolation: isolate;
            }
            #slot-99 .ocw99-wrap { display: grid; grid-template-columns: 1.1fr 1fr; gap: 28px; }
            @media (max-width: 900px) { #slot-99 .ocw99-wrap { grid-template-columns: 1fr; } }

            /* Hero */
            #slot-99 .ocw99-hero { padding: 24px 12px 12px; position: relative; }
            #slot-99 .ocw99-badge {
              display: inline-block; padding: 6px 10px; font-size: 12px; font-weight: 700; letter-spacing: .04em;
              text-transform: uppercase; color: #0f172a; background: #e0e7ff; border: 1px dashed #c7d2fe; border-radius: 999px;
            }
            #slot-99 .ocw99-title {
              margin: 14px 0 6px; font-family: "Nunito", ui-rounded, system-ui, -apple-system, Segoe UI;
              font-weight: 900; font-size: clamp(24px, 3.2vw, 40px); letter-spacing: -0.02em; line-height: 1.12;
            }
            #slot-99 .ocw99-subtitle { margin: 0 0 16px; color: var(--ocw99-muted); font-size: 15px; }
            #slot-99 .ocw99-link {
              color: var(--ocw99-primary-600); text-decoration: none; border-bottom: 2px solid transparent;
              transition: border-color .2s, color .2s, background .2s; padding: 0 4px; border-radius: 6px;
              background: rgba(79, 70, 229, 0.06);
            }
            #slot-99 .ocw99-link:hover { color: var(--ocw99-primary-700); border-color: var(--ocw99-primary-600); background: rgba(79, 70, 229, 0.12); }

            /* Progress 99% */
            #slot-99 .ocw99-progress { margin-top: 18px; }
            #slot-99 .ocw99-progress-track {
              width: 100%; height: 12px; background: #eef2ff; border: 1px solid #e0e7ff; border-radius: 999px;
              overflow: hidden; position: relative; box-shadow: inset 0 1px 0 rgba(255,255,255,0.9);
            }
            #slot-99 .ocw99-progress-bar {
              --p: 99; height: 100%; width: calc(var(--p) * 1%);
              background: linear-gradient(90deg, #818cf8, #4f46e5 55%, #312e81); border-right: 1px solid rgba(255,255,255,0.6);
              position: relative; animation: ocw99-sheen 2.5s linear infinite;
            }
            #slot-99 .ocw99-progress-bar::after {
              content: ""; position: absolute; inset: 0 -80% 0 -40%;
              background: linear-gradient(110deg, transparent 0%, rgba(255,255,255,.35) 20%, transparent 40%);
              transform: translateX(-60%); animation: ocw99-gloss 2.6s ease-in-out infinite; pointer-events: none;
            }
            #slot-99 .ocw99-progress-label { margin-top: 8px; font-size: 13px; color: #334155; font-weight: 600; }
            @keyframes ocw99-sheen { 0% { filter: brightness(1); } 50% { filter: brightness(1.04); } 100% { filter: brightness(1); } }
            @keyframes ocw99-gloss { 0% { transform: translateX(-65%); opacity: .7; } 60% { transform: translateX(10%); opacity: .95; } 100% { transform: translateX(40%); opacity: 0; } }

            /* Card */
            #slot-99 .ocw99-card {
              background: var(--ocw99-card); backdrop-filter: saturate(140%) blur(8px); border: 1px solid var(--ocw99-border);
              border-radius: 18px; padding: 20px; box-shadow: var(--ocw99-shadow);
            }
            #slot-99 .ocw99-card-title { margin: 0 0 8px; font-weight: 800; font-size: 18px; letter-spacing: -.01em; }
            #slot-99 .ocw99-hint { margin: 0 0 14px; font-size: 13px; color: var(--ocw99-muted); }

            /* Form */
            #slot-99 .ocw99-form { display: grid; gap: 10px; }
            #slot-99 .ocw99-input {
              width: 100%; height: 44px; padding: 0 14px; border-radius: 12px; border: 1px solid var(--ocw99-border); background: #ffffff;
              font-size: 14px; color: var(--ocw99-text); outline: none; box-shadow: 0 1px 0 rgba(2,6,23,0.02), 0 1px 8px rgba(2,6,23,0.04) inset;
              transition: box-shadow .2s, border-color .2s;
            }
            #slot-99 .ocw99-input:focus { border-color: var(--ocw99-primary-600); box-shadow: 0 0 0 6px var(--ocw99-ring); }
            #slot-99 .ocw99-actions { display: flex; gap: 10px; flex-wrap: wrap; }
            #slot-99 .ocw99-btn {
              appearance: none; border: 1px solid var(--ocw99-primary-600);
              background: linear-gradient(180deg, #6366f1, #4f46e5); color: #fff; font-weight: 700; letter-spacing: .01em;
              padding: 10px 14px; border-radius: 12px; cursor: pointer; transition: transform .06s ease, box-shadow .2s ease, filter .2s ease;
              box-shadow: 0 6px 20px rgba(79,70,229,0.25), inset 0 -2px 0 rgba(0,0,0,0.15);
            }
            #slot-99 .ocw99-btn:hover { filter: brightness(1.05); }
            #slot-99 .ocw99-btn:active { transform: translateY(1px); }
            #slot-99 .ocw99-btn:disabled { opacity: .5; cursor: not-allowed; box-shadow: none; filter: grayscale(.1); }
            #slot-99 .ocw99-btn-ghost {
              background: #fff; border: 1px solid var(--ocw99-border); color: var(--ocw99-primary-700);
              box-shadow: 0 6px 20px rgba(2,6,23,0.06), inset 0 -2px 0 rgba(0,0,0,0.04);
            }
            #slot-99 .ocw99-btn-ghost:hover { background: #f8fafc; border-color: #dbeafe; }

            /* Preview */
            #slot-99 .ocw99-preview {
              margin-top: 14px; display: grid; place-items: center; min-height: 220px; border: 1px dashed #cbd5e1;
              border-radius: 14px; background: linear-gradient(180deg, #ffffff 20%, #f8fafc);
            }
            #slot-99 .ocw99-qrcode canvas, #slot-99 .ocw99-qrcode img {
              image-rendering: pixelated; border-radius: 10px; box-shadow: 0 8px 28px rgba(2, 6, 23, 0.08);
            }
            #slot-99 .ocw99-footnote { margin: 10px 0 0; font-size: 12px; color: var(--ocw99-muted); text-align: center; }

            /* Toast */
            #slot-99 .ocw99-toast {
              position: fixed; inset: auto 16px 16px auto; z-index: 1;
              max-width: 92vw; background: #111827; color: #fff; border: 1px solid #111827; border-radius: 12px;
              padding: 10px 14px; font-size: 14px; box-shadow: 0 10px 30px rgba(2,6,23,.25);
              opacity: 0; transform: translateY(10px); pointer-events: none; transition: opacity .2s, transform .2s;
            }
            #slot-99 .ocw99-toast--show { opacity: 1; transform: translateY(0); }
          </style>

          <!-- QRCode library (không ảnh hưởng slot khác) -->
          <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" defer></script>

          <!-- Logic (scoped) -->
          <script>
            (function ocw99App() {
              const ready = () => {
                const input  = document.getElementById("ocw99-input");
                const genBtn = document.getElementById("ocw99-generate");
                const dlBtn  = document.getElementById("ocw99-download");
                const box    = document.getElementById("ocw99-qrcode");
                const toast  = document.getElementById("ocw99-toast");

                function ocw99IsValidUrl(str) {
                  try { const u = new URL(str); return !!u.protocol && !!u.hostname; }
                  catch { return false; }
                }
                function ocw99Toast(msg, ms = 2200) {
                  console.log("[slot-99]", msg);
                  toast.textContent = msg;
                  toast.classList.add("ocw99-toast--show");
                  clearTimeout(ocw99Toast._t);
                  ocw99Toast._t = setTimeout(() => toast.classList.remove("ocw99-toast--show"), ms);
                }
                function ocw99ClearQR() {
                  box.innerHTML = "";
                  dlBtn.disabled = true;
                }
                function ocw99Generate() {
                  const url = input.value.trim();
                  if (!ocw99IsValidUrl(url)) {
                    input.focus();
                    input.setSelectionRange(0, input.value.length);
                    ocw99Toast("Vui lòng nhập đúng URL (ví dụ: https://example.com).");
                    return;
                  }
                  ocw99ClearQR();
                  new QRCode(box, {
                    text: url, width: 240, height: 240, colorDark: "#111827", colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                  });
                  setTimeout(() => { dlBtn.disabled = false; }, 120);
                }
                function ocw99DownloadPNG() {
                  const canvas = box.querySelector("canvas");
                  const img = box.querySelector("img");
                  let dataURL;
                  if (canvas) {
                    dataURL = canvas.toDataURL("image/png");
                  } else if (img) {
                    const c = document.createElement("canvas");
                    const s = Math.max(img.naturalWidth || 240, img.width || 240);
                    c.width = s; c.height = s;
                    const ctx = c.getContext("2d");
                    ctx.fillStyle = "#ffffff"; ctx.fillRect(0, 0, s, s);
                    ctx.drawImage(img, 0, 0, s, s);
                    dataURL = c.toDataURL("image/png");
                  } else {
                    ocw99Toast("Chưa có mã QR để tải.");
                    return;
                  }
                  const a = document.createElement("a");
                  a.href = dataURL; a.download = "openchaosweb-qr.png";
                  document.body.appendChild(a); a.click(); a.remove();
                }

                genBtn.addEventListener("click", ocw99Generate);
                dlBtn.addEventListener("click", ocw99DownloadPNG);
                input.addEventListener("keydown", (e) => { if (e.key === "Enter") { e.preventDefault(); ocw99Generate(); } });

                if (!input.value) { input.value = "https://www.facebook.com/Fidoublenn"; }
              };

              if (document.readyState === "complete" || document.readyState === "interactive") { setTimeout(ready, 0); }
              else { document.addEventListener("DOMContentLoaded", ready); }
            })();
          </script>
        </div>


        <!-- == SLOT 100 == -->
        <div id="slot-100"><!-- Unique 3D Text Effect -->
<div id="x3d_txt" style="position:relative;transform-style:preserve-3d"><h1 id="x3d_h" style="font:700 8rem Arial;color:#fff;text-shadow:0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);cursor:pointer">HACKER DANG CAP: TRAN ANH QUOC</h1></div>
<!-- <div id="x3d_btns" style="position:fixed;bottom:20px;left:50%;transform:translateX(-50%)"><button id="x3d_rot" style="margin:0 5px;padding:8px;background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);color:#fff;border-radius:4px;cursor:pointer">Rotate</button><button id="x3d_clr" style="margin:0 5px;padding:8px;background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);color:#fff;border-radius:4px;cursor:pointer">Color</button></div> -->
<script>
(function(){
  const t=document.getElementById('x3d_txt'), h=document.getElementById('x3d_h'), r=document.getElementById('x3d_rot'), c=document.getElementById('x3d_clr');
  let R=0, I=0, C=['#fff','#f00','#0f0','#00f','#ff0','#f0f','#ffa500','#00bcd4'];
  r.onclick=()=>{R=!R; R&&requestAnimationFrame(function a(){R&&(t.style.transform=`rotateY(${++rotationAngle}deg)`,requestAnimationFrame(a))})};
  c.onclick=()=>{h.style.color=C[I=++I%C.length]};
  document.onmousemove=e=>{const x=e.clientX/window.innerWidth-.5,y=e.clientY/window.innerHeight-.5;t.style.transform=`rotateY(${x*20}deg) rotateX(${-y*20}deg)`};
  h.onclick=()=>{const p=document.createElement('div');p.style=`position:fixed;left:${Math.random()*100}%`;p.animate([{top:'50%',opacity:1},{top:'30%',opacity:0}],{duration:800}).onfinish=()=>p.remove();document.body.appendChild(p)};
})();
</script></div>


		<!-- == SLOT 101 == -->>
		<div id="slot-101"><style>#slot-101{font-family:'Roboto Condensed',sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;background-color:#333;color:#fff;border-radius:10px;box-shadow:0 0 15px rgba(0,0,0,.7);position:relative;overflow:hidden}#slot-101 h1{color:#ffc107;text-transform:uppercase;letter-spacing:2px;margin-bottom:20px}#slot-101 #revolver-container{position:relative;width:300px;height:300px;margin:30px auto}#slot-101 #cylinder{position:absolute;width:100%;height:100%;background-color:#888;border-radius:50%;border:10px solid #666;transition:transform 2.5s cubic-bezier(.25,.1,.25,1)}#slot-101 .chamber{position:absolute;top:50%;left:50%;width:60px;height:60px;margin:-30px;background-color:#555;border:5px solid #444;border-radius:50%}#slot-101 #barrel{position:absolute;top:-50px;left:53%;transform:translateX(-50%);width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-bottom:40px solid #ffc107}#slot-101 #message{margin-top:20px;font-size:1.5em;height:30px;color:#fff}#slot-101 #controls{margin-top:20px}#slot-101 button{font-family:'Roboto Condensed',sans-serif;padding:15px 30px;font-size:18px;cursor:pointer;border:none;border-radius:5px;margin:0 10px;color:#333;background-color:#ffc107;text-transform:uppercase;transition:background-color .3s,transform .1s}#slot-101 button:hover{background-color:#ffde7a}#slot-101 button:active{transform:translateY(2px)}#slot-101 button:disabled{background-color:#888;cursor:not-allowed}</style><h1>Cò Quay Nga</h1><div id="revolver-container"><div id="barrel"></div><div id="cylinder"></div></div><div id="message">Nhấn "Quay Nòng Súng" để bắt đầu!</div><div id="controls"><button id="spinButton">Quay Nòng Súng</button><button id="pullTriggerButton" disabled="disabled">Bóp Cò</button></div><script>(function() {
            const slot101 = document.getElementById('slot-101');
            const cylinder = slot101.querySelector('#cylinder');
            const spinButton = slot101.querySelector('#spinButton');
            const pullTriggerButton = slot101.querySelector('#pullTriggerButton');
            const message = slot101.querySelector('#message');

            const chamberCount = 6;
            const anglePerChamber = 360 / chamberCount;
            let bulletChamber;
            let currentChamber = 0;
            let pullsMade = 0;
            let isSpinning = false;
            const rickrollURL = 'https://www.youtube.com/watch?v=xvFZjo5PgG0';

            function setupChambers() {
                cylinder.innerHTML = '';
                for (let i = 0; i < chamberCount; i++) {
                    const chamber = document.createElement('div');
                    chamber.classList.add('chamber');
                    const angle = (anglePerChamber * i) - 90;
                    const radius = 110;
                    const x = radius * Math.cos(angle * Math.PI / 180);
                    const y = radius * Math.sin(angle * Math.PI / 180);
                    chamber.style.transform = `translate(${x}px, ${y}px)`;
                    cylinder.appendChild(chamber);
                }
            }

            function spinCylinder() {
                if (isSpinning) return;
                isSpinning = true;

                // Reset lại số lần bóp cò
                pullsMade = 0;

                // 1. Đặt viên đạn vào một lỗ ngẫu nhiên (về mặt logic)
                bulletChamber = Math.floor(Math.random() * chamberCount);
                console.log(`Bí mật: Viên đạn ở lỗ số ${bulletChamber + 1}`);

                // 2. *** THAY ĐỔI QUAN TRỌNG ***
                // Chọn ngẫu nhiên một lỗ đạn sẽ dừng lại ở trên cùng
                const stoppingChamberIndex = Math.floor(Math.random() * chamberCount);

                // Tính toán góc quay cuối cùng phải là một bội số của 60 độ
                const finalAngle = stoppingChamberIndex * anglePerChamber;
                const randomSpins = Math.floor(Math.random() * 5) + 5; // Số vòng quay hiệu ứng
                const totalRotation = (randomSpins * 360) + finalAngle;

                // Cập nhật logic: lỗ đạn hiện tại là lỗ vừa dừng ở trên
                currentChamber = stoppingChamberIndex;

                cylinder.style.transform = `rotate(${totalRotation}deg)`;
                spinButton.disabled = true;
                message.textContent = "Đang quay...";

                setTimeout(() => {
                    isSpinning = false;
                    pullTriggerButton.disabled = false;
                    message.textContent = "Đến lượt bạn. Hãy bóp cò!";
                }, 2500);
            }

            function pullTrigger() {
                if (isSpinning) return;

                // Logic kiểm tra xem lỗ đạn hiện tại có đạn không
                if (currentChamber === bulletChamber) {
                    message.textContent = "BÙM! Chúc mừng, bạn đã trúng thưởng!";
                    window.open(rickrollURL, '_blank');
                    pullTriggerButton.disabled = true;
                    setTimeout(resetGame, 2000);
                    return; // Dừng lại ngay khi trúng đạn
                }

                // Nếu không trúng, tiếp tục
                pullsMade++;
                message.textContent = "Cạch... Bạn vẫn an toàn!";

                // Logic chuyển sang lỗ đạn tiếp theo
                currentChamber = (currentChamber + 1) % chamberCount;

                // Xoay hình ảnh thêm 60 độ để khớp với logic
                const currentRotation = parseFloat(cylinder.style.transform.match(/rotate\(([^deg]+)deg\)/)[1]);
                cylinder.style.transition = 'transform 0.3s ease-out';
                cylinder.style.transform = `rotate(${currentRotation + anglePerChamber}deg)`;

                // Nếu đã bóp cò hết các lỗ mà vẫn an toàn
                if (pullsMade >= chamberCount -1) {
                    setTimeout(() => {
                        message.textContent = "Hết đạn! Bạn đã thắng!";
                        pullTriggerButton.disabled = true;
                        setTimeout(resetGame, 2000);
                    }, 500);
                }
            }

            function resetGame() {
                cylinder.style.transition = 'none';
                cylinder.style.transform = 'rotate(0deg)';
                message.textContent = 'Nhấn "Quay Nòng Súng" để bắt đầu!';
                spinButton.disabled = false;
                pullTriggerButton.disabled = true;
                pullsMade = 0;
            }

            spinButton.addEventListener('click', spinCylinder);
            pullTriggerButton.addEventListener('click', pullTrigger);

            setupChambers();
        })();</script></div>

        <!-- SLOT 102: Hội Anh Em Sợ Vợ -->
<div id="slot-069">
  <style>
    #slot-069 {
      font-family: "Comic Sans MS", cursive;
      text-align: center;
      background: radial-gradient(circle at top, #fff3e0, #ffe0b2);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      animation: slot69-shake 3s infinite;
    }
    #slot-069 h2 {
      color: #e65100;
      font-size: 1.8em;
      margin-bottom: 0.5em;
    }
    #slot-069 p {
      color: #4e342e;
      font-size: 1.1em;
      margin: 0.5em 0;
    }
    #slot-069 button {
      background: #ff9800;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
      font-size: 1em;
    }
    #slot-069 button:hover {
      background: #f57c00;
      transform: scale(1.05);
    }
    @keyframes slot69-shake {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(1deg); }
      50% { transform: rotate(-1deg); }
      75% { transform: rotate(1deg); }
    }
  </style>

  <h2>👨‍🦱 Hội Anh Em Sợ Vợ 😱</h2>
  <p>“Thà để vợ càm ràm còn hơn bị vợ im lặng...”</p>
  <p><em>- Triết lý sống của hội -</em></p>
  <button id="slot69-btn">Tuyên thệ gia nhập</button>
  <p id="slot69-status"></p>

  <script>
    const btn69 = document.getElementById("slot69-btn");
    const status69 = document.getElementById("slot69-status");

    btn69.addEventListener("click", () => {
      const quotes = [
        "Em ơi anh sai rồi 😭",
        "Lỗi tại anh tất cả 😔",
        "Anh chỉ nghe lời em thôi 🫡",
        "Hội trưởng phê duyệt: Sợ vợ là đỉnh cao!",
        "Đàn ông không sợ vợ thì sợ ai? 😎"
      ];
      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
      status69.textContent = randomQuote;
      status69.style.fontWeight = "bold";
    });
  </script>
</div>
<!-- END SLOT 102 -->
    <!-- SLOT 103 -->
    <div id="slot-103">
        <style>
            #slot-103 {
            font-family: 'Courier New', Courier, monospace;
            background-color: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            text-align: center;
            }
            #slot-103 h2 {
            color: #569cd6;
            margin-bottom: 10px;
            }
            #slot-103 p {
            font-size: 1.1em;
            margin: 10px 0;
            }
            #slot-103 button {
            background-color: #007acc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            }
            #slot-103 button:hover {
            background-color: #005f99;
            }
        </style>
        <h2>Khu vực nguy hiểm</h2>
        <p>Đừng chọt vào cục xanh xanh</p>
        <button id="simulate-btn">Đừng chọt</button>
        <p id="outputz"></p>
        <style>
            #ghost-modal {
                position: fixed;
                inset: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                visibility: hidden;
                opacity: 0;
                transition: opacity 240ms ease, visibility 240ms ease;
                z-index: 99999;
                pointer-events: none;
            }
            #ghost-modal.show {
                visibility: visible;
                opacity: 1;
                pointer-events: auto;
            }
            #ghost-backdrop {
                position: absolute;
                inset: 0;
                background: rgba(0,0,0,0.65);
            }
            .ghost-content {
                position: relative;
                z-index: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 12px;
                padding: 18px;
                background: transparent;
                border-radius: 12px;
                user-select: none;
            }
            .ghost-img {
                font-size: 10rem;
                line-height: 1;
                transform: scale(0.6);
                filter: drop-shadow(0 10px 30px rgba(0,0,0,0.6));
                animation: ghost-pop 360ms cubic-bezier(.2,.9,.2,1) forwards;
            }
            @keyframes ghost-pop { to { transform: scale(1); } }
            .ghost-caption {
                color: #fff;
                font-weight: 700;
                text-shadow: 0 2px 8px rgba(0,0,0,0.6);
                font-family: sans-serif;
            }
            .ghost-close {
                appearance: none;
                border: none;
                background: #ffffffee;
                color: #111;
                padding: 8px 12px;
                border-radius: 8px;
                cursor: pointer;
                font-weight: 600;
            }
        </style>
        <div id="ghost-modal" aria-hidden="true">
            <div id="ghost-backdrop" data-role="backdrop"></div>
            <div class="ghost-content" role="dialog" aria-modal="true">
                <div class="ghost-img" aria-hidden="true">👻</div>
                <div class="ghost-caption">Oà! 👻</div>
                <button id="ghost-close" class="ghost-close" aria-label="Close ghost">Close</button>
            </div>
        </div>
        <script>
            (function() {
                const btn = document.getElementById('simulate-btn');
                const outputz = document.getElementById('outputz');
                const modal = document.getElementById('ghost-modal');
                const backdrop = document.querySelector('#ghost-backdrop');
                const closeBtn = document.getElementById('ghost-close');
                let hideTimeout = null;

                function showGhost(duration = 3000) {
                    if (!modal) return;
                    modal.classList.add('show');
                    modal.setAttribute('aria-hidden', 'false');
                    clearTimeout(hideTimeout);
                    hideTimeout = setTimeout(hideGhost, duration);
                }

                function hideGhost() {
                    if (!modal) return;
                    modal.classList.remove('show');
                    modal.setAttribute('aria-hidden', 'true');
                    clearTimeout(hideTimeout);
                }
                btn.addEventListener('click', () => {
                    setTimeout(() => {
                        showGhost(3600);
                    }, 600);
                });
                backdrop && backdrop.addEventListener('click', hideGhost);
                closeBtn && closeBtn.addEventListener('click', hideGhost);
                window.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') hideGhost();
                });
            })();
        </script>
    </div>
    </div>
    <!-- END SLOT 103 -->

<!-- == SLOT 103 == -->
<div id="slot-103" class="slot"><style>#slot-103{background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);background-size:400% 400%;animation:slot103_gradient 15s ease infinite;color:#fff;padding:30px;text-align:center;border-radius:20px;font-family:'Courier New',monospace;user-select:none;box-shadow:0 8px 32px rgba(0,0,0,0.4);position:relative;overflow:hidden;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);min-height:500px}@keyframes slot103_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}#slot-103 h3{margin:0 0 20px 0;font-size:24px;text-transform:uppercase;letter-spacing:3px;color:#00f5ff;text-shadow:0 0 10px #00f5ff,0 0 20px #00f5ff,0 0 30px #00f5ff;animation:slot103_flicker 2s infinite alternate}@keyframes slot103_flicker{0%,18%,22%,25%,53%,57%,100%{text-shadow:0 0 10px #00f5ff,0 0 20px #00f5ff,0 0 30px #00f5ff,0 0 40px #00f5ff}20%,24%,55%{text-shadow:none}}#slot-103 .prize-notice{background:linear-gradient(45deg,#ffd700,#ffed4e);color:#000;padding:12px;border-radius:10px;margin-bottom:20px;font-weight:bold;font-size:16px;box-shadow:0 0 20px rgba(255,215,0,0.6);animation:slot103_glow 2s ease-in-out infinite}@keyframes slot103_glow{0%,100%{box-shadow:0 0 20px rgba(255,215,0,0.6)}50%{box-shadow:0 0 40px rgba(255,215,0,1)}}#slot-103 .score-display{display:flex;justify-content:center;gap:30px;margin:20px 0;font-size:20px;font-weight:bold}#slot-103 .score-item{background:rgba(255,255,255,0.1);padding:10px 20px;border-radius:10px;border:2px solid rgba(0,245,255,0.5)}#slot-103 .score-label{color:#00f5ff;font-size:14px;margin-bottom:5px}#slot-103 .score-value{color:#ff00ff;font-size:28px;text-shadow:0 0 10px #ff00ff}#slot-103 #chaosEnergy103{font-size:72px;margin:25px 0;font-weight:bold;color:#ff00ff;text-shadow:0 0 10px #ff00ff,0 0 20px #ff00ff,0 0 40px #ff00ff,0 0 80px #ff00ff;animation:slot103_pulse 1.5s ease-in-out infinite;letter-spacing:5px;min-height:90px;display:flex;align-items:center;justify-content:center}@keyframes slot103_pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}#slot-103 .spinning{animation:slot103_spin 0.03s linear infinite!important;color:#ffd700!important;text-shadow:0 0 20px #ffd700,0 0 40px #ffd700,0 0 60px #ffd700!important}@keyframes slot103_spin{0%{transform:scale(1) rotate(0deg)}25%{transform:scale(1.15) rotate(8deg)}50%{transform:scale(0.85) rotate(-8deg)}75%{transform:scale(1.15) rotate(8deg)}100%{transform:scale(1) rotate(0deg)}}#slot-103 .status-text{font-size:18px;color:#00f5ff;margin:15px 0;font-weight:bold;min-height:30px}#slot-103 .last-roll{font-size:16px;color:#51cf66;margin:10px 0;min-height:25px}#slot-103 button{background:linear-gradient(45deg,#ff00ff,#00f5ff);border:none;color:white;font-size:18px;font-weight:bold;padding:15px 30px;margin:8px;border-radius:50px;cursor:pointer;position:relative;overflow:hidden;transition:all 0.3s ease;text-transform:uppercase;letter-spacing:2px;box-shadow:0 0 10px rgba(255,0,255,0.5),0 0 20px rgba(0,245,255,0.5)}#slot-103 button::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,0.3);transform:translate(-50%,-50%);transition:width 0.6s,height 0.6s}#slot-103 button:hover{transform:translateY(-3px);box-shadow:0 0 20px rgba(255,0,255,0.8),0 0 40px rgba(0,245,255,0.8),0 0 60px rgba(255,0,255,0.6)}#slot-103 button:active::before{width:300px;height:300px}#slot-103 button:disabled{opacity:0.5;cursor:not-allowed}#slot-103 #slot103_btnReset{background:linear-gradient(45deg,#ff4500,#ff6347);box-shadow:0 0 10px rgba(255,69,0,0.5),0 0 20px rgba(255,99,71,0.5)}#slot-103 #slot103_btnReset:hover{box-shadow:0 0 20px rgba(255,69,0,0.8),0 0 40px rgba(255,99,71,0.8),0 0 60px rgba(255,69,0,0.6)}#slot-103 #slot103_btnClaim{position:absolute;background:linear-gradient(45deg,#ffd700,#ffed4e);color:#000;font-size:22px;padding:20px 40px;box-shadow:0 0 20px rgba(255,215,0,0.8),0 0 40px rgba(255,215,0,0.6);animation:slot103_claimGlow 1s ease-in-out infinite;transition:all 0.1s ease}@keyframes slot103_claimGlow{0%,100%{box-shadow:0 0 20px rgba(255,215,0,0.8)}50%{box-shadow:0 0 50px rgba(255,215,0,1)}}#slot-103 .fb-link{display:inline-block;margin-top:25px;padding:12px 30px;background:linear-gradient(45deg,#1877f2,#42b72a);color:white;text-decoration:none;border-radius:50px;font-weight:bold;font-size:16px;box-shadow:0 0 20px rgba(24,119,242,0.5);transition:all 0.3s ease;animation:slot103_fbGlow 2s ease-in-out infinite}#slot-103 .fb-link:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 0 40px rgba(24,119,242,0.8);color:white}@keyframes slot103_fbGlow{0%,100%{box-shadow:0 0 20px rgba(24,119,242,0.5)}50%{box-shadow:0 0 35px rgba(24,119,242,0.9)}}#slot-103 .fb-section{margin-top:25px;padding-top:20px;border-top:1px solid rgba(255,255,255,0.2)}#slot-103 .fb-text{color:#00f5ff;font-size:14px;margin-bottom:10px}#slot-103 .particles{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none;z-index:0}#slot-103 .particle{position:absolute;width:4px;height:4px;background:#00f5ff;border-radius:50%;box-shadow:0 0 10px #00f5ff;animation:slot103_float 6s infinite;opacity:0.6}@keyframes slot103_float{0%{transform:translateY(100vh) translateX(0);opacity:0}10%{opacity:0.6}90%{opacity:0.6}100%{transform:translateY(-100px) translateX(100px);opacity:0}}#slot-103 .particle:nth-child(1){left:10%;animation-delay:0s}#slot-103 .particle:nth-child(2){left:30%;animation-delay:1s}#slot-103 .particle:nth-child(3){left:50%;animation-delay:2s}#slot-103 .particle:nth-child(4){left:70%;animation-delay:3s}#slot-103 .particle:nth-child(5){left:90%;animation-delay:4s}#slot-103>*{position:relative;z-index:1}#slot-103 .winner-message{color:#ffd700;font-size:24px;margin-top:15px;font-weight:bold;text-shadow:0 0 20px #ffd700}#slot-103 .loser-message{color:#ff6b6b;font-size:20px;margin-top:15px}</style><div class="particles"><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div></div><div class="prize-notice">ĐẠT ĐÚNG 11 ĐIỂM SẼ NHẬN QUÀ ĐẶC BIỆT!</div><h3>Thử Vận May 11 Điểm</h3><div class="score-display"><div class="score-item"><div class="score-label">Điểm Hiện Tại</div><div class="score-value" id="slot103_currentScore">0</div></div><div class="score-item"><div class="score-label">Số Lần Quay</div><div class="score-value" id="slot103_rollCount">0</div></div></div><div class="status-text" id="slot103_status">Bấm để quay số may mắn!</div><div id="chaosEnergy103">?</div><div class="last-roll" id="slot103_lastRoll"></div><div id="slot103_result"></div><button id="slot103_btnAdd">Quay Số</button><button id="slot103_btnReset">Chơi Lại</button><button id="slot103_btnClaim" style="display:none">🎁 NHẬN QUÀ NGAY! 🎁</button><div class="fb-section"><p class="fb-text">Bạn muốn có quà luôn? Kết nối với mình:</p><a href="https://www.facebook.com/serayeuem" target="_blank" class="fb-link">📘 Follow Facebook</a></div><script>!function(){let t=0,e=!1,l=0;const o=document.getElementById("chaosEnergy103"),n=document.getElementById("slot103_btnAdd"),s=document.getElementById("slot103_btnReset"),i=document.getElementById("slot103_btnClaim"),a=document.getElementById("slot103_status"),d=document.getElementById("slot103_lastRoll"),c=document.getElementById("slot103_result"),r=document.getElementById("slot103_currentScore"),u=document.getElementById("slot103_rollCount"),m=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","36","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","🍀","💎","⭐","🎯","🔥","💰","🎁","🌟","✨","🎪","🎲","🍒","🍋","🍊","🍇","🍉","🎰","💫","🌈","🦄","👑","💀","😱","👻","🎃","☠️","💩","🤡","👿","😈","🔱","🎮","🕹️","🎯","🏆","🎪","🎨","🎭","🎬","🎤","🎧","⚽","🏀","🎾","🏐","🏈","⚾","🎱","🏓","🏸","🏒","🌟","✨","💫","⭐","🌠","☄️","🔥","💥","⚡","🌸","🌺","🌻","🌼","🌷","🌹","🏵️","🌴","🌲","🎄"];function f(){const n=m[Math.floor(Math.random()*m.length)];return isNaN(n)?Math.floor(9*Math.random()):parseInt(n)}function p(){if(e||t>11)return;e=!0,n.disabled=!0,o.classList.add("spinning"),a.textContent="THINKING...",d.textContent="";let s=0;const i=setInterval(()=>{o.textContent=m[Math.floor(Math.random()*m.length)],s++,40===s&&(clearInterval(i),o.classList.remove("spinning"),function(n){l++,u.textContent=l,d.textContent=`Vừa quay: +${n} điểm`,d.style.color=n>0?"#51cf66":"#ff6b6b",t+=n,o.textContent=t,r.textContent=t,setTimeout(()=>{11===t?(c.innerHTML='<div class="winner-message">🎉 CHÚC MỪNG! BẠN TRÚNG 11 ĐIỂM! 🎉</div>',a.textContent="🏆 HÃY NHẬN QUÀ CỦA BẠN!",a.style.color="#ffd700",slot103_btnAdd.disabled=!0,slot103_btnClaim.style.display="block",slot103_btnClaim.style.left="50%",slot103_btnClaim.style.top="350px",slot103_btnClaim.style.transform="translateX(-50%)"):t>11?(c.innerHTML=`<div class="loser-message">Vượt quá! Tổng: ${t} điểm (Cần đúng 11)</div>`,a.textContent="Thất bại! Thử lại nhé!",a.style.color="#ff6b6b",slot103_btnAdd.disabled=!0):(a.textContent=`Còn thiếu ${11-t} điểm nữa!`,a.style.color="#00f5ff",slot103_btnAdd.disabled=!1),e=!1},300)}(f()))},50)}i.addEventListener("mouseover",function(){const t=document.getElementById("slot-103").getBoundingClientRect(),e=Math.random()*(t.width-200),l=Math.random()*(t.height-100)+100;i.style.left=e+"px",i.style.top=l+"px",i.style.transform="none"}),i.addEventListener("click",function(){alert("🎉 Chúc mừng! Bạn đã bắt được nút! (Nhưng không có quà đâu 😂)")}),n.addEventListener("click",p),s.addEventListener("click",()=>{t=0,l=0,o.textContent="?",r.textContent="0",u.textContent="0",a.textContent="Bấm để quay số may mắn!",a.style.color="#00f5ff",d.textContent="",c.innerHTML="",n.disabled=!1,i.style.display="none",e=!1})}()</script></div>
<!-- END SLOT 103 -->
<!-- SLOT 104: DEV CHAT -->
 <div id="slot-104">
      <div class="chat-header">💬 Kênh Chat</div>
      <div class="chat-messages" id="slot104ChatMessages">
        <div class="empty-state">
          Chưa có tin nhắn nào. Hãy gửi tin nhắn đầu tiên!
        </div>
      </div>

      <div class="chat-input-area">
        <div class="input-group">
          <label for="userName"
            >Tên của bạn <span style="color: red">*</span></label
          >
          <input
            type="text"
            id="userName"
            placeholder="Nhập tên của bạn..."
            required
          />
        </div>

        <div class="input-group">
          <label for="userMessage">Tin nhắn</label>
          <textarea id="userMessage" placeholder="Nhập tin nhắn..."></textarea>
        </div>

        <div class="input-group">
          <label>Chọn hiệu ứng</label>
          <div class="effect-buttons">
            <button
              class="effect-button"
              onclick="selectEffect('flower')"
              data-effect="flower"
            >
              🌸
              <span>Hoa</span>
            </button>
            <button
              class="effect-button"
              onclick="selectEffect('rain')"
              data-effect="rain"
            >
              💧
              <span>Mưa</span>
            </button>
            <button
              class="effect-button"
              onclick="selectEffect('lightning')"
              data-effect="lightning"
            >
              ⚡
              <span>Sấm sét</span>
            </button>
            <button
              class="effect-button"
              onclick="selectEffect('heart')"
              data-effect="heart"
            >
              ❤️
              <span>Tim</span>
            </button>
          </div>
        </div>

        <button class="send-button" onclick="sendMessage()">
          Gửi tin nhắn
        </button>
      </div>
      <style>
      #slot-104 {
        max-width: 800px;
        margin: 20px auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        height: 90vh;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      #slot-104 .chat-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 24px;
        font-weight: bold;
      }

      #slot-104 .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
        background: #f5f5f5;
      }

      #slot-104 .message-item {
        background: white;
        padding: 12px 16px;
        margin-bottom: 12px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        animation: slot-104-slideIn 0.3s ease-out;
      }

      @keyframes slot-104-slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      #slot-104 .message-name {
        font-weight: bold;
        color: #667eea;
        margin-bottom: 4px;
        font-size: 14px;
      }

      #slot-104 .message-text {
        color: #333;
        font-size: 15px;
        line-height: 1.4;
      }

      #slot-104 .message-time {
        font-size: 11px;
        color: #999;
        margin-top: 4px;
      }

      #slot-104 .chat-input-area {
        padding: 20px;
        background: white;
        border-top: 1px solid #e0e0e0;
      }

      #slot-104 .input-group {
        margin-bottom: 12px;
      }

      #slot-104 .input-group label {
        display: block;
        margin-bottom: 6px;
        color: #555;
        font-weight: 600;
        font-size: 14px;
      }

      #slot-104 .input-group input,
      #slot-104 .input-group textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 14px;
        font-family: inherit;
        transition: border-color 0.3s;
        box-sizing: border-box;
      }

      #slot-104 .input-group input:focus,
      #slot-104 .input-group textarea:focus {
        outline: none;
        border-color: #667eea;
      }

      #slot-104 .input-group textarea {
        resize: vertical;
        min-height: 60px;
      }

      #slot-104 .send-button {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
      }

      #slot-104 .send-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      #slot-104 .send-button:active {
        transform: translateY(0);
      }

      #slot-104 .effect-buttons {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
        flex-wrap: wrap;
      }

      #slot-104 .effect-button {
        flex: 1;
        min-width: 60px;
        padding: 10px;
        border: 2px solid #e0e0e0;
        background: white;
        border-radius: 8px;
        font-size: 20px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
      }

      #slot-104 .effect-button span {
        font-size: 11px;
        color: #666;
      }

      #slot-104 .effect-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      #slot-104 .effect-button.active {
        border-color: #667eea;
        background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
        transform: scale(1.05);
      }

      #slot-104 .falling-icon {
        position: fixed;
        font-size: 30px;
        pointer-events: none;
        z-index: 9999;
        animation: slot-104-fall linear forwards;
      }

      @keyframes slot-104-fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }

      #slot-104 .alert-sticky {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4caf50;
        color: white;
        padding: 16px 24px;
        border-radius: 8px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        z-index: 10000;
        animation: slot-104-slideInRight 0.4s ease-out;
        max-width: 300px;
      }

      @keyframes slot-104-slideInRight {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      #slot-104 .alert-sticky.fade-out {
        animation: slot-104-fadeOut 0.4s ease-out forwards;
      }

      @keyframes slot-104-fadeOut {
        to {
          opacity: 0;
          transform: translateX(100px);
        }
      }

      #slot-104 .empty-state {
        text-align: center;
        color: #999;
        padding: 40px 20px;
        font-style: italic;
      }

      #slot-104 .chat-messages::-webkit-scrollbar {
        width: 8px;
      }

      #slot-104 .chat-messages::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      #slot-104 .chat-messages::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 4px;
      }

      #slot-104 .chat-messages::-webkit-scrollbar-thumb:hover {
        background: #555;
      }
    </style>
      <script>
      let slot104MessagesDevChat = JSON.parse(localStorage.getItem("slot104ChatMessages")) || [];
      let slot104SelectedEffect = null;
      let slot104LastMessageCount = slot104MessagesDevChat.length;
      let slot104LastAlertedMessageIndex = slot104MessagesDevChat.length - 1;

      displayMessages();

      function selectEffect(effect) {
        document.querySelectorAll("#slot-104 .effect-button").forEach((btn) => {
          btn.classList.remove("active");
        });

        if (slot104SelectedEffect === effect) {
          slot104SelectedEffect = null;
        } else {
          slot104SelectedEffect = effect;
          document
            .querySelector(`#slot-104 [data-effect="${effect}"]`)
            .classList.add("active");
        }
      }

      function sendMessage() {
        const userName = document.getElementById("userName").value.trim();
        const userMessage = document.getElementById("userMessage").value.trim();

        if (!userName) {
          showAlert("⚠️ Vui lòng nhập tên của bạn!", "warning");
          return;
        }

        if (!userMessage) {
          showAlert("⚠️ Vui lòng nhập tin nhắn!", "warning");
          return;
        }

        const message = {
          name: userName,
          text: userMessage,
          timestamp: new Date().toLocaleString("vi-VN"),
          effect: slot104SelectedEffect,
        };

        slot104MessagesDevChat.push(message);
        localStorage.setItem("slot104ChatMessages", JSON.stringify(slot104MessagesDevChat));
        displayMessages();
        document.getElementById("userMessage").value = "";

        if (slot104SelectedEffect) {
          triggerEffect(slot104SelectedEffect);
          slot104SelectedEffect = null;
          document
            .querySelectorAll("#slot-104 .effect-button")
            .forEach((btn) => {
              btn.classList.remove("active");
            });
        }

        showAlert(
          `Người dùng "${userName}" đã gửi lời nhắn: "${userMessage}"`,
          "success"
        );
        slot104LastAlertedMessageIndex = slot104MessagesDevChat.length - 1;
        scrollToBottom();
      }

      function triggerEffect(effect) {
        const effectIcons = {
          flower: ["🌸", "🌺", "🌼", "🌻", "🌷"],
          rain: ["💧", "💦", "🌧️"],
          lightning: ["⚡", "🌩️", "⚡"],
          heart: ["❤️", "💕", "💖", "💗", "💝"],
        };

        const icons = effectIcons[effect];
        const iconCount = 30;

        for (let i = 0; i < iconCount; i++) {
          setTimeout(() => {
            createFallingIcon(icons[Math.floor(Math.random() * icons.length)]);
          }, i * 100);
        }
      }

      function createFallingIcon(icon) {
        const fallingIcon = document.createElement("div");
        fallingIcon.className = "falling-icon";
        fallingIcon.textContent = icon;
        fallingIcon.style.left = Math.random() * 100 + "%";
        fallingIcon.style.top = "-50px";

        const duration = 2 + Math.random() * 2;
        fallingIcon.style.animationDuration = duration + "s";

        document.querySelector("#slot-104").appendChild(fallingIcon);

        setTimeout(() => {
          fallingIcon.remove();
        }, duration * 1000);
      }

      function displayMessages() {
        const slot104ChatMessages = document.getElementById("slot104ChatMessages");

        if (slot104MessagesDevChat.length === 0) {
          slot104ChatMessages.innerHTML =
            '<div class="empty-state">Chưa có tin nhắn nào. Hãy gửi tin nhắn đầu tiên!</div>';
          return;
        }

        slot104ChatMessages.innerHTML = slot104MessagesDevChat
          .map(
            (msg) => `
                <div class="message-item">
                    <div class="message-name">${escapeHtml(msg.name)}</div>
                    <div class="message-text">${escapeHtml(msg.text)}</div>
                    <div class="message-time">${msg.timestamp}</div>
                </div>
            `
          )
          .join("");
      }

      function showAlert(message, type) {
        const existingAlerts = document.querySelectorAll(
          "#slot-104 .alert-sticky"
        );
        existingAlerts.forEach((alert) => alert.remove());

        const alert = document.createElement("div");
        alert.className = "alert-sticky";
        alert.textContent = message;

        if (type === "warning") {
          alert.style.background = "#ff9800";
        }

        document.querySelector("#slot-104").appendChild(alert);

        setTimeout(() => {
          alert.classList.add("fade-out");
          setTimeout(() => alert.remove(), 400);
        }, 3000);
      }

      function scrollToBottom() {
        const slot104ChatMessages = document.getElementById("slot104ChatMessages");
        slot104ChatMessages.scrollTop = slot104ChatMessages.scrollHeight;
      }

      function escapeHtml(text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      }

      document
        .getElementById("userMessage")
        .addEventListener("keydown", function (e) {
          if (e.key === "Enter" && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
          }
        });

      setInterval(() => {
        const storedMessages =
          JSON.parse(localStorage.getItem("slot104ChatMessages")) || [];

        if (storedMessages.length > slot104LastMessageCount) {
          const newMessages = storedMessages.slice(slot104LastMessageCount);

          newMessages.forEach((msg, index) => {
            const messageIndex = slot104LastMessageCount + index;

            if (messageIndex > slot104LastAlertedMessageIndex) {
              showAlert(
                `Người dùng "${msg.name}" đã gửi lời nhắn: "${msg.text}"`,
                "success"
              );
              slot104LastAlertedMessageIndex = messageIndex;
            }

            if (msg.effect) {
              triggerEffect(msg.effect);
            }
          });

          slot104LastMessageCount = storedMessages.length;
          slot104MessagesDevChat = storedMessages;
          displayMessages();
          scrollToBottom();
        }
      }, 2000);
    </script>
    </div>
<!-- END SLOT 104 -->
    </body>
</html>
